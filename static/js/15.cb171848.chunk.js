(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[15],{643:function(e,t,n){"use strict";n(2);var a=n(332),r=n(50),i=n(331),c=n(334),o=n(205),l=n(25),s=n(1),d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4};Object(r.a)(a.a)((function(){return{display:"block",color:"#fff",marginTop:"20px",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}}));t.a=function(e){var t=e.open,n=e.onConfirmDialogClose,r=e.text,u=(e.onYesClick,Object(l.f)()),b=function(){n(),localStorage.removeItem("accessToken"),u("/session/signin")};return Object(s.jsx)("div",{children:Object(s.jsx)(i.a,{keepMounted:!0,open:t,onClose:function(){return b()},"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(s.jsxs)(o.a,{sx:d,children:[Object(s.jsx)(c.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",sx:{color:"#333"},children:r}),Object(s.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"1rem"},children:Object(s.jsx)(o.a,{position:"relative",sx:{display:"block",marginTop:"20px"},children:Object(s.jsx)(a.a,{color:"primary",variant:"contained",onClick:function(){return b()},children:"Ok"})})})]})})})}},645:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"h",(function(){return l})),n.d(t,"l",(function(){return s})),n.d(t,"n",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"m",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return j})),n.d(t,"i",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"k",(function(){return p}));var a=n(26),r=function(e,t){var n="/api/clients?pagination[page]=".concat(e,"&counsellor=").concat(t);return Object(a.b)("GET",n).then((function(e){return e})).then((function(e){return e}))},i=function(e,t){var n="/api/centers?pagination[page]=".concat(e,"&counsellor=").concat(t);return Object(a.b)("GET",n).then((function(e){return e})).then((function(e){return e}))},c=function(e){var t="/api/counsellors?pagination[page]=".concat(e);return Object(a.b)("GET",t).then((function(e){return e})).catch((function(e){return e}))},o=function(e,t){var n="/api/sessions?pagination[page]=".concat(e,"&counsellor=").concat(t);return Object(a.b)("GET",n).then((function(e){return e})).then((function(e){return e}))},l=function(e,t,n,r){console.log(r);var i="/api/sessions?filter=".concat(e,"&counsellor=").concat(n,"&filterType=").concat(r);return console.log(e),Object(a.b)("GET",i).then((function(e){return e})).catch((function(e){return e}))},s=function(e,t){var n="/api/sessions?find=".concat(e);return Object(a.b)("GET",n).then((function(e){return e})).catch((function(e){return e}))},d=function(e,t){var n="/api/sessions/".concat(e);return Object(a.b)("PUT",n,t).then((function(e){return e})).then((function(e){return e}))},u=function(e,t){var n="/api/clients?find=".concat(e);return Object(a.b)("GET",n).then((function(e){return e})).catch((function(e){return e}))},b=function(e,t){var n="/api/counsellors?pagination[page]=".concat(t,"&search=").concat(e);return Object(a.b)("GET",n).then((function(e){return e})).catch((function(e){return e}))},m=function(e){var t="/api/counsellors/".concat(e);return Object(a.b)("GET",t).then((function(e){return e})).catch((function(e){return e}))},j=function(e,t,n,r){console.log(r);var i="/api/clients?filter=".concat(e,"&counsellor=").concat(n,"&filterType=").concat(r);return console.log(e),Object(a.b)("GET",i).then((function(e){return e})).catch((function(e){return e}))},h=function(e,t,n){var r="/api/centers?search=".concat(e,"&counsellor=").concat(n);return console.log(e),Object(a.b)("GET",r).then((function(e){return e})).catch((function(e){return e}))},f=function(e,t,n){var r="/api/centers?filter=".concat(e,"&counsellor=").concat(n);return console.log(e),Object(a.b)("GET",r).then((function(e){return e})).catch((function(e){return e}))},p=function(e){var t=e&&e.search||"",n=e&&e.page||1,r=e&&e.centerName,i="/api/counsellors?search=".concat(t,"&pagination[page]=").concat(n);return r&&(i+="&centerName=".concat(r)),Object(a.b)("GET",i).then((function(e){return e})).catch((function(e){return e}))}},646:function(e,t,n){"use strict";var a=n(13),r=(n(2),n(566)),i=n(568),c=n(640),o=n(565),l=n(567),s=n(336),d=n(208),u=n(25),b=(n(650),n(557)),m=n(692),j=n(552),h=n(571),f=n.n(h),p=n(572),v=n.n(p),O=n(573),g=n.n(O),x=n(95),y=n(332),C=n(1),S={new:"New",inProcess:"In Process",successful:"Successful",unsuccessful:"Unsuccessful",pending:"Pending",scheduled:"Scheduled",rescheduled:"Rescheduled",cancelled:"Cancelled",completed:"Completed"};t.a=function(e){var t=Object(u.f)(),n=Object(x.a)().user,h=function(e){var t=e.meta,n=[];if(t)for(var r=Object.entries(t),i=0,o=Object.entries(r);i<o.length;i++){var l=Object(a.a)(o[i],2),s=l[0],d=Object(a.a)(l[1],2),u=d[0],b=d[1];"deviceId"!==u&&"counsellor_user_id"!==u&&n.push(Object(C.jsx)(c.a,{width:"scheduledAt"===u?140:60,variant:"head",align:"center",className:"text-style",children:b},s))}return n},p=function(t,n){return Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(a){a.stopPropagation(),t.disabled?e.handleEnable("center"===n?t.center_id:t.provider_id):e.handleDisable("center"===n?t.center_id:t.provider_id)},children:t.disabled?"Enable":"Disable"})},O=function(a,r,i){var c=null;switch(a){case"edit_action":c=Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(){return t(r)},children:"Edit"});break;case"return":c=Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.stopPropagation(),e.handleReturn(i)},disabled:!r,children:"Return"});break;case"expire":c=Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.stopPropagation(),e.handleExpire(i)},disabled:!r,children:"Expire"});break;case"device_action":c=function(t){return t.isAssigned?Object(C.jsx)("div",{style:{marginLeft:"1rem"},children:t.center_name}):n&&n.role&&"admin"===n.role.type&&"bmc"===t.owned_by?Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(){return e.handleOpen(t.deviceID,!0)},children:"Assign"}):null}(r);break;case"view_notes":c=function(t){return Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(C.jsx)(b.a,{"aria-label":"view",color:"primary",onClick:function(){return e.handleOpen(t,!0)},children:Object(C.jsx)(m.a,{badgeContent:t.notes?t.notes.length:0,color:"secondary",children:Object(C.jsx)(f.a,{})})}),Object(C.jsx)(b.a,{"aria-label":"view",color:"primary",onClick:function(){return e.handleOpenNewNotes(t,!0)},children:Object(C.jsx)(v.a,{})})]})}(r);break;case"clinician_status":c=function(t,a){return"Not Assigned"!==t?Object(C.jsx)("div",{children:t}):n&&n.role&&"admin"===n.role.type?Object(C.jsx)("div",{children:"Not Assigned"}):n&&n.role&&"center"===n.role.type?Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.stopPropagation(),e.assignClinician(a)},children:"Assign"}):void 0}(r,i);break;case"device_status":c=function(t,a){return"Not Assigned"!==t?Object(C.jsx)("div",{children:t}):n&&n.role&&"admin"===n.role.type?Object(C.jsx)("div",{children:"Not Assigned"}):n&&n.role&&"center"===n.role.type?Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.stopPropagation(),e.issueDevices(a)},disabled:"Not Issued"===a.license,children:"Assign"}):void 0}(r,i);break;case"license":c=function(t,a){return"Issued"===t?Object(C.jsx)("div",{children:"Issued"}):n&&n.role&&"admin"===n.role.type?Object(C.jsx)("div",{children:"Not Issued"}):n&&n.role&&"center"===n.role.type?Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.stopPropagation(),e.issueLisence(a)},children:"Issue"}):void 0}(r,i);break;case"scheduledAt":c=function(t){return"scheduled"==t.status?Object(C.jsxs)("div",{style:{marginLeft:"1rem"},children:[t.scheduledAt,Object(C.jsx)(b.a,{"aria-label":"view",color:"primary",children:"counsellor"===n.role.type&&Object(C.jsx)(g.a,{})})]}):"pending"==t.status?Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(C.jsx)(y.a,{variant:"contained",color:"success",style:{marginRight:5},onClick:function(){return e.handleAcceptModal(t,!0)},children:Object(C.jsx)("div",{style:{fontSize:".8rem"},children:"Accept"})}),Object(C.jsx)(y.a,{variant:"contained",color:"error",onClick:function(){return e.handleRejectModal(t,!0)},children:Object(C.jsx)("div",{style:{fontSize:".8rem"},children:"Reject"})})]}):"cancelled"==t.status?Object(C.jsx)("div",{style:{marginLeft:"1rem"},children:"".concat(t.scheduledAt," - Cancelled")}):Object(C.jsxs)("div",{style:{marginLeft:"1rem"},children:[t,Object(C.jsx)(b.a,{"aria-label":"view",color:"primary",children:"counsellor"===n.role.type&&Object(C.jsx)(g.a,{})})]})}(r);break;case"appointment":c=function(t,a){return"Scheduled"===t?Object(C.jsx)("div",{children:"Scheduled"}):n&&n.role&&"admin"===n.role.type?Object(C.jsx)("div",{children:"Not Scheduled"}):n&&n.role&&"center"===n.role.type?Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.stopPropagation(),e.scheduleSession(a)},children:"Schedule"}):void 0}(r,i);break;case"status":c=S[r]||r;break;case"disable_center":c=p(r,"center");break;case"disable_provider":c=p(r,"provider");break;default:c=r}return c},A=function(e){for(var t=e.row,n=[],r=Object.entries(t),i=0,o=Object.entries(r);i<o.length;i++){var l=Object(a.a)(o[i],2),s=l[0],d=Object(a.a)(l[1],2),u=d[0],b=d[1];"centerId"!==u&&"clientID"!==u&&"clinicId"!==u&&"deviceId"!==u&&"counsellor_user_id"!==u&&n.push(Object(C.jsx)(c.a,{className:"text-style",component:"th",scope:"row",align:"center",children:O(u,b,t)},s))}return n};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(d.a,{sx:{width:"100%",overflow:"hidden"},children:[Object(C.jsx)(o.a,{className:"main-table",children:Object(C.jsxs)(r.a,{sx:{minWidth:650},size:"small","aria-label":"simple table",className:"user-table",children:[Object(C.jsx)(l.a,{children:Object(C.jsx)(s.a,{children:Object(C.jsx)(h,{meta:e.rows.meta})})}),e.rows&&e.rows.length>0?Object(C.jsx)(i.a,{children:(e.rowsPerPage>0?e.rows.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage):e.rows).map((function(t,n){return Object(C.jsx)(s.a,{sx:{"&:last-child td, &:last-child th":{border:0}},onClick:function(){e.onClick&&e.onClick("device"===e.view?t.deviceId:"center"===e.view?t.centerId:"client"===e.view||"counselor"===e.view?t.clientID:"counsellor"===e.view?t.counsellor_user_id:"clinician"===e.view?t.clinicId:t.id)},children:Object(C.jsx)(A,{row:t})},n)}))}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("caption",{children:"No records found"})})]})}),!e.view||"center"!==e.view&&"device"!==e.view&&"client"!==e.view&&"counsellor"!==e.view&&"clinician"!==e.view?Object(C.jsx)(j.a,{rowsPerPageOptions:[],component:"div",count:e.rows.length,rowsPerPage:e.rowsPerPage||10,page:e.page||0,onPageChange:e.handleChangePage,onRowsPerPageChange:e.handleChangeRowsPerPage,className:"table-page"}):Object(C.jsx)(j.a,{rowsPerPageOptions:[],component:"div",count:e.pageDetails.total||0,rowsPerPage:10,page:e.pageDetails.page-1||0,onPageChange:e.handlePageChange,onRowsPerPageChange:e.handleChangeRowsPerPage,className:"table-page"})]})})}},647:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a={admin:[{id:1,name:"Details"},{id:2,name:"Centers"},{id:3,name:"Providers"},{id:4,name:"Clients"}],center:[{id:1,name:"Details"},{id:3,name:"Providers"},{id:4,name:"Clients"}],counsellor:[{id:1,name:"Details"},{id:2,name:"Centers"},{id:4,name:"Clients"}],clinician:[{id:1,name:"Details"},{id:2,name:"Clients"},{id:3,name:"Appointments"}],client:[{id:1,name:"Details"},{id:2,name:"Providers"},{id:3,name:"Appointments"}],device:{admin:[{id:1,name:"Managed"},{id:2,name:"Unmanaged"}],center:[{id:1,name:"Managed"},{id:2,name:"Unmanaged"}]},deviceDetail:[{id:1,name:"Details"},{id:2,name:"Usage"}],deviceUsageFilters:[{id:1,type:"search",label:"Search Device Usage",placeholder:"Search Device Usage"},{id:2,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"Active",value:"Active"},{id:3,name:"Inactive",value:"Inactive"}]}],usersListing:[{id:1,type:"search",label:"Search User",placeholder:"Search User"},{id:2,type:"filter",label:"Role",name:"role",items:[{id:1,name:"All",value:"All"},{id:2,name:"Center",value:"Center"},{id:3,name:"Counsellor",value:"Counsellor"},{id:4,name:"Client",value:"Client"}]}],counsellorListing:[{id:1,type:"search",label:"Search Provider",placeholder:"Search Provider"},{id:2,type:"searchAutoComplete",label:"Search Center",name:"Search Center"}],deviceListing:{admin:{managed:[{id:1,type:"search",label:"Search Device",placeholder:"Search Device"},{id:2,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"Available",value:"Available"},{id:3,name:"Assigned",value:"Assigned"},{id:4,name:"Repair",value:"Repair"}]},{id:3,type:"filter",label:"Device Type",name:"device_type",items:[{id:1,name:"All",value:"All"},{id:2,name:"iPad",value:"iPad"},{id:3,name:"iPhone",value:"iPhone"},{id:4,name:"Android Phone",value:"Android Phone"},{id:5,name:"Android Tablet",value:"Android Tablet"},{id:6,name:"Other",value:"Other"}]},{id:4,type:"searchAutoComplete",label:"Search Center",name:"Search Center"}],unmanaged:[{id:1,type:"search",label:"Search Device",placeholder:"Search Device"},{id:2,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"Active",value:"active"},{id:3,name:"Inactive",value:"inactive"}]}]},center:{bmc:[{id:1,type:"search",label:"Search Device",placeholder:"Search Device"},{id:2,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"Available",value:"Available"},{id:3,name:"Assigned",value:"Assigned"},{id:4,name:"Repair",value:"Repair"}]},{id:3,type:"filter",label:"Device Type",name:"device_type",items:[{id:1,name:"All",value:"All"},{id:2,name:"iPad",value:"iPad"},{id:3,name:"iPhone",value:"iPhone"},{id:4,name:"Android Phone",value:"Android Phone"},{id:5,name:"Android Tablet",value:"Android Tablet"},{id:6,name:"Other",value:"Other"}]}],centerOrClient:[{id:1,type:"search",label:"Search Device",placeholder:"Search Device"},{id:2,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"Active",value:"active"},{id:3,name:"Inactive",value:"inactive"}]}]}},adminProfile:{profileInfo:{username:"",email:"",created_at:"",logo:null,logo_image:"",domain:""},fields:[]},centerProfile:{profileInfo:{center_id:"",name:"",email:"",phone_number:"",address:"",logo:null,logo_image:"",domain:""},fields:[{id:"center_id",type:"text",name:"center_id",label:"Center ID",disabled:!0},{id:"name",type:"text",name:"name",label:"Name",disabled:!1,validators:["REQUIRED"],errorMessages:["This field is required!"]},{id:"email",type:"email",name:"email",label:"Email",disabled:!1,validators:["REQUIRED","isEmail"],errorMessages:["This field is required!","email is not valid"]},{id:"phone_number",type:"text",name:"phone_number",label:"Phone Number",disabled:!1,validators:["REQUIRED","MAX_PHONE_LENGTH"],errorMessages:["This field is required!","Phone number must be of 7 digits"]},{id:"address",type:"text",name:"address",label:"Address",disabled:!1,validators:["REQUIRED"],errorMessages:["This field is required!"]}],validationRules:{REQUIRED:function(e){return 0!==e.length},MAX_PHONE_LENGTH:function(e){return!e||7===e.length}}},counsellorProfile:{profileInfo:{first_name:"",last_name:"",email:"",phone:{area_code:"",phone_number:""},logo:null,logo_image:"",domain:""},fields:[{id:"first_name",type:"text",name:"first_name",label:"First Name",disabled:!1,validators:["REQUIRED"],errorMessages:["This field is required!"]},{id:"last_name",type:"text",name:"last_name",label:"Last Name",disabled:!1,validators:["REQUIRED"],errorMessages:["This field is required!"]},{id:"email",type:"email",name:"email",label:"Email",disabled:!1,validators:["REQUIRED","isEmail"],errorMessages:["This field is required!","email is not valid"]},{type:"phone",area_code:{id:"area_code",type:"text",name:"area_code",label:"Area Code",disabled:!1,validators:["REQUIRED","VALID_INPUT","MAX_CODE_LENGTH"],errorMessages:["This field is required","Invalid area code","Area code should have 3 digits"]},phone_number:{id:"phone_number",type:"text",name:"phone_number",label:"Phone Number",disabled:!1,validators:["REQUIRED","MAX_PHONE_LENGTH"],errorMessages:["This field is required!","Phone number must be of 7 digits"]}}],validationRules:{REQUIRED:function(e){return 0!==e.length},MAX_CODE_LENGTH:function(e){return!e||3===e.length},VALID_INPUT:function(e){return!e||!isNaN(e)},MAX_PHONE_LENGTH:function(e){return!e||7===e.length}}},centerSearchFilters:[{id:1,type:"search",name:"search",label:"Search Center",placeholder:"Search Center"},{id:2,type:"filter",label:"Center Type",name:"center_type",items:[{id:1,name:"All",value:"All"},{id:2,name:"CAC",value:"CAC"},{id:3,name:"Clinic",value:"Clinic"},{id:4,name:"Hospital",value:"Hospital"},{id:5,name:"Private",value:"Private"}]}],appointmentsListing:[{id:1,type:"search",name:"search",label:"Search Appointment",placeholder:"Search Appointment"},{id:2,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"Pending",value:"pending"},{id:3,name:"Scheduled",value:"scheduled"},{id:4,name:"Rescheduled",value:"rescheduled"},{id:5,name:"Cancelled",value:"cancelled"},{id:6,name:"Completed",value:"completed"}]}]},r={client:[{id:1,name:"Details"},{id:5,name:"Appointments"}],center:[{id:1,name:"Details"},{id:4,name:"Clients"},{id:5,name:"Appointments"}]}},650:function(e,t,n){},656:function(e,t,n){"use strict";var a=n(2);e.exports=function(e){var t=a.useState(e),n=t[0],r=t[1],i=a.useRef(n);return[n,a.useCallback((function(e){i.current=function(e){return"function"===typeof e}(e)?e(i.current):e,r(i.current)}),[]),i]}},659:function(e,t,n){},662:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(26),r=function(e){var t="/api/centers";return e&&(t+="?pagination[page]=".concat(e)),Object(a.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},i=function(){return Object(a.b)("GET","/api/centers?all=-1").then((function(e){return e})).then((function(e){return e}))},c=function(e){var t="/api/centers/".concat(e);return Object(a.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},o=function(e,t,n){var r="/api/centers?search=".concat(e,"&filter=").concat(t,"&pagination[page]=").concat(n);return Object(a.b)("GET",r).then((function(e){return e})).catch((function(e){return e}))}},667:function(e,t,n){"use strict";var a=n(13),r=n(2),i=n.n(r),c=n(332),o=n(627),l=n(628),s=n(637),d=n(638),u=n(330),b=n(560),m=n(561),j=n(551),h=n(636),f=n(207),p=n(309),v=n(639),O=n(50),g=n(51),x=n.n(g),y=n(656),C=n.n(y),S=n(1);Object(O.a)(c.a)((function(){return{display:"block",color:"#fff",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}}));t.a=function(e){var t=Object(r.useState)(""),n=Object(a.a)(t,2),O=n[0],g=n[1],y=C()([]),A=Object(a.a)(y,3),w=A[0],_=A[1],k=A[2],I=Object(r.useState)(""),D=Object(a.a)(I,2),P=D[0],E=D[1],R=Object(r.useState)([]),N=Object(a.a)(R,2),M=N[0],T=N[1],L=Object(r.useState)(""),Y=Object(a.a)(L,2),V=(Y[0],Y[1]),z=function(){E(""),_([]),T([]),e.handleClose()};Object(r.useEffect)((function(){e.data&&(g(e.data.clientId),V(e.data.sessionId),e.multipleSession&&e.data.notes&&T(e.data.notes),e.multipleSession||(e.data.notes&&e.data.notes.sort((function(e,t){return new Date(t.updatedAt)-new Date(e.updatedAt)})),_(e.data.notes)))}),[e]);return Object(S.jsx)(i.a.Fragment,{children:Object(S.jsxs)(o.a,{fullWidth:!0,maxWidth:"sm",open:e.open,onClose:z,children:[Object(S.jsx)(l.a,{children:"Notes"}),Object(S.jsxs)(s.a,{children:[Object(S.jsxs)(d.a,{children:["Client : ",O]}),e.multipleSession&&Object(S.jsx)(u.a,{noValidate:!0,component:"form",lg:12,md:6,sm:12,xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",width:"50%"},children:Object(S.jsxs)(b.a,{sx:{mt:2,minWidth:120},children:[Object(S.jsx)(m.a,{htmlFor:"max-width",children:"Select Session"}),Object(S.jsx)(j.a,{autoFocus:!0,value:P,onChange:function(e){E(e.target.value);var t=M.filter((function(t){return t.attributes.session_id==e.target.value}));t&&(t[0].attributes.notes.data.sort((function(e,t){return new Date(t.updatedAt)-new Date(e.updatedAt)})),_(function(e){var t=[];return e&&e.map((function(e){t.push(e.attributes)})),t}(t[0].attributes.notes.data))),console.log(k.current)},label:"Select Session",inputProps:{name:"max-width",id:"max-width"},children:M&&M.map((function(e,t){return Object(S.jsx)(h.a,{value:e.attributes.session_id,children:"".concat(e.attributes.session_id," - ").concat(x()(e.attributes.scheduled_at).format("DD MMMM, YYYY"))},t)}))})]})}),Object(S.jsxs)(d.a,{children:[k.current&&k.current.map((function(e,t){return Object(S.jsxs)(f.a,{item:!0,lg:12,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(S.jsx)(p.a,{fullWidth:!0,multiline:!0,rows:3,inputProps:{readOnly:!0},defaultValue:e.details},"".concat(t)),Object(S.jsxs)(f.a,{container:!0,style:{display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)(f.a,{children:e.added_by}),Object(S.jsx)(f.a,{children:x()(e.updatedAt).format("DD/MM/YYYY hh:mm A")})]})]})})),!w&&M&&Object(S.jsx)(f.a,{mt:2,children:"No Record Found"})]})]}),Object(S.jsx)(v.a,{children:Object(S.jsx)(c.a,{variant:"contained",type:"submit",onClick:z,children:"Close"})})]})})}},668:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return d}));var a=n(51),r=n.n(a),i=n(73);function c(e){var t=[];return Array.isArray(e)?e.forEach((function(e){t.push(u(e))})):t.push(u(e)),t.meta={centerId:"Center ID",name:"Full Name",email:"Email",phoneNumber:"Phone Number",state:"State",centerType:"Center Type",dateCreated:"Date Created"},t}function o(e){var t=[];if(Array.isArray(e))e.forEach((function(e){var n={id:e&&e.user&&e.user.username,name:e.name,email:e.email,phoneNumber:e.phone_number.toString(),createdAt:r()(e.createdAt).format("DD MMMM, YYYY")};t.push(n)}));else{var n={id:e&&e.user&&e.user.username,name:e.name,email:e.email,phoneNumber:e.phone_number,createdAt:r()(e.createdAt).format("DD MMMM, YYYY")};t.push(n)}return t.meta={counsellorId:"Provider ID",name:"Full Name",email:"Email ID",phoneNumber:"Phone Number",dateCreated:"Date Created"},t}function l(e){var t=[];if(Array.isArray(e))e.forEach((function(e){var n={id:e.client_id,name:e.name,age:e.age,gender_bio:e.gender_bio,gender_id:e.gender_identified,ethnicity:e.ethnicity,status:e.status,createdAt:r()(e.createdAt).format("DD MMMM, YYYY")};t.push(n)}));else{var n={id:e.id,name:e.name,age:e.age,gender_bio:e.gender_bio,gender_id:e.gender_identified,status:e.status,createdAt:r()(e.createdAt).format("DD MMMM, YYYY")};t.push(n)}return t.meta={clientId:"Client ID",name:"Record Name",age:"Age",gender_bio:"Gender",gender_id:"Gender ID",ethnicity:"Ethnicity",status:"Status",dateCreated:"Date Created"},t}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=[];return n&&"provider"!==n?(t={counsellor_name:"Provider Name",caseId:"Case ID",sessionId:"Session ID",scheduledAt:"Scheduled At",duration:"Duration",status:"Status"},e.forEach((function(e){var t={counsellor_name:e&&e.counsellor&&e.counsellor.name,caseId:e.case_id,sessionId:e.session_id,scheduledAt:r()(e.scheduled_at).format("LLL"),duration:Object(i.e)(e.duration),status:e.status};a.push(t)}))):(t={caseId:"Case ID",sessionId:"Session ID",scheduledAt:"Scheduled At",duration:"Duration",status:"Status"},e.forEach((function(e){var t={caseId:e.case_id,sessionId:e.session_id,scheduledAt:r()(e.scheduled_at).format("LLL"),duration:Object(i.e)(e.duration),status:e.status};a.push(t)}))),a.meta=t,a}function d(e){var t="http://localhost:1337"+e[e.role.name.toLowerCase()].logo_image;return{UserID:e.username,name:b(e),phoneNumber:e[e.role.name.toLowerCase()].phone_number,email:e.email,verified:e.confirmed,logo:t,date_created:r()(e.createdAt).format("DD MMMM, YYYY"),role:e.role.name}}function u(e){var t,n,a,i;return console.log(null===(t=e.user)||void 0===t?void 0:t.username),{centerId:e.id,id:null===(n=e.user)||void 0===n?void 0:n.username,name:e.name,email:e.email,phoneNumber:e.phone_number,state:null===(a=e.state)||void 0===a?void 0:a.name,centerType:null===(i=e.center_type)||void 0===i?void 0:i.name,createdAt:r()(e.createdAt).format("DD MMMM, YYYY")}}function b(e){var t="";switch(e.role.name){case"Center":t=e.center&&e.center.name?e.center.name:"";break;case"Counsellor":t=e.counsellor&&e.counsellor.name?e.counsellor.name:"";break;case"Client":t=e.client&&e.client.name?e.client.name:"";break;case"Admin":t=e.profile&&e.profile.first_name?e.profile.first_name+e.profile.last_name:"";break;default:t="NIL"}return t}},669:function(e,t,n){"use strict";var a=n(13),r=(n(2),n(636)),i=n(207),c=n(330),o=n(560),l=n(561),s=n(551),d=n(332),u=n(309),b=n(213),m=n.n(b),j=(n(341),n(1));t.a=function(e){var t=function(t){return"Gender"==t?e.genderValue.map((function(e,t){return Object(j.jsx)(r.a,{value:e,children:e},t)})):e.filterValue.map((function(e,t){return Object(j.jsx)(r.a,{value:e,children:e},t)}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(i.a,{sx:{marginTop:"0px",marginBottom:"20px"},container:!0,rowSpacing:3,columnSpacing:6,children:[Object(j.jsx)(i.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(j.jsx)(u.a,{sx:{width:"100%"},label:e.searchLabel,variant:"outlined",onChange:e.handleSearch,placeholder:e.searchLabel,type:"text",value:e.searchValue,autoFocus:!0,InputProps:{startAdornment:Object(j.jsx)(m.a,{})}})}),e.multiFilter?Object.entries(e.type).map((function(n,r){var d=Object(a.a)(n,2),u=d[0];return d[1],Object(j.jsx)(i.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(j.jsx)(c.a,{children:Object(j.jsxs)(o.a,{fullWidth:!0,children:[Object(j.jsx)(l.a,{sx:{backgroundColor:"#fafafa",padding:"0.25rem"},children:u}),Object(j.jsx)(s.a,{id:"demo-simple-select",value:"Gender"==u?e.genderSelectValue:e.selectValue,label:"Age",onChange:function(t){return e.handleChange(t,u)},placeholder:"Search Center",children:t(u)})]})})},"".concat(r))})):Object(j.jsx)(i.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(j.jsx)(c.a,{children:Object(j.jsxs)(o.a,{fullWidth:!0,children:[Object(j.jsx)(l.a,{sx:{backgroundColor:"#fafafa",padding:"0.25rem"},children:e.label}),Object(j.jsx)(s.a,{id:"demo-simple-select",value:e.selectValue,label:"Age",onChange:function(t){return e.handleChange(t)},placeholder:"Search Center",children:e.filterValue&&e.filterValue.map((function(e,t){return Object(j.jsx)(r.a,{value:e,children:e},t)}))})]})})})]}),Object(j.jsx)(o.a,{sx:{marginBottom:"20px",display:"flex",width:"100%"},children:Object(j.jsx)(d.a,{color:"primary",variant:"contained",onClick:e.handleReset,sx:{alignSelf:"flex-end"},children:"Reset"})})]})}},679:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u}));var a=n(51),r=n.n(a);function i(e){return e.map((function(e){return e.trauma_code})).join(", ")}var c=function(e,t,n,a){var i=e||null;return a&&"upcoming"===a?{id:e.id,status:"scheduled"===i.status&&r()(r()(i.scheduled_at).format("x"),"x").isBefore(r()().startOf("second"))?"missed":i.status,scheduledAt:"".concat(r()(i.scheduled_at).format("DD MMMM, YYYY hh:mm A")),sessionId:i.session_id,clientId:t,center:n,disabled:e.disabled}:{id:e.id,status:"scheduled"===i.status||"pending"===i.status?"missed":i.status,scheduledAt:"".concat(r()(i.scheduled_at).format("DD MMMM, YYYY hh:mm A")),sessionId:i.session_id,clientId:t,center:n,disabled:e.disabled}};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[],a={clientId:"Client ID",name:"Record Name",center:"Center",gender:"Birth Gender",traumas:"Trauma Codes",ethnicity:"Ethnicity",scheduledAt:"Scheduled",view_notes:"Notes"};return e.forEach((function(e){var a,r,o,l,s,d,u,b,m,j,h,f,p,v={clientId:null===e||void 0===e||null===(a=e.client)||void 0===a?void 0:a.client_id,name:null===e||void 0===e||null===(r=e.client)||void 0===r?void 0:r.name,center:null===e||void 0===e||null===(o=e.center)||void 0===o?void 0:o.name,gender:null===e||void 0===e||null===(l=e.client)||void 0===l?void 0:l.gender_bio,traumas:null!==e&&void 0!==e&&null!==(s=e.client)&&void 0!==s&&s.traumas?i(null===e||void 0===e||null===(d=e.client)||void 0===d?void 0:d.traumas):"",ethnicity:null!==e&&void 0!==e&&null!==(u=e.client)&&void 0!==u&&u.ethnicity?null===e||void 0===e||null===(b=e.client)||void 0===b?void 0:b.ethnicity:"",scheduledAt:c(e,null===e||void 0===e||null===(m=e.client)||void 0===m?void 0:m.client_id,null===e||void 0===e||null===(j=e.center)||void 0===j?void 0:j.name,t),view_notes:{clientId:null===e||void 0===e||null===(h=e.client)||void 0===h?void 0:h.client_id,clientName:null===e||void 0===e||null===(f=e.client)||void 0===f?void 0:f.name,sessionId:null===e||void 0===e?void 0:e.id,center_id:null===e||void 0===e||null===(p=e.center)||void 0===p?void 0:p.id,notes:null===e||void 0===e?void 0:e.notes}};n.push(v)})),n.meta=a,n}var l={clininicain_id:"Provider ID",profesional_name:"Professional Name",first_name:"First Name",last_name:"Last Name",traumas:"Trauma Codes",status:"Status",clients:"Clients",sessions:"Sessions",disable_provider:"Disable Provider"};function s(e){var t=[];return Array.isArray(e)?(e.forEach((function(e){t.push(d(e))})),t.meta=l):t.push(d(e)),t}function d(e){var t,n,a,r,i,c,o,l,s,d,u,b,m,j;return{clinicId:(null===e||void 0===e?void 0:e.id)||"-",clininicain_id:e&&(null===(t=e.attributes)||void 0===t||null===(n=t.user)||void 0===n||null===(a=n.data)||void 0===a||null===(r=a.attributes)||void 0===r?void 0:r.username)||"-",profesional_name:e&&e.attributes&&e.attributes.name||"-",first_name:e&&e.attributes&&e.attributes.first_name||"-",last_name:e&&e.attributes&&e.attributes.last_name||"-",traumas:e&&e.attributes&&e.attributes.traumas&&(j=null===(i=e.attributes.traumas)||void 0===i?void 0:i.data,j.map((function(e){return e.attributes.trauma_code})).join(", "))||"-",status:(null===e||void 0===e||null===(c=e.attributes)||void 0===c?void 0:c.status)||"-",clients:e&&e.attributes&&e.attributes.clients&&e.attributes.clients.data&&(null===(o=e.attributes.clients.data)||void 0===o?void 0:o.length)||"-",sessions:e&&e.attributes&&e.attributes.sessions&&e.attributes.sessions.data&&(null===(l=e.attributes.sessions)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.length)||"-",disable_provider:{provider_id:null===e||void 0===e?void 0:e.id,disabled:(null===e||void 0===e||null===(d=e.attributes)||void 0===d||null===(u=d.user)||void 0===u||null===(b=u.data)||void 0===b||null===(m=b.attributes)||void 0===m?void 0:m.blocked)||!1}}}function u(e){var t=[];return Array.isArray(e)?e.forEach((function(e){t.push(b(e))})):t.push(b(e)),t}function b(e){var t,n;return{title:(null===e||void 0===e||null===(t=e.client)||void 0===t?void 0:t.name)+"-"+(null===e||void 0===e||null===(n=e.client)||void 0===n?void 0:n.client_id)||"Anonymous",start:r()(null===e||void 0===e?void 0:e.scheduled_at).toDate(),end:r()(null===e||void 0===e?void 0:e.scheduled_at).add(50,"minutes").toDate(),session:e}}},680:function(e,t,n){"use strict";var a=n(13),r=n(2),i=n.n(r),c=n(557),o=n(692),l=n(332),s=n(711),d=n(640),u=n(207),b=n(571),m=n.n(b),j=n(573),h=n.n(j),f=n(219),p=n(667),v=n(558),O=n(331),g=n(330),x=n(334),y=n(309),C=n(50),S=n(112),A=n(1),w=Object(C.a)(v.a)((function(){return{position:"absolute",bottom:"38px",right:"60px"}})),_={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4,borderRadius:"15px"},k=function(e){var t=Object(r.useState)(""),n=Object(a.a)(t,2),i=n[0],c=n[1],o=Object(r.useState)(""),s=Object(a.a)(o,2),d=s[0],b=s[1],m=Object(r.useState)(""),j=Object(a.a)(m,2),h=j[0],f=j[1],p=Object(r.useState)(),v=Object(a.a)(p,2),C=v[0],k=v[1];return Object(r.useEffect)((function(){return S.ValidatorForm.addValidationRule("REQUIRED",(function(e){return 0!==e.length})),e.data&&(console.log(e.data),c(e.data.sessionId),f(e.data.center),b(e.data.clientId),k(e.data)),function(){S.ValidatorForm.removeValidationRule("REQUIRED")}}),[e]),Object(A.jsx)("div",{children:Object(A.jsx)(O.a,{keepMounted:!0,open:e.open,onClose:e.handleClose,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(A.jsx)(g.a,{sx:_,children:Object(A.jsxs)(S.ValidatorForm,{onSubmit:function(t){return function(t,n){e.handleSubmit(t,n)}(t,e)},onError:function(){return null},children:[Object(A.jsx)(x.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",children:"Confirm this appointment"}),Object(A.jsxs)(x.a,{id:"keep-mounted-modal-title",variant:"body2",component:"h6",children:["Appointment ID : ",i]}),Object(A.jsxs)(x.a,{id:"keep-mounted-modal-title",variant:"body2",component:"h6",children:["Client ID : ",d]}),Object(A.jsxs)(x.a,{id:"keep-mounted-modal-title",variant:"body2",component:"h6",children:["Center : ",h]}),Object(A.jsx)(g.a,{sx:{minWidth:500,mb:2},children:C&&Object(A.jsx)(u.a,{container:!0,spacing:3,children:Object(A.jsx)(u.a,{item:!0,lg:12,md:6,sm:12,xs:12,sx:{mt:2},children:Object(A.jsx)(y.a,{fullWidth:!0,label:"Scheduled At",inputProps:{readOnly:!0},value:C.scheduledAt})})})}),Object(A.jsxs)(g.a,{sx:{display:"table",marginLeft:"auto",marginRight:"0px"},children:[Object(A.jsx)(l.a,{color:"error",variant:"contained",onClick:function(){e.handleClose()},children:"Cancel"}),Object(A.jsx)(l.a,{disabled:e.loading,sx:{ml:2},type:"submit",variant:"contained",children:"Accept"}),e.loading&&Object(A.jsx)(w,{size:24,className:"buttonProgress"})]})]})})})})},I=(n(51),Object(C.a)(v.a)((function(){return{position:"absolute",bottom:"38px",right:"60px"}}))),D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4,borderRadius:"15px"},P=function(e){var t=Object(r.useState)(""),n=Object(a.a)(t,2),i=n[0],c=n[1],o=Object(r.useState)(""),s=Object(a.a)(o,2),d=s[0],b=s[1],m=Object(r.useState)(""),j=Object(a.a)(m,2),h=j[0],f=j[1],p=Object(r.useState)(!1),v=Object(a.a)(p,2),C=(v[0],v[1],Object(r.useState)()),w=Object(a.a)(C,2),_=w[0],k=w[1],P=Object(r.useState)(""),E=Object(a.a)(P,2),R=E[0],N=E[1],M=Object(r.useState)(!1),T=Object(a.a)(M,2),L=T[0],Y=T[1];return Object(r.useEffect)((function(){return S.ValidatorForm.addValidationRule("REQUIRED",(function(e){return 0!==e.length})),e.data&&(console.log(e.data),c(e.data.sessionId),f(e.data.center),b(e.data.clientId),k(e.data),e.data&&e.data.disabled&&N("Appointment cancelled, time slot not available.")),function(){S.ValidatorForm.removeValidationRule("REQUIRED")}}),[e]),Object(A.jsx)("div",{children:Object(A.jsx)(O.a,{keepMounted:!0,open:e.open,onClose:e.handleClose,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(A.jsx)(g.a,{sx:D,children:Object(A.jsxs)(S.ValidatorForm,{onSubmit:function(t){return function(t,n){console.log(R),0!==R.length?(Y(!1),e.handleSubmit(n,R)):Y(!0)}(0,e)},onError:function(){return null},children:[Object(A.jsx)(x.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",children:"Reject this appointment"}),Object(A.jsxs)(x.a,{id:"keep-mounted-modal-title",variant:"body2",component:"h6",children:["Appointment ID : ",i]}),Object(A.jsxs)(x.a,{id:"keep-mounted-modal-title",variant:"body2",component:"h6",children:["Client ID : ",d]}),Object(A.jsxs)(x.a,{id:"keep-mounted-modal-title",variant:"body2",component:"h6",children:["Center : ",h]}),Object(A.jsx)(g.a,{sx:{minWidth:500,mb:2},children:_&&Object(A.jsxs)(u.a,{container:!0,spacing:3,children:[Object(A.jsx)(u.a,{item:!0,lg:12,md:6,sm:12,xs:12,sx:{mt:2},children:Object(A.jsx)(y.a,{fullWidth:!0,label:"Scheduled At",inputProps:{readOnly:!0},value:_.scheduledAt})}),Object(A.jsx)(u.a,{item:!0,lg:12,md:6,sm:12,xs:12,children:Object(A.jsx)(y.a,{fullWidth:!0,label:"Reason",multiline:!0,rows:4,inputProps:{readOnly:_.disabled},value:R,onChange:function(e){return N(e.target.value)},validators:["REQUIRED"],errorMessages:["This field is required"]})}),L&&Object(A.jsx)("span",{style:{marginLeft:20,color:"red"},children:"Error: Please add the reason of cancellation"})]})}),Object(A.jsxs)(g.a,{sx:{display:"table",marginLeft:"auto",marginRight:"0px"},children:[Object(A.jsx)(l.a,{color:"error",variant:"contained",onClick:function(){N(""),Y(""),e.handleClose()},children:"Cancel"}),Object(A.jsx)(l.a,{disabled:e.loading,sx:{ml:2},type:"submit",variant:"contained",children:"Reject"}),e.loading&&Object(A.jsx)(I,{size:24,className:"buttonProgress"})]})]})})})})},E=n(645),R=n(572),N=n.n(R);t.a=function(e){var t=Object(r.useState)([]),n=Object(a.a)(t,2),b=n[0],j=n[1],v=Object(r.useState)(),O=Object(a.a)(v,2),g=O[0],x=O[1],y=Object(r.useState)(),C=Object(a.a)(y,2),S=C[0],w=C[1],_=Object(r.useState)(!1),I=Object(a.a)(_,2),D=I[0],R=I[1],M=Object(r.useState)(!1),T=Object(a.a)(M,2),L=T[0],Y=T[1],V=Object(r.useState)(!1),z=Object(a.a)(V,2),U=z[0],G=z[1],F=Object(r.useState)(!1),H=Object(a.a)(F,2),Q=H[0],W=H[1],B=i.a.useState(10),q=Object(a.a)(B,2),K=q[0],X=q[1],J=Object(r.useState)(0),$=Object(a.a)(J,2),Z=$[0],ee=$[1],te=function(e,t){j(e),R(t)},ne=function(e,t){x(e),Y(t)},ae=function(e,t){w(e),G(t)},re=function(t,n){var a=null;switch(t){case"view_notes":a=function(t){return Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(A.jsx)(c.a,{"aria-label":"view",color:"primary",onClick:function(){return te(t,!0)},children:Object(A.jsx)(o.a,{badgeContent:t.notes?t.notes.length:0,color:"secondary",children:Object(A.jsx)(m.a,{})})}),e.addNotes&&Object(A.jsx)(c.a,{"aria-label":"view",color:"primary",onClick:function(){return e.handleOpenNewNotes(t,!0)},children:Object(A.jsx)(N.a,{})})]})}(n);break;case"scheduledAt":a=function(t){return"scheduled"===t.status?Object(A.jsxs)("div",{style:{marginLeft:"1rem"},children:[t.scheduledAt,Object(A.jsx)(c.a,{"aria-label":"view",color:"primary",children:"counsellor"===e.user.role.type&&Object(A.jsx)(h.a,{})})]}):"pending"===t.status?Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{style:{marginBottom:10},children:"".concat(t.scheduledAt)}),Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(A.jsx)(l.a,{disabled:t.disabled,variant:"contained",color:"success",style:{marginRight:5},onClick:function(){return ne(t,!0)},children:Object(A.jsx)("div",{style:{fontSize:".8rem"},children:"Accept"})}),Object(A.jsx)(l.a,{variant:"contained",color:"error",onClick:function(e){return ae(t,!0)},children:Object(A.jsx)("div",{style:{fontSize:".8rem"},children:"Reject"})})]})]}):"cancelled"===t.status?Object(A.jsxs)("div",{style:{marginLeft:"1rem"},children:["".concat(t.scheduledAt),Object(A.jsx)(s.a,{label:"Cancelled",size:"small",variant:"outlined",color:"error"})]}):"missed"===t.status?Object(A.jsxs)("div",{style:{marginLeft:"1rem"},children:["".concat(t.scheduledAt),Object(A.jsx)(s.a,{label:"Missed",size:"small",variant:"outlined",color:"error"})]}):Object(A.jsxs)("div",{style:{marginLeft:"1rem"},children:[t.scheduledAt,Object(A.jsx)(s.a,{label:"completed"===t.status?"Completed":t.status,size:"small",variant:"outlined",color:"success"})]})}(n);break;default:a=n}return a};return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(u.a,{children:["Provider"===e.role?Object(A.jsx)(u.a,{children:Object(A.jsx)(f.a,{page:Z,handleChangePage:function(e,t){ee(t)},rowsPerPage:K,handleChangeRowsPerPage:function(e){X(+e.target.value),ee(0)},rows:e.data,CustomHeadCell:function(e){for(var t=e.meta,n=[],r=Object.entries(t),i=0,c=Object.entries(r);i<c.length;i++){var o=Object(a.a)(c[i],2),l=o[0],s=Object(a.a)(o[1],2),u=s[0],b=s[1];"id"!==u&&n.push(Object(A.jsx)(d.a,{width:"scheduledAt"===u?140:60,align:"center",className:"text-style",children:b},l))}return n},CustomBodyCell:function(e){for(var t=e.row,n=[],r=Object.entries(t),i=0,c=Object.entries(r);i<c.length;i++){var o=Object(a.a)(c[i],2),l=o[0],s=Object(a.a)(o[1],2),u=s[0],b=s[1];"id"!==u&&n.push(Object(A.jsx)(d.a,{className:"text-style",component:"th",scope:"row",align:"center",children:re(u,b)},l))}return n}})}):Object(A.jsx)(u.a,{}),Object(A.jsx)(p.a,{open:D,data:b,multipleSession:!1,handleClose:function(){te(null,!1)}}),Object(A.jsx)(k,{open:L,data:g,handleClose:function(){return ne(null,!1)},handleSubmit:function(t,n){W(!0);Object(E.n)(n.data.id,{data:{status:"scheduled"}}).then((function(t){W(!1),Y(!1),e.fetchData(Z,e.user.counsellor.id)})).catch((function(e){return console.log(e)}))},loading:Q}),Object(A.jsx)(P,{open:U,data:S,handleClose:function(){return ae(null,!1)},handleSubmit:function(t,n){W(!0);var a={data:{status:"cancelled",cancell_reason:n}};Object(E.n)(t.data.id,a).then((function(t){t&&(G(!1),e.fetchData(Z,e.user.counsellor.id)),W(!1)})).catch((function(e){return console.log(e)}))},loading:Q})]})})}},698:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d}));var a=n(13),r=n(2),i=n(1),c=r.createContext(null);function o(e){var t=e.children,n=e.value,o=function(){var e=r.useState(null),t=Object(a.a)(e,2),n=t[0],i=t[1];return r.useEffect((function(){i("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),n}(),l=r.useMemo((function(){return{idPrefix:o,value:n}}),[o,n]);return Object(i.jsx)(c.Provider,{value:l,children:t})}function l(){return r.useContext(c)}function s(e,t){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(t)}function d(e,t){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(t)}},699:function(e,t,n){"use strict";var a=n(3),r=n(7),i=n(2),c=n(921),o=n(698),l=n(1),s=["children"],d=i.forwardRef((function(e,t){var n=e.children,d=Object(r.a)(e,s),u=Object(o.d)();if(null===u)throw new TypeError("No TabContext provided");var b=i.Children.map(n,(function(e){return i.isValidElement(e)?i.cloneElement(e,{"aria-controls":Object(o.b)(u,e.props.value),id:Object(o.c)(u,e.props.value)}):null}));return Object(l.jsx)(c.a,Object(a.a)({},d,{ref:t,value:u.value,children:b}))}));t.a=d},700:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(45),r=n(6),i=n(13),c=n(33),o=n.n(c),l=n(2),s=n(656),d=n.n(s),u=n(669),b=n(95),m=n(1),j=function(e){var t=e.searchClient,n=e.filterClient,c=e.fetchClientList,s=e.searchResult,j=e.page,h=Object(b.a)().user,f=Object(l.useState)({Gender:"All",Ethnicity:"All"}),p=Object(i.a)(f,2),v=p[0],O=p[1],g=d()({search:"",ethnicity:"All",gender:"All"}),x=Object(i.a)(g,3),y=x[0],C=x[1],S=x[2],A=Object(l.useState)(["All","American Indian","Alaska Native","Asian","Black or African American","Hispanic or Latino","Native Hawaiian","Pacific Islander","White","Unknown"]),w=Object(i.a)(A,2),_=w[0],k=(w[1],Object(l.useState)(["All","Male","Female","Other"])),I=Object(i.a)(k,2),D=I[0],P=(I[1],function(){var e=Object(a.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.target.value,C(Object(r.a)(Object(r.a)({},y),{},{search:a})),a&&a.length>2?(t(a,v,j),s(!0)):""===a&&(c(j,h.counsellor.id),s(!1));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(m.jsx)(u.a,{handleSearch:P,handleChange:function(e,t){var a=e.target.value;"Gender"==t?C(Object(r.a)(Object(r.a)({},y),{},{gender:a})):"Ethnicity"==t&&C(Object(r.a)(Object(r.a)({},y),{},{ethnicity:a})),"All"!==a?(s(!0),n(a,j,t)):(s(!1),c(j,h.counsellor.id))},filterValue:_,genderValue:D,multiFilter:!0,selectValue:S.current.ethnicity,genderSelectValue:S.current.gender,searchValue:S.current.search,label:"Ethnicity",searchLabel:"Search Client",type:v,handleReset:function(){O({Gender:"All",Ethnicity:"All"}),C({search:"",ethnicity:"All",gender:"All"}),c(j,h.counsellor.id)}})}},711:function(e,t,n){"use strict";var a=n(8),r=n(7),i=n(3),c=n(2),o=n(9),l=n(92),s=n(536),d=n(42),u=n(1),b=Object(d.a)(Object(u.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),m=n(30),j=n(15),h=n(630),f=n(12),p=n(5),v=n(57),O=n(60);function g(e){return Object(v.a)("MuiChip",e)}var x=Object(O.a)("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]),y=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],C=Object(p.a)("div",{name:"MuiChip",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.color,i=n.clickable,c=n.onDelete,o=n.size,l=n.variant;return[Object(a.a)({},"& .".concat(x.avatar),t.avatar),Object(a.a)({},"& .".concat(x.avatar),t["avatar".concat(Object(j.a)(o))]),Object(a.a)({},"& .".concat(x.avatar),t["avatarColor".concat(Object(j.a)(r))]),Object(a.a)({},"& .".concat(x.icon),t.icon),Object(a.a)({},"& .".concat(x.icon),t["icon".concat(Object(j.a)(o))]),Object(a.a)({},"& .".concat(x.icon),t["iconColor".concat(Object(j.a)(r))]),Object(a.a)({},"& .".concat(x.deleteIcon),t.deleteIcon),Object(a.a)({},"& .".concat(x.deleteIcon),t["deleteIcon".concat(Object(j.a)(o))]),Object(a.a)({},"& .".concat(x.deleteIcon),t["deleteIconColor".concat(Object(j.a)(r))]),Object(a.a)({},"& .".concat(x.deleteIcon),t["deleteIconOutlinedColor".concat(Object(j.a)(r))]),t.root,t["size".concat(Object(j.a)(o))],t["color".concat(Object(j.a)(r))],i&&t.clickable,i&&"default"!==r&&t["clickableColor".concat(Object(j.a)(r),")")],c&&t.deletable,c&&"default"!==r&&t["deletableColor".concat(Object(j.a)(r))],t[l],"outlined"===l&&t["outlined".concat(Object(j.a)(r))]]}})((function(e){var t,n=e.theme,r=e.ownerState,c=Object(s.a)(n.palette.text.primary,.26);return Object(i.a)((t={maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:n.palette.text.primary,backgroundColor:n.palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box"},Object(a.a)(t,"&.".concat(x.disabled),{opacity:n.palette.action.disabledOpacity,pointerEvents:"none"}),Object(a.a)(t,"& .".concat(x.avatar),{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300],fontSize:n.typography.pxToRem(12)}),Object(a.a)(t,"& .".concat(x.avatarColorPrimary),{color:n.palette.primary.contrastText,backgroundColor:n.palette.primary.dark}),Object(a.a)(t,"& .".concat(x.avatarColorSecondary),{color:n.palette.secondary.contrastText,backgroundColor:n.palette.secondary.dark}),Object(a.a)(t,"& .".concat(x.avatarSmall),{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)}),Object(a.a)(t,"& .".concat(x.icon),Object(i.a)({color:"light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300],marginLeft:5,marginRight:-6},"small"===r.size&&{fontSize:18,marginLeft:4,marginRight:-4},"default"!==r.color&&{color:"inherit"})),Object(a.a)(t,"& .".concat(x.deleteIcon),Object(i.a)({WebkitTapHighlightColor:"transparent",color:c,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(s.a)(c,.4)}},"small"===r.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==r.color&&{color:Object(s.a)(n.palette[r.color].contrastText,.7),"&:hover, &:active":{color:n.palette[r.color].contrastText}})),t),"small"===r.size&&{height:24},"default"!==r.color&&{backgroundColor:n.palette[r.color].main,color:n.palette[r.color].contrastText},r.onDelete&&Object(a.a)({},"&.".concat(x.focusVisible),{backgroundColor:Object(s.a)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),r.onDelete&&"default"!==r.color&&Object(a.a)({},"&.".concat(x.focusVisible),{backgroundColor:n.palette[r.color].dark}))}),(function(e){var t,n=e.theme,r=e.ownerState;return Object(i.a)({},r.clickable&&(t={userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:Object(s.a)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}},Object(a.a)(t,"&.".concat(x.focusVisible),{backgroundColor:Object(s.a)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),Object(a.a)(t,"&:active",{boxShadow:n.shadows[1]}),t),r.clickable&&"default"!==r.color&&Object(a.a)({},"&:hover, &.".concat(x.focusVisible),{backgroundColor:n.palette[r.color].dark}))}),(function(e){var t,n,r=e.theme,c=e.ownerState;return Object(i.a)({},"outlined"===c.variant&&(t={backgroundColor:"transparent",border:"1px solid ".concat("light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[700])},Object(a.a)(t,"&.".concat(x.clickable,":hover"),{backgroundColor:r.palette.action.hover}),Object(a.a)(t,"&.".concat(x.focusVisible),{backgroundColor:r.palette.action.focus}),Object(a.a)(t,"& .".concat(x.avatar),{marginLeft:4}),Object(a.a)(t,"& .".concat(x.avatarSmall),{marginLeft:2}),Object(a.a)(t,"& .".concat(x.icon),{marginLeft:4}),Object(a.a)(t,"& .".concat(x.iconSmall),{marginLeft:2}),Object(a.a)(t,"& .".concat(x.deleteIcon),{marginRight:5}),Object(a.a)(t,"& .".concat(x.deleteIconSmall),{marginRight:3}),t),"outlined"===c.variant&&"default"!==c.color&&(n={color:r.palette[c.color].main,border:"1px solid ".concat(Object(s.a)(r.palette[c.color].main,.7))},Object(a.a)(n,"&.".concat(x.clickable,":hover"),{backgroundColor:Object(s.a)(r.palette[c.color].main,r.palette.action.hoverOpacity)}),Object(a.a)(n,"&.".concat(x.focusVisible),{backgroundColor:Object(s.a)(r.palette[c.color].main,r.palette.action.focusOpacity)}),Object(a.a)(n,"& .".concat(x.deleteIcon),{color:Object(s.a)(r.palette[c.color].main,.7),"&:hover, &:active":{color:r.palette[c.color].main}}),n))})),S=Object(p.a)("span",{name:"MuiChip",slot:"Label",overridesResolver:function(e,t){var n=e.ownerState.size;return[t.label,t["label".concat(Object(j.a)(n))]]}})((function(e){var t=e.ownerState;return Object(i.a)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===t.size&&{paddingLeft:8,paddingRight:8})}));function A(e){return"Backspace"===e.key||"Delete"===e.key}var w=c.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiChip"}),a=n.avatar,s=n.className,d=n.clickable,p=n.color,v=void 0===p?"default":p,O=n.component,x=n.deleteIcon,w=n.disabled,_=void 0!==w&&w,k=n.icon,I=n.label,D=n.onClick,P=n.onDelete,E=n.onKeyDown,R=n.onKeyUp,N=n.size,M=void 0===N?"medium":N,T=n.variant,L=void 0===T?"filled":T,Y=Object(r.a)(n,y),V=c.useRef(null),z=Object(m.a)(V,t),U=function(e){e.stopPropagation(),P&&P(e)},G=!(!1===d||!D)||d,F="small"===M,H=G||P?h.a:O||"div",Q=Object(i.a)({},n,{component:H,disabled:_,size:M,color:v,onDelete:!!P,clickable:G,variant:L}),W=function(e){var t=e.classes,n=e.disabled,a=e.size,r=e.color,i=e.onDelete,c=e.clickable,o=e.variant,s={root:["root",o,n&&"disabled","size".concat(Object(j.a)(a)),"color".concat(Object(j.a)(r)),c&&"clickable",c&&"clickableColor".concat(Object(j.a)(r)),i&&"deletable",i&&"deletableColor".concat(Object(j.a)(r)),"".concat(o).concat(Object(j.a)(r))],label:["label","label".concat(Object(j.a)(a))],avatar:["avatar","avatar".concat(Object(j.a)(a)),"avatarColor".concat(Object(j.a)(r))],icon:["icon","icon".concat(Object(j.a)(a)),"iconColor".concat(Object(j.a)(r))],deleteIcon:["deleteIcon","deleteIcon".concat(Object(j.a)(a)),"deleteIconColor".concat(Object(j.a)(r)),"deleteIconOutlinedColor".concat(Object(j.a)(r))]};return Object(l.a)(s,g,t)}(Q),B=H===h.a?Object(i.a)({component:O||"div",focusVisibleClassName:W.focusVisible},P&&{disableRipple:!0}):{},q=null;if(P){var K=Object(o.a)("default"!==v&&("outlined"===L?W["deleteIconOutlinedColor".concat(Object(j.a)(v))]:W["deleteIconColor".concat(Object(j.a)(v))]),F&&W.deleteIconSmall);q=x&&c.isValidElement(x)?c.cloneElement(x,{className:Object(o.a)(x.props.className,W.deleteIcon,K),onClick:U}):Object(u.jsx)(b,{className:Object(o.a)(W.deleteIcon,K),onClick:U})}var X=null;a&&c.isValidElement(a)&&(X=c.cloneElement(a,{className:Object(o.a)(W.avatar,a.props.className)}));var J=null;return k&&c.isValidElement(k)&&(J=c.cloneElement(k,{className:Object(o.a)(W.icon,k.props.className)})),Object(u.jsxs)(C,Object(i.a)({as:H,className:Object(o.a)(W.root,s),disabled:!(!G||!_)||void 0,onClick:D,onKeyDown:function(e){e.currentTarget===e.target&&A(e)&&e.preventDefault(),E&&E(e)},onKeyUp:function(e){e.currentTarget===e.target&&(P&&A(e)?P(e):"Escape"===e.key&&V.current&&V.current.blur()),R&&R(e)},ref:z,ownerState:Q},B,Y,{children:[X||J,Object(u.jsx)(S,{className:Object(o.a)(W.label),ownerState:Q,children:I}),q]}))}));t.a=w},712:function(e,t,n){"use strict";var a=n(3),r=n(7),i=n(2),c=n(9),o=n(5),l=n(12),s=n(92),d=n(57),u=n(60);function b(e){return Object(d.a)("MuiTabPanel",e)}Object(u.a)("MuiTabPanel",["root"]);var m=n(698),j=n(1),h=["children","className","value"],f=Object(o.a)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){return{padding:e.theme.spacing(3)}})),p=i.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiTabPanel"}),i=n.children,o=n.className,d=n.value,u=Object(r.a)(n,h),p=Object(a.a)({},n),v=function(e){var t=e.classes;return Object(s.a)({root:["root"]},b,t)}(p),O=Object(m.d)();if(null===O)throw new TypeError("No TabContext provided");var g=Object(m.b)(O,d),x=Object(m.c)(O,d);return Object(j.jsx)(f,Object(a.a)({"aria-labelledby":x,className:Object(c.a)(v.root,o),hidden:d!==O.value,id:g,ref:t,role:"tabpanel",ownerState:p},u,{children:d===O.value&&i}))}));t.a=p},767:function(e,t,n){},909:function(e,t,n){"use strict";n.r(t);var a=n(45),r=n(6),i=n(13),c=n(8),o=n(33),l=n.n(o),s=n(2),d=n.n(s),u=n(558),b=n(557),m=n(692),j=n(571),h=n.n(j),f=n(25),p=(n(767),n(51)),v=n.n(p),O=n(95),g=n(330),x=n(945),y=n(698),C=n(699),S=n(712),A=(n(646),n(219),n(700)),w=n(94),_=n(679),k=n(668),I=n(680),D=n(662),P=n(643),E=n(647),R=n(50),N=(n(659),n(1)),M=Object(R.a)("div")((function(e){var t,n=e.theme;return t={margin:"30px"},Object(c.a)(t,n.breakpoints.down("sm"),{margin:"16px"}),Object(c.a)(t,"& .breadcrumb",Object(c.a)({marginBottom:"30px"},n.breakpoints.down("sm"),{marginBottom:"16px"})),t}));Object(R.a)(u.a)((function(){return{position:"absolute",top:"6px",left:"25px"}}));t.default=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(s.useState)("1"),u=Object(i.a)(o,2),j=u[0],p=u[1],R=Object(s.useState)("1"),T=Object(i.a)(R,2),L=T[0],Y=T[1],V=Object(s.useState)([]),z=Object(i.a)(V,2),U=z[0],G=z[1],F=Object(s.useState)([{id:1,name:"Upcoming"},{id:2,name:"History"}]),H=Object(i.a)(F,2),Q=H[0],W=(H[1],Object(s.useState)("")),B=Object(i.a)(W,2),q=B[0],K=B[1],X=Object(s.useState)(""),J=Object(i.a)(X,2),$=(J[0],J[1]),Z=Object(s.useState)(""),ee=Object(i.a)(Z,2),te=(ee[0],ee[1],Object(s.useState)("")),ne=Object(i.a)(te,2),ae=ne[0],re=ne[1],ie=Object(s.useState)(""),ce=Object(i.a)(ie,2),oe=ce[0],le=ce[1],se=Object(s.useState)(""),de=Object(i.a)(se,2),ue=de[0],be=de[1],me=d.a.useState(5),je=Object(i.a)(me,2),he=(je[0],je[1],d.a.useState(0)),fe=Object(i.a)(he,2),pe=fe[0],ve=(fe[1],Object(s.useState)(!1)),Oe=Object(i.a)(ve,2),ge=Oe[0],xe=Oe[1],ye=Object(s.useState)(""),Ce=Object(i.a)(ye,2),Se=Ce[0],Ae=Ce[1],we=Object(s.useState)({center:[],counsellor:[],client:[],appointment:[]}),_e=Object(i.a)(we,2),ke=_e[0],Ie=_e[1],De=Object(s.useState)({center:"",counsellor:"",client:"",appointment:""}),Pe=Object(i.a)(De,2),Ee=(Pe[0],Pe[1],Object(s.useState)(!1)),Re=Object(i.a)(Ee,2),Ne=Re[0],Me=Re[1],Te=Object(s.useState)(""),Le=Object(i.a)(Te,2),Ye=Le[0],Ve=Le[1],ze=Object(s.useState)([]),Ue=Object(i.a)(ze,2),Ge=(Ue[0],Ue[1]),Fe=Object(s.useState)(!1),He=Object(i.a)(Fe,2),Qe=(He[0],He[1]),We=(Object(f.f)(),Object(O.a)().user),Be=window.location.href.split("/").pop(),qe=function(e,t){Y(t)},Ke=function(e,t,n){var a=ae.filter((function(t){return t.clientId.toLowerCase().includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase())||t.gender.toLowerCase().includes(e.toLowerCase())||t.traumas.toLowerCase().includes(e.toLowerCase())||t.ethnicity.toLowerCase().includes(e.toLowerCase())}));a.meta=ae.meta,Ie(Object(r.a)(Object(r.a)({},ke),{},{client:a}))},Xe=function(){var e=Object(a.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href.split("/").pop(),e.next=3,Object(D.d)(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var Je=function(e){var t=[],n=[],a=v()().startOf("minute");v()().endOf("day");console.log(e);var r=e&&function(e){var t=e.filter((function(e){return e.counsellor&&e.counsellor.id===We.counsellor.id}));return t&&t}(e);r&&r.map((function(e){v()(v()(e.scheduled_at).format("x"),"x").isAfter(a)?t.push(e):n.push(e)})),be(Object(_.b)(t,"upcoming")),le(Object(_.b)(n,"history"))};var $e=function(e){var t=e&&function(e){var t=e.filter((function(e){return e.counsellor&&e.counsellor.id===We.counsellor.id}));return t&&t}(e),n=[];return t&&t.forEach((function(e){var t=e.traumas?function(e){return e.map((function(e){return e.trauma_code})).join(", ")}(e.traumas):"",a={clientId:e.client_id,name:e.name,gender:e.gender_bio,traumas:t,ethnicity:e.ethnicity?e.ethnicity:"",status:e.status?e.status.replace("_"," ").replace(/([a-z])([A-Z])/g,"$1 $2"):"-"};n.push(a)})),n.meta={clientId:"Client ID",name:"Record Name",gender:"Birth Gender",traumas:"Trauma Codes",ethnicity:"Ethnicity",status:"Status"},n},Ze=function(e,t){return t};Object(s.useEffect)((function(){c(!0),G(E.a.center),Xe(Be).then((function(e){var t;e&&("UnauthorizedError"===(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.name)?(Me(!0),Ve("Your session has expired. You will be logged out.")):($(Object(k.c)(e.counsellors)),re($e(e.clients)),K(function(e){var t;return{centerId:e.user?e.user.username:"-",name:e.name?e.name:"-",email:null!==(t=e.user)&&void 0!==t&&t.email?e.user.email:"",phoneNumber:null!=e.area_code?e.area_code+"-"+e.phone_number:e.phone_number,date_created:v()(e.createdAt).format("DD MMMM, YYYY")}}(e)),Je(e.sessions)));if(e.logo_image){var n="http://localhost:1337"+e.logo_image;Ae(n)}c(!1)})).catch(console.error)}),[]);var et=function(){var e=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;Ge(e),Qe(t)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(A.a,{filterClient:Ke,fetchClientList:function(){return xe(!1)},searchResult:function(){return xe(!0)},searchClient:function(e,t,n){return Ke(e)},page:pe}),ae&&Object(N.jsx)(w.d,{role:We.role.name,data:ge&&ke.client||ae,getCellContent:function(t,n){var a=null;if("view_notes"===t)a=function(t){return Object(N.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(N.jsx)(b.a,{"aria-label":"view",color:"primary",onClick:function(n){return e(n,t,!0)},children:Object(N.jsx)(m.a,{badgeContent:t.notes?t.notes.length:0,color:"secondary",children:Object(N.jsx)(h.a,{})})})})}(n);else a=n;return a}})]})},tt=function(){return Object(N.jsx)(N.Fragment,{children:ue&&Object(N.jsx)(I.a,{role:We.role.name,data:ue,loading:n,fetchData:Xe,user:We})})},nt=function(){return Object(N.jsx)(N.Fragment,{children:ue&&Object(N.jsx)(I.a,{role:We.role.name,data:oe,loading:n,fetchData:Xe,user:We})})},at=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(g.a,{sx:{padding:0,margin:0},children:Object(N.jsxs)(y.a,{value:L,children:[Object(N.jsx)(g.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(N.jsx)(C.a,{onChange:qe,"aria-label":"Appointment Details Segement",children:Q.map((function(e,t){return Object(N.jsx)(x.a,{label:e.name,value:e.id.toString()},t)}))})}),Q&&Q.map((function(e,t){return Object(N.jsx)(S.a,{value:e.id.toString(),children:1===e.id?Object(N.jsx)(tt,{}):Object(N.jsx)(nt,{})},t)}))]})})})};return Object(N.jsxs)(M,{children:[Object(N.jsx)(w.b,{routeSegments:[{name:"All Centers",path:"/centers-list"},{name:"Center Details"}]}),!n&&""!==q&&Object(N.jsxs)(y.a,{value:j,children:[Object(N.jsx)(g.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(N.jsx)(C.a,{onChange:function(e,t){p(t)},"aria-label":"Center Details Segement",children:U.map((function(e,t){return Object(N.jsx)(x.a,{label:e.name,value:e.id.toString()},t)}))})}),U&&U.map((function(e,t){return Object(N.jsx)(S.a,{value:e.id.toString(),children:1===e.id?Object(N.jsx)(w.l,{title:q.name,subtitle:"Center",icon:Se,action:!1,children:Object(N.jsx)(w.o,{data:q})}):2===e.id?Object(N.jsx)(N.Fragment,{children:ae&&Object(N.jsx)(w.d,{role:We.role.name,data:ge?ke.client:ae,getCellContent:Ze})}):4===e.id?Object(N.jsx)(et,{}):Object(N.jsx)(at,{})},t)}))]}),Object(N.jsx)(P.a,{open:Ne,text:Ye,onConfirmDialogClose:function(){Ve(""),Me(!1)},onYesClick:function(){Ve(""),Me(!1)}})]})}}}]);
//# sourceMappingURL=15.cb171848.chunk.js.map