(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[50],{644:function(e,t,a){"use strict";a(2);var r=a(42),n=a(1);t.a=Object(r.a)(Object(n.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},659:function(e,t,a){},660:function(e,t,a){"use strict";var r=a(8),n=a(7),i=a(3),s=a(2),o=a(9),c=a(92),l=a(536),d=a(5),u=a(12),m=a(15),j=a(208),b=a(57),p=a(60);function h(e){return Object(b.a)("MuiAlert",e)}var g,f=Object(p.a)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),O=a(557),x=a(42),v=a(1),_=Object(x.a)(Object(v.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),y=Object(x.a)(Object(v.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),S=Object(x.a)(Object(v.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),C=Object(x.a)(Object(v.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),E=a(644),R=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],M=Object(d.a)(j.a,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t[a.variant],t["".concat(a.variant).concat(Object(m.a)(a.color||a.severity))]]}})((function(e){var t=e.theme,a=e.ownerState,n="light"===t.palette.mode?l.b:l.e,s="light"===t.palette.mode?l.e:l.b,o=a.color||a.severity;return Object(i.a)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===a.variant&&Object(r.a)({color:n(t.palette[o].light,.6),backgroundColor:s(t.palette[o].light,.9)},"& .".concat(f.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"outlined"===a.variant&&Object(r.a)({color:n(t.palette[o].light,.6),border:"1px solid ".concat(t.palette[o].light)},"& .".concat(f.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"filled"===a.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main})})),w=Object(d.a)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),A=Object(d.a)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),N=Object(d.a)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),T={success:Object(v.jsx)(_,{fontSize:"inherit"}),warning:Object(v.jsx)(y,{fontSize:"inherit"}),error:Object(v.jsx)(S,{fontSize:"inherit"}),info:Object(v.jsx)(C,{fontSize:"inherit"})},I=s.forwardRef((function(e,t){var a=Object(u.a)({props:e,name:"MuiAlert"}),r=a.action,s=a.children,l=a.className,d=a.closeText,j=void 0===d?"Close":d,b=a.color,p=a.icon,f=a.iconMapping,x=void 0===f?T:f,_=a.onClose,y=a.role,S=void 0===y?"alert":y,C=a.severity,I=void 0===C?"success":C,L=a.variant,V=void 0===L?"standard":L,D=Object(n.a)(a,R),k=Object(i.a)({},a,{color:b,severity:I,variant:V}),U=function(e){var t=e.variant,a=e.color,r=e.severity,n=e.classes,i={root:["root","".concat(t).concat(Object(m.a)(a||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return Object(c.a)(i,h,n)}(k);return Object(v.jsxs)(M,Object(i.a)({role:S,elevation:0,ownerState:k,className:Object(o.a)(U.root,l),ref:t},D,{children:[!1!==p?Object(v.jsx)(w,{ownerState:k,className:U.icon,children:p||x[I]||T[I]}):null,Object(v.jsx)(A,{ownerState:k,className:U.message,children:s}),null!=r?Object(v.jsx)(N,{className:U.action,children:r}):null,null==r&&_?Object(v.jsx)(N,{ownerState:k,className:U.action,children:Object(v.jsx)(O.a,{size:"small","aria-label":j,title:j,color:"inherit",onClick:_,children:g||(g=Object(v.jsx)(E.a,{fontSize:"small"}))})}):null]}))}));t.a=I},896:function(e,t,a){"use strict";a.r(t);var r=a(8),n=a(6),i=a(45),s=a(13),o=a(33),c=a.n(o),l=a(2),d=a(555),u=a(558),m=a(207),j=a(636),b=a(333),p=a(330),h=a(633),g=a(660),f=(a(46),a(332)),O=a(50),x=a(25),v=a(112),_=a(560),y=a(212),S=a(653),C=(a(655),a(659),a(1)),E=Object(O.a)(v.TextValidator)((function(){return{width:"100%",marginBottom:"16px"}})),R=Object(O.a)(v.SelectValidator)((function(){return{width:"100%",marginBottom:"16px",marginTop:"8px"}})),M=Object(O.a)(d.a)((function(){return{width:"120px !important",height:"120px !important"}})),w=Object(O.a)(f.a)((function(){return{display:"block",color:"#fff",marginTop:"20px",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}})),A=Object(O.a)(f.a)((function(){return{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:120,height:120,borderRadius:"50%",borderColor:"#3498db"}})),N=Object(O.a)(u.a)((function(){return{position:"absolute",top:"6px",left:"25px"}}));t.default=function(e){var t=Object(x.f)(),a=Object(l.useState)({firstName:"",lastName:"",email:"",area_code:"",phone_number:"",country:"usa",state:"",city:"",postal_code:"",street_address1:"",street_address2:"",username:"",logo:null,logo_image:"",center_id:"",user_id:"",center_type:"",domain:"",state_id:"",center_type_id:""}),o=Object(s.a)(a,2),d=o[0],u=o[1],O=Object(l.useState)([]),T=Object(s.a)(O,2),I=T[0],L=T[1],V=Object(l.useState)([]),D=Object(s.a)(V,2),k=D[0],U=D[1],z=Object(l.useState)(!1),P=Object(s.a)(z,2),q=P[0],W=P[1],F=Object(l.useState)(!1),H=Object(s.a)(F,2),Q=H[0],X=H[1],G=Object(l.useState)({status:"success",message:""}),B=Object(s.a)(G,2),J=B[0],Z=B[1],K=Object(l.useRef)();function Y(e){e.persist(),u(Object(n.a)(Object(n.a)({},d),{},Object(r.a)({},e.target.name,e.target.value)))}Object(l.useEffect)((function(){v.ValidatorForm.addValidationRule("REQUIRED",(function(e){return 0!==e.length})),v.ValidatorForm.addValidationRule("MAX_CODE_LENGTH",(function(e){return!e||3===e.length})),v.ValidatorForm.addValidationRule("VALID_INPUT",(function(e){return!e||!isNaN(e)})),v.ValidatorForm.addValidationRule("MAX_PHONE_LENGTH",(function(e){return!e||7===e.length})),v.ValidatorForm.addValidationRule("MAX_POSTAL_CODE",(function(e){return!e||5===e.length}));var e=window.location.href.split("=")[1];return Object(i.a)(c.a.mark((function t(){var a,r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y.n)();case 3:return(a=t.sent)&&L(a),t.next=7,Object(y.h)();case 7:if((r=t.sent)&&r.data&&U(r.data),!e){t.next=17;break}return W(!0),t.next=13,Object(y.p)(e);case 13:n=t.sent,console.log("centerResp",n),n&&u({firstName:n.first_name,lastName:n.last_name,email:n.email,area_code:n.area_code,phone_number:n.phone_number,country:n.country,state:n.state&&n.state.state_id,city:n.city,postal_code:n.postal_code,street_address1:n.street_address1,street_address2:n.street_address2||"",username:n.user&&n.user.username||"",logo_image:n.logo_image||"",center_id:n.id,user_id:n.user&&n.user.id,center_type:n.center_type&&n.center_type.center_type_id||"center_type",domain:n.domain,state_id:n&&n.state.id,center_type_id:n&&n.center_type.id}),W(!1);case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(0),W(!1),console.log("err",t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,19]])})))(),function(){v.ValidatorForm.removeValidationRule("REQUIRED"),v.ValidatorForm.removeValidationRule("MAX_CODE_LENGTH"),v.ValidatorForm.removeValidationRule("VALID_INPUT"),v.ValidatorForm.removeValidationRule("MAX_PHONE_LENGTH"),v.ValidatorForm.removeValidationRule("MAX_POSTAL_CODE")}}),[]);var $=function(e){return new Promise((function(t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(e){t(e.target.result)},a.onerror=function(e){console.log("Error: ",e)}}))},ee=function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.files[0],!["image/jpeg","image/jpg","image/png","image/svg","image/svg+xml"].includes(a.type)){e.next=9;break}return e.next=5,$(a);case 5:a.base64=e.sent,u(Object(n.a)(Object(n.a)({},d),{},{logo:a,logo_image:""})),e.next=10;break;case 9:S.b.error("Only files with following extensions are allowed: jpeg, jpg, png, svg",{theme:"colored"});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,r,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("files",t),r="",localStorage.accessToken&&(r=localStorage.accessToken),e.next=6,fetch("http://localhost:1337/api/upload",{method:"post",headers:{authorization:"Bearer "+r},body:a});case 6:return n=e.sent,e.next=9,n.text();case 9:return i=e.sent,e.abrupt("return",JSON.parse(i));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,r,i,s,o,l,u,m,j,b,p,h,g,f,O,x,v,_,S,C;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.firstName,r=d.lastName,i=d.email,s=d.area_code,o=d.phone_number,l=d.country,u=d.state,m=d.city,j=d.postal_code,b=d.street_address1,p=d.street_address2,h=d.logo,g=d.logo_image,f=d.center_id,O=d.user_id,x=d.center_type,W(!0),!h){e.next=6;break}return e.next=5,te(h);case 5:v=e.sent;case 6:_=I.find((function(e){return e.state_id===u})),S=k.find((function(e){return e.attributes.center_type_id===x})),C={center:{data:{id:f,name:a+" "+r,first_name:a,last_name:r,email:i,area_code:s,phone_number:o,country:l,state:_.id,city:m,center_type:S.id,street_address1:b,street_address2:p,postal_code:j,logo_image:g}},state_id:_.state_id,center_type_id:S.attributes.center_type_id,user:{data:{id:O,email:i}}},h&&(C.center.data.logo_image=v[0].url||""),Object(y.e)(C,f).then((function(e){W(!1),X(!0),Z(Object(n.a)(Object(n.a)({},J),{},{status:e&&"success"===e.status?"success":"error",message:null===e||void 0===e?void 0:e.message}))})).catch((function(e){W(!1),X(!0),Z(Object(n.a)(Object(n.a)({},J),{},{status:"error",message:"Something went wrong"}))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=d.firstName,ne=d.lastName,ie=d.email,se=d.area_code,oe=d.phone_number,ce=d.country,le=d.state,de=d.city,ue=d.postal_code,me=d.street_address1,je=d.street_address2,be=d.center_type,pe=d.logo,he=d.logo_image,ge=d.domain;return Object(C.jsxs)("div",{style:{padding:"20px"},children:[Object(C.jsx)("h1",{style:{marginTop:"0px",marginBottom:"10px",padding:"0px"},children:"Edit Center"}),Object(C.jsx)("div",{className:"center-card",children:Object(C.jsxs)(v.ValidatorForm,{ref:K,onSubmit:ae,onError:function(){return null},children:[Object(C.jsxs)(m.a,{container:!0,rowSpacing:2,columnSpacing:6,children:[Object(C.jsx)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(C.jsx)(E,{autoFocus:!0,margin:"dense",id:"first_name",name:"firstName",label:"First Name*",type:"text",value:re,onChange:Y,fullWidth:!0,validators:["REQUIRED"],errorMessages:["This field is required"]})}),Object(C.jsx)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(C.jsx)(E,{margin:"dense",id:"last_name",name:"lastName",label:"Last Name*",type:"text",value:ne,onChange:Y,fullWidth:!0,validators:["REQUIRED"],errorMessages:["This field is required"]})})]}),Object(C.jsxs)(m.a,{container:!0,rowSpacing:2,columnSpacing:6,children:[Object(C.jsx)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(C.jsx)(E,{margin:"dense",id:"email",name:"email",label:"Email*",type:"email",value:ie,onChange:Y,fullWidth:!0,validators:["REQUIRED","isEmail"],errorMessages:["This field is required","email is not valid"]})}),Object(C.jsx)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(C.jsxs)(m.a,{container:!0,children:[Object(C.jsx)(m.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(C.jsx)(E,{margin:"dense",id:"area_code",name:"area_code",label:"Area Code*",type:"text",value:se,onChange:Y,fullWidth:!0,validators:["REQUIRED","VALID_INPUT","MAX_CODE_LENGTH"],errorMessages:["This field is required","Invalid area code","Area code should have 3 digits"]})}),Object(C.jsx)(m.a,{item:!0,xs:1,sm:1,md:1,lg:1,children:Object(C.jsx)("div",{className:"phone_line",children:"\xa0"})}),Object(C.jsx)(m.a,{item:!0,xs:8,sm:8,md:8,lg:8,children:Object(C.jsx)(E,{margin:"dense",id:"phone_number",name:"phone_number",label:"Phone Number*",type:"text",value:oe,onChange:Y,fullWidth:!0,validators:["REQUIRED","VALID_INPUT","MAX_PHONE_LENGTH"],errorMessages:["This field is required","Invalid phone number","Phone number must be of 7 digits"]})})]})})]}),Object(C.jsxs)(m.a,{container:!0,rowSpacing:2,columnSpacing:6,children:[Object(C.jsx)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(C.jsx)(_.a,{fullWidth:!0,children:Object(C.jsx)(R,{id:"demo-simple-select",value:ce,label:"Country*",onChange:function(e){return u(Object(n.a)(Object(n.a)({},d),{},{country:e.target.value}))},name:"country",validators:["required","REQUIRED"],errorMessages:["This field is required","This field is required"],children:Object(C.jsx)(j.a,{value:"usa",children:"United States"})})})}),Object(C.jsx)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(C.jsx)(_.a,{fullWidth:!0,children:Object(C.jsxs)(R,{id:"demo-simple-select",value:le,label:"State*",onChange:function(e){return u(Object(n.a)(Object(n.a)({},d),{},{state:e.target.value}))},name:"state",validators:["required","REQUIRED"],errorMessages:["This field is required","This field is required"],children:[Object(C.jsx)(j.a,{value:"",children:"Select State"}),I&&I.map((function(e,t){return Object(C.jsx)(j.a,{value:e.state_id,children:e.name},t)}))]})})})]}),Object(C.jsxs)(m.a,{container:!0,rowSpacing:2,columnSpacing:6,children:[Object(C.jsx)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(C.jsx)(E,{id:"city",margin:"dense",name:"city",label:"City*",type:"text",value:de,onChange:Y,fullWidth:!0,validators:["REQUIRED"],errorMessages:["This field is required"]})}),Object(C.jsx)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(C.jsx)(E,{margin:"dense",id:"street_address1",name:"street_address1",label:"Street Address1*",type:"text",value:me,onChange:Y,fullWidth:!0,validators:["REQUIRED"],errorMessages:["This field is required"]})})]}),Object(C.jsxs)(m.a,{container:!0,rowSpacing:2,columnSpacing:6,children:[Object(C.jsx)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(C.jsx)(E,{margin:"dense",id:"street_address2",name:"street_address2",label:"Street Address2 (Optional)",type:"text",value:je,onChange:Y,fullWidth:!0})}),Object(C.jsx)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(C.jsx)(E,{margin:"dense",id:"postal_code",name:"postal_code",label:"Postal Code*",type:"text",value:ue,onChange:Y,fullWidth:!0,validators:["REQUIRED","VALID_INPUT","MAX_POSTAL_CODE"],errorMessages:["This field is required","Invalid postal code","Postal code must be of 5 digits"]})})]}),Object(C.jsx)(m.a,{container:!0,rowSpacing:2,columnSpacing:6,children:Object(C.jsx)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(C.jsx)(_.a,{fullWidth:!0,children:Object(C.jsxs)(R,{id:"demo-simple-select",value:be,label:"Select Center Type*",onChange:function(e){return u(Object(n.a)(Object(n.a)({},d),{},{center_type:e.target.value}))},name:"center_type",validators:["required","REQUIRED"],errorMessages:["This field is required","This field is required"],children:[Object(C.jsx)(j.a,{value:"",children:"Select Center Type"}),k&&k.map((function(e,t){return Object(C.jsx)(j.a,{value:e.attributes.center_type_id,children:e.attributes.name},t)}))]})})})}),Object(C.jsxs)(m.a,{item:!0,lg:12,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},children:[pe||he?Object(C.jsx)(M,{src:pe?pe.base64:he?ge+he:"/assets/images/upload-logo.png"}):Object(C.jsxs)(A,{variant:"contained",component:"label",children:[Object(C.jsx)(b.a,{children:"file_upload_outlined"}),"Upload Logo",Object(C.jsx)("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:ee})]}),Object(C.jsx)(m.a,{item:!0,style:{flexDirection:"column"},children:Object(C.jsx)(f.a,{variant:"contained",component:"label",color:"inherit",sx:{marginTop:"15px",height:"35px",marginBottom:"16px"},onClick:function(){return u(Object(n.a)(Object(n.a)({},d),{},{logo:null,logo_image:""}))},children:"Reset Logo"})})]}),Object(C.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[Object(C.jsxs)(p.a,{position:"relative",sx:{display:"block",marginTop:"20px"},children:[Object(C.jsx)(f.a,{disabled:q,color:"primary",variant:"contained",type:"submit",children:"Submit"}),q&&Object(C.jsx)(N,{size:24,className:"buttonProgress"})]}),Object(C.jsx)(w,{onClick:function(){return t(-1)},children:"Cancel"})]})]})}),Object(C.jsx)(h.a,{open:Q,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:function(){X(!1),t("/centers/list")},children:Object(C.jsx)(g.a,{onClose:function(){X(!1),t("/centers/list")},variant:"filled",severity:J.status,sx:{width:"100%"},children:J.message})})]})}}}]);
//# sourceMappingURL=50.fe368ee0.chunk.js.map