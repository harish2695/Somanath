(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[63],{643:function(e,t,n){"use strict";n(2);var r=n(332),c=n(50),i=n(331),o=n(334),a=n(205),u=n(25),s=n(1),l={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4};Object(c.a)(r.a)((function(){return{display:"block",color:"#fff",marginTop:"20px",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}}));t.a=function(e){var t=e.open,n=e.onConfirmDialogClose,c=e.text,d=(e.onYesClick,Object(u.f)()),b=function(){n(),localStorage.removeItem("accessToken"),d("/session/signin")};return Object(s.jsx)("div",{children:Object(s.jsx)(i.a,{keepMounted:!0,open:t,onClose:function(){return b()},"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(s.jsxs)(a.a,{sx:l,children:[Object(s.jsx)(o.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",sx:{color:"#333"},children:c}),Object(s.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"1rem"},children:Object(s.jsx)(a.a,{position:"relative",sx:{display:"block",marginTop:"20px"},children:Object(s.jsx)(r.a,{color:"primary",variant:"contained",onClick:function(){return b()},children:"Ok"})})})]})})})}},648:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"r",(function(){return l})),n.d(t,"o",(function(){return d})),n.d(t,"q",(function(){return b})),n.d(t,"a",(function(){return j})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return h})),n.d(t,"j",(function(){return O})),n.d(t,"l",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"s",(function(){return x})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"p",(function(){return T}));var r=n(26),c=function(e){var t="/api/centers/".concat(e);return Object(r.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},i=function(e){var t="/api/clients?pagination[page]=".concat(e);return Object(r.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},o=function(e){return Object(r.b)("GET","/api/barriers").then((function(e){return e})).then((function(e){return e}))},a=function(e){return Object(r.b)("POST","/api/clients",e).then((function(e){return e})).then((function(e){return e}))},u=function(e){var t="/api/clients/".concat(e);return Object(r.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},s=function(e){return Object(r.b)("POST","/api/licenses",e).then((function(e){return e})).then((function(e){return e}))},l=function(e,t){var n="/api/licenses/".concat(e);return Object(r.b)("PUT",n,t).then((function(e){return e})).then((function(e){return e}))},d=function(e){var t="/api/clients/".concat(e);return Object(r.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},b=function(e,t){var n="/api/clients/".concat(e);return Object(r.b)("PUT",n,t).then((function(e){return e})).then((function(e){return e}))},j=function(e){return Object(r.b)("POST","/api/notes",e).then((function(e){return e})).catch((function(e){return e}))},f=function(){return Object(r.b)("GET","/api/passphrases").then((function(e){return e})).catch((function(e){return e}))},h=function(e,t,n){var c="/api/clients?search=".concat(e,"&filter[clinician]=").concat(t.clinician,"&filter[device]=").concat(t.device,"&pagination[page]=").concat(n);return Object(r.b)("GET",c).then((function(e){return e})).catch((function(e){return e}))},O=function(){return Object(r.b)("GET","/api/initial-diagnoses").then((function(e){return e})).catch((function(e){return e}))},p=function(){return Object(r.b)("GET","/api/treatments").then((function(e){return e})).catch((function(e){return e}))},m=function(){return Object(r.b)("GET","/api/treatment-locations").then((function(e){return e})).catch((function(e){return e}))},x=function(e,t){var n="/api/notes/".concat(e);return Object(r.b)("PUT",n,t).then((function(e){return e})).catch((function(e){return e}))},g=function(e){return Object(r.b)("POST","/api/sessions",e).then((function(e){return e})).catch((function(e){return e}))},v=function(e){var t="/api/clients?check=".concat(e);return Object(r.b)("GET",t).then((function(e){return e})).catch((function(e){return e}))},T=function(e,t){var n="/api/clients/".concat(e);return Object(r.b)("PUT",n,t).then((function(e){return e})).then((function(e){return e}))}},953:function(e,t,n){"use strict";n.r(t);n(6);var r=n(13),c=n(8),i=n(2),o=n(207),a=n(25),u=n(330),s=n(945),l=n(698),d=n(699),b=n(712),j=n(646),f=n(94),h=n(647),O=n(668),p=n(50),m=n(648),x=n(797),g=n(664),v=n(1),T=function(e){var t=e.searchFilters,n=e.appointmentData,c=Object(i.useState)(""),o=Object(r.a)(c,2),a=o[0],u=o[1],s=Object(i.useState)(!1),l=Object(r.a)(s,2),d=l[0],b=l[1],f=Object(i.useState)("All"),h=Object(r.a)(f,2),O=h[0],p=h[1],m=Object(i.useState)((function(){return n})),x=Object(r.a)(m,2),T=x[0],C=x[1],S=Object(i.useState)([]),k=Object(r.a)(S,2),w=k[0],_=k[1],E=Object(i.useState)({total:n.length,page:1}),G=Object(r.a)(E,2),B=G[0],D=G[1];function y(e,t){var r=[];if(e&&e.length>1&&(r=n.filter((function(t){return t&&t.counsellor_name&&t.counsellor_name.toLowerCase().includes(e.toLowerCase())||t&&t.caseId&&t.caseId.toLowerCase().includes(e.toLowerCase())||t&&t.sessionId&&t.sessionId.toLowerCase().includes(e.toLowerCase())}))),"All"!==t){r=(e&&e.length>1?r:n).filter((function(e){return e&&e.status===t}))}r.meta=n.meta,b(!0),_(r),C(r),D({total:r.length,page:1})}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{data:t,searchValue:a,handleSearch:function(e){var t=e.target.value;u(t),t&&t.length>1?y(t,O):0===t.length&&("All"===O?(b(!1),C(n),D({total:n.length,page:1})):y("",O))},multipleFilters:!1,filterValue:O,handleFilter:function(e){var t=e.target,r=(t.name,t.value);p(r),"All"===r?a?y(a,r):(b(!1),C(n),D({total:n.length,page:1})):y(a,r)},handleReset:function(){b(!1),u(""),p("All"),_([]),C(n),D({total:n.length,page:1})}}),Object(v.jsx)(j.a,{page:1,pageDetails:B,handlePageChange:function(e,t){var r=10*(Number(t)+1-1),c=[],i=0;d?((c=w.slice(r,r+10)).meta=n.meta,i=w.length):((c=n.slice(r,r+10)).meta=n.meta,i=n.length),C(c),D({total:i,page:Number(t)+1})},rows:T,view:"client"})]})},C=n(643),S=Object(p.a)("div")((function(e){var t,n=e.theme;return t={margin:"30px"},Object(c.a)(t,n.breakpoints.down("sm"),{margin:"16px"}),Object(c.a)(t,"& .breadcrumb",Object(c.a)({marginBottom:"30px"},n.breakpoints.down("sm"),{marginBottom:"16px"})),t}));t.default=function(){Object(a.f)();var e=Object(i.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],j=Object(i.useState)("1"),p=Object(r.a)(j,2),g=p[0],k=p[1],w=h.b.client,_=Object(i.useState)(""),E=Object(r.a)(_,2),G=E[0],B=E[1],D=Object(i.useState)(""),y=Object(r.a)(D,2),I=(y[0],y[1]),P=Object(i.useState)(""),A=Object(r.a)(P,2),L=A[0],F=A[1],U=Object(i.useState)(""),Y=Object(r.a)(U,2),N=Y[0],J=Y[1],V=Object(i.useState)(!1),q=Object(r.a)(V,2),z=(q[0],q[1],Object(i.useState)({center:[],counselor:[],appointment:[]})),M=Object(r.a)(z,2),R=(M[0],M[1],Object(i.useState)({center:"",counselor:"",appointment:""})),H=Object(r.a)(R,2),K=(H[0],H[1],Object(i.useState)(!1)),Q=Object(r.a)(K,2),W=Q[0],X=Q[1],Z=Object(i.useState)(""),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ne=window.location.href.split("/").pop();function re(e){return{id:e&&e.id||"",name:e&&e.name||"",client_id:e&&e.client_id||"",gender_bio:e&&e.gender_bio||"",gender_identified:e&&e.gender_identified||"",centers:e&&e.centers&&e.centers.length||"0",counselors:e&&e.counsellors&&e.counsellors.length||"0",sessions:e&&e.sessions&&e.sessions.length||"0",center_id:e&&e.center&&e.center.user&&e.center.user.username||"",center_name:e&&e.center&&e.center.name||"",center_email:e&&e.center&&e.center.user&&e.center.user.email||""}}Object(i.useEffect)((function(){c(!0),Object(m.o)(ne).then((function(e){var t;"UnauthorizedError"===(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.name)?(X(!0),te("Your session has expired. You will be logged out.")):(B(function(e){var t=[];Array.isArray(e)?e.forEach((function(e){t.push(re(e))})):t=re(e);return t}(e)),I(Object(O.a)(e.center)),F(Object(O.c)(e.counsellor)),J(Object(O.e)(e.sessions)))})).catch(console.error)}),[ne]),Object(i.useEffect)((function(){c(!1)}),[G,n,w]);return Object(v.jsxs)(S,{children:[Object(v.jsx)(f.b,{routeSegments:[{name:"All Clients",path:"/clients"},{name:"Client Details"}]}),!n&&""!==G&&Object(v.jsxs)(l.a,{value:g,children:[Object(v.jsx)(u.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(v.jsx)(d.a,{onChange:function(e,t){k(t)},"aria-label":"Client Details Segment",children:w.map((function(e,t){return Object(v.jsx)(s.a,{label:e.name,value:e.id.toString()},t)}))})}),w&&w.map((function(e,t){return Object(v.jsx)(b.a,{value:e.id.toString(),children:1===e.id?Object(v.jsxs)(f.l,{title:G.name,subtitle:"Client",action:!1,children:[Object(v.jsx)(u.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(v.jsxs)(o.a,{container:!0,children:[Object(v.jsx)(o.a,{item:!0,xs:6,children:"Client ID"}),Object(v.jsx)(o.a,{item:!0,xs:6,children:G.client_id})]})}),Object(v.jsx)(u.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(v.jsxs)(o.a,{container:!0,children:[Object(v.jsx)(o.a,{item:!0,xs:6,children:"Full name"}),Object(v.jsx)(o.a,{item:!0,xs:6,children:G.name})]})}),Object(v.jsx)(u.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(v.jsxs)(o.a,{container:!0,children:[Object(v.jsx)(o.a,{item:!0,xs:6,children:"Birth Gender"}),Object(v.jsx)(o.a,{item:!0,xs:6,children:G.gender_bio})]})}),Object(v.jsx)(u.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(v.jsxs)(o.a,{container:!0,children:[Object(v.jsx)(o.a,{item:!0,xs:6,children:"ID Gender"}),Object(v.jsx)(o.a,{item:!0,xs:6,children:G.gender_identified})]})}),Object(v.jsx)(u.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(v.jsxs)(o.a,{container:!0,children:[Object(v.jsx)(o.a,{item:!0,xs:6,children:"Center ID"}),Object(v.jsx)(o.a,{item:!0,xs:6,children:G.center_id})]})}),Object(v.jsx)(u.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(v.jsxs)(o.a,{container:!0,children:[Object(v.jsx)(o.a,{item:!0,xs:6,children:"Center Name"}),Object(v.jsx)(o.a,{item:!0,xs:6,children:G.center_name})]})}),Object(v.jsx)(u.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(v.jsxs)(o.a,{container:!0,children:[Object(v.jsx)(o.a,{item:!0,xs:6,children:"Center Email"}),Object(v.jsx)(o.a,{item:!0,xs:6,children:G.center_email})]})})]}):2===e.id?Object(v.jsx)(x.a,{counsellorData:L}):3===e.id?Object(v.jsx)(T,{appointmentData:N,searchFilters:h.b.appointmentsListing}):null},t)}))]}),Object(v.jsx)(C.a,{open:W,text:ee,onConfirmDialogClose:function(){te(""),X(!1)},onYesClick:function(){te(""),X(!1)}})]})}}}]);
//# sourceMappingURL=63.5533ce5c.chunk.js.map