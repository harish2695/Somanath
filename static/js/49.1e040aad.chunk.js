(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[49],{662:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n(26),r=function(e){var t="/api/centers";return e&&(t+="?pagination[page]=".concat(e)),Object(a.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},i=function(){return Object(a.b)("GET","/api/centers?all=-1").then((function(e){return e})).then((function(e){return e}))},c=function(e){var t="/api/centers/".concat(e);return Object(a.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},s=function(e,t,n){var r="/api/centers?search=".concat(e,"&filter=").concat(t,"&pagination[page]=").concat(n);return Object(a.b)("GET",r).then((function(e){return e})).catch((function(e){return e}))}},672:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(51),r=n.n(a),i={client_id:"Client ID",clinician:"Provider",name:"Record Name",gender_bio:"Birth Gender",gender_identified:"ID Gender",license:"License",device:"Device",appointment:"Appointment"};function c(e){var t=[];return Array.isArray(e)?(e.forEach((function(e){t.push(o(e))})),t.meta=i):t.push(o(e)),t}function s(e){var t,n,a="NotScheduled",r=null===e||void 0===e||null===(t=e.attributes)||void 0===t||null===(n=t.sessions)||void 0===n?void 0:n.data;if(null!==r&&void 0!==r&&r.length)for(var i=0;i<r.length;i++){var c,s,o=r[i];"pending"!==(null===o||void 0===o||null===(c=o.attributes)||void 0===c?void 0:c.status)&&"scheduled"!==(null===o||void 0===o||null===(s=o.attributes)||void 0===s?void 0:s.status)||(a="Scheduled")}else a="NotScheduled";return a}function o(e){var t,n,a,r,i,c;return{clientID:e&&e.id||"",client_id:e&&e.attributes&&e.attributes.client_id||"",clinician_status:e&&e.attributes&&e.attributes.counsellor&&null!==(t=e.attributes)&&void 0!==t&&null!==(n=t.counsellor)&&void 0!==n&&n.data?null===(a=e.attributes)||void 0===a||null===(r=a.counsellor)||void 0===r||null===(i=r.data)||void 0===i||null===(c=i.attributes)||void 0===c?void 0:c.name:"Not Assigned",name:e&&e.attributes&&e.attributes.name||"",gender_bio:e&&e.attributes&&e.attributes.gender_bio||"",gender_identified:e&&e.attributes&&e.attributes.gender_identified||"",license:e&&e.attributes&&e.attributes.license&&e.attributes.license.data?"Issued":"Not Issued",device_status:e&&e.attributes&&e.attributes.license&&e.attributes.license.data&&e.attributes.license.data.attributes&&e.attributes.license.data.attributes.device&&e.attributes.license.data.attributes.device.data&&e.attributes.license.data.attributes.device.data.id?e.attributes.license.data.attributes.device.data.attributes.device_id:"Not Assigned",appointment:s(e)}}function l(e){return e.pagination}function u(e){var t=[];return Array.isArray(e)?e.forEach((function(e){t.push(d(e))})):t=d(e),t}function d(e){return{id:e.id,centerId:e&&e.user&&e.user.username,name:e.name,email:e.email,phoneNumber:e.phone_number,firstName:e.first_name,logo:"http://localhost:1337"+e.logo_image,lastName:e.last_name,country:e.country,state:e.state,city:e.city,postalCode:e.postal_code,areaCode:e.area_code,centerType:e.center_type,verified:e.is_verified,address:b(e.street_address1,e.street_address2),createdAt:r()(e.createdAt).format("DD MMMM, YYYY")}}function b(e,t){return e+" "+t}},832:function(e,t,n){},949:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(45),i=n(13),c=n(8),s=n(33),o=n.n(s),l=n(2),u=n(207),d=n(25),b=(n(832),n(330)),j=n(945),m=n(698),h=n(699),p=n(712),O=n(646),f=n(94),v=n(647),g=n(668),x=n(50),C=n(662),w=n(672),S=n(664),_=n(797),A=(n(740),n(1)),L=function(e){var t=e.searchFilters,n=e.clientData,r=Object(l.useState)(""),c=Object(i.a)(r,2),s=c[0],o=c[1],u=Object(l.useState)(!1),d=Object(i.a)(u,2),b=d[0],j=d[1],m=Object(l.useState)({gender:"All",status:"All"}),h=Object(i.a)(m,2),p=h[0],f=h[1],v=Object(l.useState)((function(){return n})),g=Object(i.a)(v,2),x=g[0],C=g[1],w=Object(l.useState)([]),_=Object(i.a)(w,2),L=_[0],T=_[1],N=Object(l.useState)({total:n.length,page:1}),D=Object(i.a)(N,2),y=D[0],B=D[1];function I(e){for(var t=!0,n=0,a=Object.entries(e);n<a.length;n++){"All"!==e[Object(i.a)(a[n],1)[0]]&&(t=!1)}return t}function E(e,t){var a=[],r=I(t);if(e&&e.length>2&&(a=n.filter((function(t){return t&&t.id&&t.id.toLowerCase().includes(e.toLowerCase())||t&&t.name&&t.name.toLowerCase().includes(e.toLowerCase())||t&&t.status&&t.status.toLowerCase().includes(e.toLowerCase())||t&&t.gender_bio&&t.gender_bio.toLowerCase().includes(e.toLowerCase())}))),!r){a=(e&&e.length>2?a:n).filter((function(e){if(e)return"All"!==t.gender&&"All"!==t.status?e&&e.gender_bio===t.gender&&e&&e.status===t.status:"All"!==t.gender?e&&e.gender_bio===t.gender:e&&e.status===t.status}))}a.meta=n.meta,j(!0),T(a),C(a),B({total:a.length,page:1})}return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(S.a,{data:t,searchValue:s,handleSearch:function(e){var t=e.target.value;o(t);var a=I(p);t&&t.length>2?E(t,p):0===t.length&&(a?(j(!1),C(n),B({total:n.length,page:1})):E("",p))},multipleFilters:!0,filterValue:p,handleFilter:function(e){var t=e.target,r=t.name,i=t.value,c=Object(a.a)({},p);c[r]=i,f(c),I(c)?s?E(s,c):(j(!1),C(n),B({total:n.length,page:1})):E(s,c)},handleReset:function(){j(!1),o(""),f({gender:"All",status:"All"}),T([]),C(n),B({total:n.length,page:1})}}),Object(A.jsx)(O.a,{page:1,pageDetails:y,handlePageChange:function(e,t){var a=10*(Number(t)+1-1),r=[],i=0;b?((r=L.slice(a,a+10)).meta=n.meta,i=L.length):((r=n.slice(a,a+10)).meta=n.meta,i=n.length),C(r),B({total:i,page:Number(t)+1})},rows:x,view:"client"})]})},T=Object(x.a)("div")((function(e){var t,n=e.theme;return t={margin:"30px"},Object(c.a)(t,n.breakpoints.down("sm"),{margin:"16px"}),Object(c.a)(t,"& .breadcrumb",Object(c.a)({marginBottom:"30px"},n.breakpoints.down("sm"),{marginBottom:"16px"})),t})),N=[{id:1,type:"search",name:"search",label:"Search Client",placeholder:"Search Client"},{id:2,type:"filter",label:"Gender Bio",name:"gender",items:[{id:1,name:"All",value:"All"},{id:2,name:"Male",value:"Male"},{id:3,name:"Female",value:"Female"},{id:4,name:"Other",value:"Other"}]},{id:3,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"New",value:"new"},{id:3,name:"In Process",value:"inProcess"},{id:4,name:"Successful",value:"successful"},{id:5,name:"Unsuccessful",value:"unsuccessful"}]}];t.default=function(e){var t=Object(d.f)(),n=Object(l.useState)(!1),s=Object(i.a)(n,2),x=s[0],S=s[1],D=Object(l.useState)("1"),y=Object(i.a)(D,2),B=y[0],I=y[1],E=v.b.center,F=Object(l.useState)(""),k=Object(i.a)(F,2),G=k[0],M=k[1],P=Object(l.useState)(""),Y=Object(i.a)(P,2),U=Y[0],J=Y[1],R=Object(l.useState)(""),V=Object(i.a)(R,2),q=V[0],z=V[1],H=Object(l.useState)(""),K=Object(i.a)(H,2),Q=K[0],W=K[1],X=Object(l.useState)(!1),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1],te=Object(l.useState)({center:[],counsellor:[],client:[],appointment:[]}),ne=Object(i.a)(te,2),ae=ne[0],re=ne[1],ie=Object(l.useState)({center:"",counsellor:"",client:"",appointment:""}),ce=Object(i.a)(ie,2),se=ce[0],oe=ce[1],le=window.location.href.split("/").pop(),ue=Object(l.useState)(null),de=Object(i.a)(ue,2),be=de[0],je=de[1],me=Boolean(be),he=Object(l.useState)(0),pe=Object(i.a)(he,2);pe[0],pe[1];function Oe(e){je(e.currentTarget)}function fe(){je(null)}var ve=function(){t("/users/editCenter?id=".concat(G.id)),je(null)},ge=function(){var e=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){S(!0),ge(le).then((function(e){M(Object(w.a)(e)),J(Object(g.c)(e.counsellors)),z(Object(g.b)(e.clients)),W(Object(g.e)(e.sessions))})).catch(console.error)}),[le]),Object(l.useEffect)((function(){S(!1)}),[G,x,E]);var xe=function(){return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(O.a,{role:"Center",rows:G})})},Ce=function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(f.m,{placeholder:"Search Appointment",value:se.appointment,handleBlur:(e="appointment",function(t){var n,r=t.target.value;oe(Object(a.a)(Object(a.a)({},se),{},Object(c.a)({},e,r))),r&&r.length>2&&(e&&"counsellor"===e?(n=U.filter((function(e){var t,n;return e&&e.id&&e.id.toLowerCase().includes(r.toLowerCase())||e&&e.name&&e.name.toLowerCase().includes(r.toLowerCase())||e&&e.email&&(null===(t=e.email)||void 0===t?void 0:t.toLowerCase().includes(r.toLowerCase()))||e&&e.phoneNumber&&(null===(n=e.phoneNumber)||void 0===n?void 0:n.toString().toLowerCase().includes(r.toLowerCase()))}))).meta=U.meta:e&&"center"===e?(n=G.filter((function(e){var t,n;return e.name.toLowerCase().includes(r)||(null===(t=e.email)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(n=e.phoneNumber)||void 0===n?void 0:n.toString().toLowerCase().includes(r))}))).meta=G.meta:e&&"client"===e?(n=q.filter((function(e){return e.id.toLowerCase().includes(r)||(null===e||void 0===e?void 0:e.name.toLowerCase().includes(r))||e.status.toLowerCase().includes(r)||(null===e||void 0===e?void 0:e.gender.toLowerCase().includes(r))}))).meta=q.meta:e&&"appointment"===e&&((n=Q.filter((function(e){var t;return e.caseId.includes(r)||(null===(t=e.sessionId)||void 0===t?void 0:t.includes(r))||e.status.toLowerCase().includes(r)}))).meta=Q.meta),ee(!0),re(Object(a.a)(Object(a.a)({},ae),{},Object(c.a)({},e,n)))),0===r.length&&ee(!1)})}),Object(A.jsx)(O.a,{role:"Session",rows:$&&""!==se.appointment?ae.appointment:Q})]});var e};return Object(A.jsxs)(T,{children:[Object(A.jsx)(f.b,{routeSegments:[{name:"Center",path:"/centers/list"},{name:"Center Details"}]}),!x&&""!==G&&Object(A.jsxs)(m.a,{value:B,children:[Object(A.jsx)(b.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(A.jsx)(h.a,{onChange:function(e,t){I(t)},"aria-label":"User Details Segement",children:E.map((function(e,t){return Object(A.jsx)(j.a,{label:e.name,value:e.id.toString()},t)}))})}),E&&E.map((function(e,t){return Object(A.jsx)(p.a,{value:e.id.toString(),children:1===e.id?Object(A.jsxs)(f.l,{title:G.name,subtitle:"Center",icon:G.logo,anchorEl:be,action:!0,open:me,handleClick:Oe,handleClose:fe,navigateTo:ve,children:[Object(A.jsx)(b.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(A.jsxs)(u.a,{container:!0,children:[Object(A.jsx)(u.a,{item:!0,xs:6,children:"Center ID"}),Object(A.jsx)(u.a,{item:!0,xs:6,children:G.centerId})]})}),Object(A.jsx)(b.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(A.jsxs)(u.a,{container:!0,children:[Object(A.jsx)(u.a,{item:!0,xs:6,children:"Full name"}),Object(A.jsx)(u.a,{item:!0,xs:6,children:G.name})]})}),Object(A.jsx)(b.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(A.jsxs)(u.a,{container:!0,children:[Object(A.jsx)(u.a,{item:!0,xs:6,children:"Email"}),Object(A.jsx)(u.a,{item:!0,xs:6,children:G.email})]})}),Object(A.jsx)(b.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(A.jsxs)(u.a,{container:!0,children:[Object(A.jsx)(u.a,{item:!0,xs:6,children:"Phone Number"}),Object(A.jsx)(u.a,{item:!0,xs:6,children:G.phoneNumber})]})}),Object(A.jsx)(b.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(A.jsxs)(u.a,{container:!0,children:[Object(A.jsx)(u.a,{item:!0,xs:6,children:"Address"}),Object(A.jsx)(u.a,{item:!0,xs:6,children:G.address?G.address:"ABC Street, Dakota, US"})]})}),Object(A.jsx)(b.a,{sx:{borderTop:1,paddingTop:1,paddingBottom:1,borderColor:"divider"},children:Object(A.jsxs)(u.a,{container:!0,children:[Object(A.jsx)(u.a,{item:!0,xs:6,children:"Date Created"}),Object(A.jsx)(u.a,{item:!0,xs:6,children:G.createdAt})]})})]}):2===e.id?Object(A.jsx)(xe,{}):3===e.id?Object(A.jsx)(_.a,{counsellorData:U}):4===e.id?Object(A.jsx)(L,{searchFilters:N,clientData:q}):Object(A.jsx)(Ce,{})},t)}))]})]})}}}]);
//# sourceMappingURL=49.1e040aad.chunk.js.map