(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[44],{643:function(e,n,t){"use strict";t(2);var r=t(332),c=t(50),a=t(331),o=t(334),i=t(205),l=t(25),u=t(1),s={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4};Object(c.a)(r.a)((function(){return{display:"block",color:"#fff",marginTop:"20px",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}}));n.a=function(e){var n=e.open,t=e.onConfirmDialogClose,c=e.text,d=(e.onYesClick,Object(l.f)()),b=function(){t(),localStorage.removeItem("accessToken"),d("/session/signin")};return Object(u.jsx)("div",{children:Object(u.jsx)(a.a,{keepMounted:!0,open:n,onClose:function(){return b()},"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(u.jsxs)(i.a,{sx:s,children:[Object(u.jsx)(o.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",sx:{color:"#333"},children:c}),Object(u.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"1rem"},children:Object(u.jsx)(i.a,{position:"relative",sx:{display:"block",marginTop:"20px"},children:Object(u.jsx)(r.a,{color:"primary",variant:"contained",onClick:function(){return b()},children:"Ok"})})})]})})})}},645:function(e,n,t){"use strict";t.d(n,"c",(function(){return c})),t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o})),t.d(n,"e",(function(){return i})),t.d(n,"h",(function(){return l})),t.d(n,"l",(function(){return u})),t.d(n,"n",(function(){return s})),t.d(n,"j",(function(){return d})),t.d(n,"m",(function(){return b})),t.d(n,"d",(function(){return f})),t.d(n,"g",(function(){return j})),t.d(n,"i",(function(){return h})),t.d(n,"f",(function(){return v})),t.d(n,"k",(function(){return p}));var r=t(26),c=function(e,n){var t="/api/clients?pagination[page]=".concat(e,"&counsellor=").concat(n);return Object(r.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},a=function(e,n){var t="/api/centers?pagination[page]=".concat(e,"&counsellor=").concat(n);return Object(r.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},o=function(e){var n="/api/counsellors?pagination[page]=".concat(e);return Object(r.b)("GET",n).then((function(e){return e})).catch((function(e){return e}))},i=function(e,n){var t="/api/sessions?pagination[page]=".concat(e,"&counsellor=").concat(n);return Object(r.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},l=function(e,n,t,c){console.log(c);var a="/api/sessions?filter=".concat(e,"&counsellor=").concat(t,"&filterType=").concat(c);return console.log(e),Object(r.b)("GET",a).then((function(e){return e})).catch((function(e){return e}))},u=function(e,n){var t="/api/sessions?find=".concat(e);return Object(r.b)("GET",t).then((function(e){return e})).catch((function(e){return e}))},s=function(e,n){var t="/api/sessions/".concat(e);return Object(r.b)("PUT",t,n).then((function(e){return e})).then((function(e){return e}))},d=function(e,n){var t="/api/clients?find=".concat(e);return Object(r.b)("GET",t).then((function(e){return e})).catch((function(e){return e}))},b=function(e,n){var t="/api/counsellors?pagination[page]=".concat(n,"&search=").concat(e);return Object(r.b)("GET",t).then((function(e){return e})).catch((function(e){return e}))},f=function(e){var n="/api/counsellors/".concat(e);return Object(r.b)("GET",n).then((function(e){return e})).catch((function(e){return e}))},j=function(e,n,t,c){console.log(c);var a="/api/clients?filter=".concat(e,"&counsellor=").concat(t,"&filterType=").concat(c);return console.log(e),Object(r.b)("GET",a).then((function(e){return e})).catch((function(e){return e}))},h=function(e,n,t){var c="/api/centers?search=".concat(e,"&counsellor=").concat(t);return console.log(e),Object(r.b)("GET",c).then((function(e){return e})).catch((function(e){return e}))},v=function(e,n,t){var c="/api/centers?filter=".concat(e,"&counsellor=").concat(t);return console.log(e),Object(r.b)("GET",c).then((function(e){return e})).catch((function(e){return e}))},p=function(e){var n=e&&e.search||"",t=e&&e.page||1,c=e&&e.centerName,a="/api/counsellors?search=".concat(n,"&pagination[page]=").concat(t);return c&&(a+="&centerName=".concat(c)),Object(r.b)("GET",a).then((function(e){return e})).catch((function(e){return e}))}},669:function(e,n,t){"use strict";var r=t(13),c=(t(2),t(636)),a=t(207),o=t(330),i=t(560),l=t(561),u=t(551),s=t(332),d=t(309),b=t(213),f=t.n(b),j=(t(341),t(1));n.a=function(e){var n=function(n){return"Gender"==n?e.genderValue.map((function(e,n){return Object(j.jsx)(c.a,{value:e,children:e},n)})):e.filterValue.map((function(e,n){return Object(j.jsx)(c.a,{value:e,children:e},n)}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(a.a,{sx:{marginTop:"0px",marginBottom:"20px"},container:!0,rowSpacing:3,columnSpacing:6,children:[Object(j.jsx)(a.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(j.jsx)(d.a,{sx:{width:"100%"},label:e.searchLabel,variant:"outlined",onChange:e.handleSearch,placeholder:e.searchLabel,type:"text",value:e.searchValue,autoFocus:!0,InputProps:{startAdornment:Object(j.jsx)(f.a,{})}})}),e.multiFilter?Object.entries(e.type).map((function(t,c){var s=Object(r.a)(t,2),d=s[0];return s[1],Object(j.jsx)(a.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(j.jsx)(o.a,{children:Object(j.jsxs)(i.a,{fullWidth:!0,children:[Object(j.jsx)(l.a,{sx:{backgroundColor:"#fafafa",padding:"0.25rem"},children:d}),Object(j.jsx)(u.a,{id:"demo-simple-select",value:"Gender"==d?e.genderSelectValue:e.selectValue,label:"Age",onChange:function(n){return e.handleChange(n,d)},placeholder:"Search Center",children:n(d)})]})})},"".concat(c))})):Object(j.jsx)(a.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(j.jsx)(o.a,{children:Object(j.jsxs)(i.a,{fullWidth:!0,children:[Object(j.jsx)(l.a,{sx:{backgroundColor:"#fafafa",padding:"0.25rem"},children:e.label}),Object(j.jsx)(u.a,{id:"demo-simple-select",value:e.selectValue,label:"Age",onChange:function(n){return e.handleChange(n)},placeholder:"Search Center",children:e.filterValue&&e.filterValue.map((function(e,n){return Object(j.jsx)(c.a,{value:e,children:e},n)}))})]})})})]}),Object(j.jsx)(i.a,{sx:{marginBottom:"20px",display:"flex",width:"100%"},children:Object(j.jsx)(s.a,{color:"primary",variant:"contained",onClick:e.handleReset,sx:{alignSelf:"flex-end"},children:"Reset"})})]})}},767:function(e,n,t){},954:function(e,n,t){"use strict";t.r(n);var r=t(45),c=t(6),a=t(13),o=t(33),i=t.n(o),l=t(2),u=t(207),s=t(25),d=t(94),b=t(135),f=t(645),j=t(95),h=t(669),v=t(219),p=t(643),O=(t(767),t(640)),g=t(1),m=function(e){var n=Object(l.useState)(10),t=Object(a.a)(n,2),r=t[0],c=t[1],o=Object(l.useState)(0),i=Object(a.a)(o,2),s=i[0],d=i[1];return Object(g.jsx)(u.a,{children:"Provider"==e.role?Object(g.jsx)(u.a,{children:Object(g.jsx)(v.a,{onClick:e.onClick,page:s,handleChangePage:function(e,n){d(n)},rowsPerPage:r,handleChangeRowsPerPage:function(e){c(+e.target.value),d(0)},rows:e.data,CustomHeadCell:function(e){for(var n=e.meta,t=[],r=Object.entries(n),c=0,o=Object.entries(r);c<o.length;c++){var i=Object(a.a)(o[c],2),l=i[0],u=Object(a.a)(i[1],2),s=u[0],d=u[1];"id"!==s&&t.push(Object(g.jsx)(O.a,{align:"center",className:"text-style",children:d},l))}return t},CustomBodyCell:function(e){for(var n=e.row,t=[],r=Object.entries(n),c=0,o=Object.entries(r);c<o.length;c++){var i=Object(a.a)(o[c],2),l=i[0],u=Object(a.a)(i[1],2),s=u[0],d=u[1];"id"!==s&&t.push(Object(g.jsx)(O.a,{className:"text-style",component:"th",scope:"row",align:"center",children:d},l))}return t}})}):Object(g.jsx)(u.a,{})})};n.default=function(){var e=Object(l.useState)({clinician:"All",device:"All"}),n=Object(a.a)(e,2),t=(n[0],n[1],Object(s.f)()),o=Object(l.useState)(!1),v=Object(a.a)(o,2),O=v[0],x=v[1],C=Object(l.useState)(),S=Object(a.a)(C,2),k=S[0],y=S[1],T=Object(l.useState)(!1),w=Object(a.a)(T,2),E=(w[0],w[1]),G=Object(l.useState)({search:"",filter:"All"}),A=Object(a.a)(G,2),V=A[0],P=A[1],Y=Object(l.useState)(0),I=Object(a.a)(Y,2),N=I[0],D=(I[1],Object(l.useState)("All")),R=Object(a.a)(D,2),U=(R[0],R[1],Object(l.useState)(["All","CAC","Clinic","Hospital","Private"])),z=Object(a.a)(U,2),B=z[0],F=(z[1],Object(l.useState)(!1)),L=Object(a.a)(F,2),H=L[0],J=L[1],W=Object(l.useState)(""),_=Object(a.a)(W,2),M=_[0],q=_[1],K=Object(j.a)().user,Q=function(){var e=Object(r.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=n.target.value)&&t.length>2?(E(!0),P(Object(c.a)(Object(c.a)({},V),{},{search:t})),X(t,N)):""===t&&($(N,K.counsellor.id),E(!1));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),X=function(e,n){x(!0),Object(f.i)(e,n,K.counsellor.id).then((function(e){var n;x(!1),"UnauthorizedError"===(null===e||void 0===e||null===(n=e.error)||void 0===n?void 0:n.name)?(J(!0),q("Your session has expired. You will be logged out.")):y(te(e.data))})).catch((function(e){console.log("error",e)}))},Z=function(e,n){x(!0),Object(f.f)(e,n,K.counsellor.id).then((function(e){var n;x(!1),"UnauthorizedError"===(null===e||void 0===e||null===(n=e.error)||void 0===n?void 0:n.name)?(J(!0),q("Your session has expired. You will be logged out.")):y(te(e.data))})).catch((function(e){console.log("error",e)}))},$=function(){var e=Object(r.a)(i.a.mark((function e(n,t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(f.a)(n,t).then((function(e){var n;if("UnauthorizedError"===(null===e||void 0===e||null===(n=e.error)||void 0===n?void 0:n.name)&&(J(!0),q("Your session has expired. You will be logged out.")),e){x(!1);var t=te(e.data);y(t)}})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();function ee(e){var n=e.filter((function(e){var n,t,r,c,a,o;return(null===e||void 0===e||null===(n=e.attributes)||void 0===n||null===(t=n.counsellor)||void 0===t?void 0:t.data)&&(null===e||void 0===e||null===(r=e.attributes)||void 0===r||null===(c=r.counsellor)||void 0===c||null===(a=c.data)||void 0===a?void 0:a.id)===(null===K||void 0===K||null===(o=K.counsellor)||void 0===o?void 0:o.id)}));return n&&n.length}function ne(e){var n=e.filter((function(e){var n,t,r,c,a,o;return(null===e||void 0===e||null===(n=e.attributes)||void 0===n||null===(t=n.counsellor)||void 0===t?void 0:t.data)&&(null===e||void 0===e||null===(r=e.attributes)||void 0===r||null===(c=r.counsellor)||void 0===c||null===(a=c.data)||void 0===a?void 0:a.id)===(null===K||void 0===K||null===(o=K.counsellor)||void 0===o?void 0:o.id)}));return n&&n.length}var te=function(e){var n=[];return e.forEach((function(e){var t,r,c,a,o,i,l,u,s,d,b,f,j,h,v,p=e.attributes,O=e.attributes.clients&&ee(e.attributes.clients.data)||0,g=e.attributes.sessions&&ne(e.attributes.sessions.data)||0,m=null!==e&&void 0!==e&&null!==(t=e.attributes)&&void 0!==t&&null!==(r=t.user)&&void 0!==r&&r.data?null===e||void 0===e||null===(c=e.attributes)||void 0===c||null===(a=c.user)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.attributes:null,x=null!==e&&void 0!==e&&null!==(i=e.attributes)&&void 0!==i&&null!==(l=i.state)&&void 0!==l&&l.data?null===e||void 0===e||null===(u=e.attributes)||void 0===u||null===(s=u.state)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.attributes:null,C=null!==e&&void 0!==e&&null!==(b=e.attributes)&&void 0!==b&&null!==(f=b.center_type)&&void 0!==f&&f.data?null===e||void 0===e||null===(j=e.attributes)||void 0===j||null===(h=j.center_type)||void 0===h||null===(v=h.data)||void 0===v?void 0:v.attributes:null,S={id:e.id,centerId:null===m||void 0===m?void 0:m.username,name:p?p.name:"",centerType:C?C.name:"-",state:x?x.name:"-",clients:O,session:g};n.push(S)})),n.meta={id:"ID",centerId:"Center ID",name:"Center Name",centerType:"Center Type",state:"State",clients:"Clients #",session:"Session #"},n};return Object(l.useEffect)((function(){$(N,K.counsellor.id)}),[]),Object(g.jsxs)(u.a,{container:!0,className:"client-container",children:[Object(g.jsx)(u.a,{className:"client-breadcrumb",children:Object(g.jsx)(d.b,{routeSegments:[{name:"All Centers"}]})}),O&&Object(g.jsx)(b.a,{}),Object(g.jsx)(h.a,{handleSearch:Q,handleChange:function(e,n){var t=e.target.value;console.log("handleChange",t),P(Object(c.a)(Object(c.a)({},V),{},{filter:t})),"All"!==t?(E(!0),Z(t,N)):(E(!1),$(N,K.counsellor.id))},filterValue:B,selectValue:V.filter,label:"Center Type",searchLabel:"Search Center",handleReset:function(){P({search:"",filter:"All"}),$(N,K.counsellor.id)}}),k&&Object(g.jsx)(m,{role:K.role.name,data:k,onClick:function(e){t("/center-details/".concat(e),{id:e})}}),Object(g.jsx)(p.a,{open:H,text:M,onConfirmDialogClose:function(){q(""),J(!1)},onYesClick:function(){q(""),J(!1)}})]})}}}]);
//# sourceMappingURL=44.24a4866e.chunk.js.map