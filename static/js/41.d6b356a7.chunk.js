(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[41],{643:function(e,t,n){"use strict";n(2);var a=n(332),i=n(50),c=n(331),r=n(334),o=n(205),s=n(25),l=n(1),d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4};Object(i.a)(a.a)((function(){return{display:"block",color:"#fff",marginTop:"20px",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}}));t.a=function(e){var t=e.open,n=e.onConfirmDialogClose,i=e.text,u=(e.onYesClick,Object(s.f)()),j=function(){n(),localStorage.removeItem("accessToken"),u("/session/signin")};return Object(l.jsx)("div",{children:Object(l.jsx)(c.a,{keepMounted:!0,open:t,onClose:function(){return j()},"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(l.jsxs)(o.a,{sx:d,children:[Object(l.jsx)(r.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",sx:{color:"#333"},children:i}),Object(l.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"1rem"},children:Object(l.jsx)(o.a,{position:"relative",sx:{display:"block",marginTop:"20px"},children:Object(l.jsx)(a.a,{color:"primary",variant:"contained",onClick:function(){return j()},children:"Ok"})})})]})})})}},644:function(e,t,n){"use strict";n(2);var a=n(42),i=n(1);t.a=Object(a.a)(Object(i.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},660:function(e,t,n){"use strict";var a=n(8),i=n(7),c=n(3),r=n(2),o=n(9),s=n(92),l=n(536),d=n(5),u=n(12),j=n(15),b=n(208),v=n(57),p=n(60);function f(e){return Object(v.a)("MuiAlert",e)}var h,m=Object(p.a)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),O=n(557),g=n(42),x=n(1),y=Object(g.a)(Object(x.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),S=Object(g.a)(Object(x.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),C=Object(g.a)(Object(x.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),_=Object(g.a)(Object(x.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),k=n(644),A=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],E=Object(d.a)(b.a,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Object(j.a)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,i="light"===t.palette.mode?l.b:l.e,r="light"===t.palette.mode?l.e:l.b,o=n.color||n.severity;return Object(c.a)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===n.variant&&Object(a.a)({color:i(t.palette[o].light,.6),backgroundColor:r(t.palette[o].light,.9)},"& .".concat(m.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"outlined"===n.variant&&Object(a.a)({color:i(t.palette[o].light,.6),border:"1px solid ".concat(t.palette[o].light)},"& .".concat(m.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"filled"===n.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main})})),M=Object(d.a)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),T=Object(d.a)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),R=Object(d.a)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),w={success:Object(x.jsx)(y,{fontSize:"inherit"}),warning:Object(x.jsx)(S,{fontSize:"inherit"}),error:Object(x.jsx)(C,{fontSize:"inherit"}),info:Object(x.jsx)(_,{fontSize:"inherit"})},I=r.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiAlert"}),a=n.action,r=n.children,l=n.className,d=n.closeText,b=void 0===d?"Close":d,v=n.color,p=n.icon,m=n.iconMapping,g=void 0===m?w:m,y=n.onClose,S=n.role,C=void 0===S?"alert":S,_=n.severity,I=void 0===_?"success":_,z=n.variant,D=void 0===z?"standard":z,L=Object(i.a)(n,A),N=Object(c.a)({},n,{color:v,severity:I,variant:D}),P=function(e){var t=e.variant,n=e.color,a=e.severity,i=e.classes,c={root:["root","".concat(t).concat(Object(j.a)(n||a)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return Object(s.a)(c,f,i)}(N);return Object(x.jsxs)(E,Object(c.a)({role:C,elevation:0,ownerState:N,className:Object(o.a)(P.root,l),ref:t},L,{children:[!1!==p?Object(x.jsx)(M,{ownerState:N,className:P.icon,children:p||g[I]||w[I]}):null,Object(x.jsx)(T,{ownerState:N,className:P.message,children:r}),null!=a?Object(x.jsx)(R,{className:P.action,children:a}):null,null==a&&y?Object(x.jsx)(R,{ownerState:N,className:P.action,children:Object(x.jsx)(O.a,{size:"small","aria-label":b,title:b,color:"inherit",onClick:y,children:h||(h=Object(x.jsx)(k.a,{fontSize:"small"}))})}):null]}))}));t.a=I},675:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return j}));var a=n(13),i=n(26),c=function(e,t){var n="/api/devices?pagination[page]=".concat(e,"&tab=").concat(t);return Object(i.b)("GET",n).then((function(e){return e})).then((function(e){return e}))},r=function(e){var t="/api/devices/"+e;return Object(i.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},o=function(e){return Object(i.b)("POST","/api/devices",e).then((function(e){return e})).then((function(e){return e}))},s=function(e,t){var n="/api/devices/"+t;return Object(i.b)("PUT",n,e).then((function(e){return e})).then((function(e){return e}))},l=function(e){var t=e&&e.search||"",n=e&&e.type||null,c=e&&e.page||1,r=e&&e.activeTab||1,o=e&&e.centerName,s="/api/devices?search=".concat(t,"&tab=").concat(r,"&pagination[page]=").concat(c);if(n)for(var l=0,d=Object.entries(n);l<d.length;l++){var u=Object(a.a)(d[l],2),j=u[0],b=u[1];s+="&filter[".concat(j,"]=").concat(b)}return o&&(s+="&centerName=".concat(o)),Object(i.b)("GET",s).then((function(e){return e})).catch((function(e){return e}))},d=function(e,t){var n="/api/device-usages?pagination[page]=".concat(e);return t&&(n+="&deviceId=".concat(t)),Object(i.b)("GET",n).then((function(e){return e})).catch((function(e){return e}))},u=function(e){var t=(null===e||void 0===e?void 0:e.page)||1,n=(null===e||void 0===e?void 0:e.search)||"",a=(null===e||void 0===e?void 0:e.type)||"All",c=null===e||void 0===e?void 0:e.deviceId,r="/api/device-usages?pagination[page]=".concat(t);return n&&(r+="&search=".concat(n)),a&&"All"!==a&&(r+="&filter=".concat(a)),c&&(r+="&deviceId=".concat(c)),Object(i.b)("GET",r).then((function(e){return e})).catch((function(e){return e}))},j=function(e){var t="/api/passphrases/"+e;return Object(i.b)("PUT",t).then((function(e){return e})).catch((function(e){return e}))}},764:function(e,t,n){},951:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(8),c=n(6),r=n(13),o=n(558),s=n(207),l=n(636),d=n(330),u=n(633),j=n(660),b=n(560),v=n(332),p=n(50),f=n(25),h=n(112),m=n(675),O=(n(653),n(95)),g=n(643),x=(n(655),n(764),n(1)),y=Object(p.a)(h.TextValidator)((function(){return{width:"100%",marginBottom:"16px"}})),S=Object(p.a)(h.SelectValidator)((function(){return{width:"100%",marginBottom:"16px",marginTop:"8px"}})),C=Object(p.a)(v.a)((function(){return{display:"block",color:"#fff",marginTop:"20px",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}})),_=Object(p.a)(o.a)((function(){return{position:"absolute",top:"6px",left:"25px"}})),k=[{name:"Available",value:"Available"},{name:"Repair",value:"Repair"}],A=[].concat(k,[{name:"Assigned",value:"Assigned"},{name:"Inventory",value:"Inventory"}]),E=function(e){var t=Object(f.f)(),n=Object(O.a)().user,o=Object(a.useState)({device_id:"",device_type:"",device_serial:"",mac_address:"",status:"",deviceId:""}),p=Object(r.a)(o,2),E=p[0],M=p[1],T=Object(a.useState)(!1),R=Object(r.a)(T,2),w=R[0],I=R[1],z=Object(a.useState)(!1),D=Object(r.a)(z,2),L=D[0],N=D[1],P=Object(a.useState)({status:"",messages:[]}),U=Object(r.a)(P,2),V=U[0],W=U[1],F=Object(a.useState)(!1),Q=Object(r.a)(F,2),H=Q[0],Y=Q[1],q=Object(a.useState)(""),G=Object(r.a)(q,2),B=G[0],J=G[1];function Z(e){e.persist(),M(Object(c.a)(Object(c.a)({},E),{},Object(i.a)({},e.target.name,e.target.value)))}Object(a.useEffect)((function(){h.ValidatorForm.addValidationRule("REQUIRED",(function(e){return 0!==e.length}));var e=window.location.href.split("=")[1];return e&&Object(m.g)(e).then((function(e){var t;"UnauthorizedError"===(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.name)?(Y(!0),J("Your session has expired. You will be logged out.")):e&&M(Object(c.a)(Object(c.a)({},E),{},{device_id:e.device_id,device_type:e.device_type,device_serial:e.device_serial,mac_address:e.mac_address,status:e.status,deviceId:e.id}))})),function(){h.ValidatorForm.removeValidationRule("REQUIRED")}}),[]);var K=E.device_id,X=E.device_type,$=E.device_serial,ee=E.mac_address,te=E.status;return Object(x.jsxs)("div",{className:"device-card",children:[Object(x.jsxs)(h.ValidatorForm,{onSubmit:function(e){I(!0);var t=E.device_id,n=E.device_type,a=E.device_serial,i=E.mac_address,r=E.status,o=E.deviceId,s={data:{device_id:t,device_type:n,device_serial:a,mac_address:i,status:r}};Object(m.b)(s,o).then((function(e){var t;if("UnauthorizedError"===(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.name))Y(!0),J("Your session has expired. You will be logged out.");else if(e&&"success"===e.status)N(!0),W(Object(c.a)(Object(c.a)({},V),{},{status:"success",messages:[e.message]}));else if(e&&"fail"===e.status){var n=[];e.errors.forEach((function(e){n.push(e.message)})),N(!0),W(Object(c.a)(Object(c.a)({},V),{},{status:"error",messages:n}))}else I(!1),N(!0),W(Object(c.a)(Object(c.a)({},V),{},{status:"error",messages:["Something went wrong"]}))}))},onError:function(){return null},children:[Object(x.jsxs)(s.a,{container:!0,rowSpacing:2,columnSpacing:6,children:[Object(x.jsx)(s.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(x.jsx)(y,{autoFocus:!0,margin:"dense",id:"device_id",name:"device_id",label:"Device ID*",type:"text",value:K,onChange:Z,fullWidth:!0,disabled:!0,validators:["REQUIRED"],errorMessages:["This field is required"]})}),Object(x.jsx)(s.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(x.jsx)(b.a,{fullWidth:!0,children:Object(x.jsxs)(S,{autoFocus:!0,id:"demo-simple-select",value:X,label:"Select Device Type*",onChange:function(e){return M(Object(c.a)(Object(c.a)({},E),{},{device_type:e.target.value}))},name:"device_type",validators:["REQUIRED"],errorMessages:["This field is required"],children:[Object(x.jsx)(l.a,{value:"",children:"Select Device Type"}),Object(x.jsx)(l.a,{value:"iPad",children:"iPad"}),Object(x.jsx)(l.a,{value:"iPhone",children:"iPhone"}),Object(x.jsx)(l.a,{value:"Android Phone",children:"Android Phone"}),Object(x.jsx)(l.a,{value:"Android Tablet",children:"Android Tablet"})]})})})]}),Object(x.jsxs)(s.a,{container:!0,rowSpacing:2,columnSpacing:6,children:[Object(x.jsx)(s.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(x.jsx)(y,{autoFocus:!0,margin:"dense",id:"device_serial",name:"device_serial",label:"Device Serial*",type:"text",value:$,onChange:Z,fullWidth:!0,validators:["REQUIRED"],errorMessages:["This field is required"]})}),Object(x.jsx)(s.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(x.jsx)(y,{autoFocus:!0,margin:"dense",id:"mac_address",name:"mac_address",label:"Mac Address*",type:"text",value:ee,onChange:Z,fullWidth:!0,validators:["REQUIRED"],errorMessages:["This field is required"]})})]}),Object(x.jsx)(s.a,{container:!0,rowSpacing:2,columnSpacing:6,children:Object(x.jsx)(s.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(x.jsx)(b.a,{fullWidth:!0,children:Object(x.jsxs)(S,{id:"demo-simple-select",value:te,label:"Select Status*",onChange:function(e){return M(Object(c.a)(Object(c.a)({},E),{},{status:e.target.value}))},name:"status",validators:["REQUIRED"],errorMessages:["This field is required"],children:[Object(x.jsx)(l.a,{value:"",children:"Select Status"}),n&&n.role&&"admin"===n.role.type&&k&&k.map((function(e,t){return Object(x.jsx)(l.a,{value:e.value,children:e.name},t)})),n&&n.role&&"center"===n.role.type&&A&&A.map((function(e,t){return Object(x.jsx)(l.a,{value:e.value,children:e.name},t)}))]})})})}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[Object(x.jsxs)(d.a,{position:"relative",sx:{display:"block",marginTop:"20px"},children:[Object(x.jsx)(v.a,{disabled:w,color:"primary",variant:"contained",type:"submit",children:"Submit"}),w&&Object(x.jsx)(_,{size:24,className:"buttonProgress"})]}),Object(x.jsx)(C,{onClick:function(){return t(-1)},children:"Cancel"})]})]}),Object(x.jsx)(u.a,{open:L,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:function(){I(!1),N(!1),V&&"success"===V.status&&t("/devices")},children:Object(x.jsx)("div",{children:V&&V.messages.map((function(e){return Object(x.jsx)(j.a,{onClose:function(){I(!1),N(!1),V&&"success"===V.status&&t("/devices")},variant:"filled",severity:V.status,sx:{width:"100%",marginBottom:"10px"},children:e})}))})}),Object(x.jsx)(g.a,{open:H,text:B,onConfirmDialogClose:function(){J(""),Y(!1)},onYesClick:function(){J(""),Y(!1)}})]})};t.default=function(){return Object(x.jsxs)("div",{style:{margin:"0px",padding:"20px"},children:[Object(x.jsx)("h1",{style:{marginTop:"0px",marginBottom:"10px",padding:"0px"},children:"Edit Device"}),Object(x.jsx)(E,{})]})}}}]);
//# sourceMappingURL=41.d6b356a7.chunk.js.map