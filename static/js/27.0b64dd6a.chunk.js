(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[27],{643:function(e,t,n){"use strict";n(2);var i=n(332),a=n(50),r=n(331),c=n(334),o=n(205),l=n(25),s=n(1),d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4};Object(a.a)(i.a)((function(){return{display:"block",color:"#fff",marginTop:"20px",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}}));t.a=function(e){var t=e.open,n=e.onConfirmDialogClose,a=e.text,u=(e.onYesClick,Object(l.f)()),b=function(){n(),localStorage.removeItem("accessToken"),u("/session/signin")};return Object(s.jsx)("div",{children:Object(s.jsx)(r.a,{keepMounted:!0,open:t,onClose:function(){return b()},"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(s.jsxs)(o.a,{sx:d,children:[Object(s.jsx)(c.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",sx:{color:"#333"},children:a}),Object(s.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"1rem"},children:Object(s.jsx)(o.a,{position:"relative",sx:{display:"block",marginTop:"20px"},children:Object(s.jsx)(i.a,{color:"primary",variant:"contained",onClick:function(){return b()},children:"Ok"})})})]})})})}},646:function(e,t,n){"use strict";var i=n(13),a=(n(2),n(566)),r=n(568),c=n(640),o=n(565),l=n(567),s=n(336),d=n(208),u=n(25),b=(n(650),n(557)),j=n(692),p=n(552),h=n(571),f=n.n(h),v=n(572),O=n.n(v),m=n(573),x=n.n(m),g=n(95),y=n(332),C=n(1),w={new:"New",inProcess:"In Process",successful:"Successful",unsuccessful:"Unsuccessful",pending:"Pending",scheduled:"Scheduled",rescheduled:"Rescheduled",cancelled:"Cancelled",completed:"Completed"};t.a=function(e){var t=Object(u.f)(),n=Object(g.a)().user,h=function(e){var t=e.meta,n=[];if(t)for(var a=Object.entries(t),r=0,o=Object.entries(a);r<o.length;r++){var l=Object(i.a)(o[r],2),s=l[0],d=Object(i.a)(l[1],2),u=d[0],b=d[1];"deviceId"!==u&&"counsellor_user_id"!==u&&n.push(Object(C.jsx)(c.a,{width:"scheduledAt"===u?140:60,variant:"head",align:"center",className:"text-style",children:b},s))}return n},v=function(t,n){return Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(i){i.stopPropagation(),t.disabled?e.handleEnable("center"===n?t.center_id:t.provider_id):e.handleDisable("center"===n?t.center_id:t.provider_id)},children:t.disabled?"Enable":"Disable"})},m=function(i,a,r){var c=null;switch(i){case"edit_action":c=Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(){return t(a)},children:"Edit"});break;case"return":c=Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.stopPropagation(),e.handleReturn(r)},disabled:!a,children:"Return"});break;case"expire":c=Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.stopPropagation(),e.handleExpire(r)},disabled:!a,children:"Expire"});break;case"device_action":c=function(t){return t.isAssigned?Object(C.jsx)("div",{style:{marginLeft:"1rem"},children:t.center_name}):n&&n.role&&"admin"===n.role.type&&"bmc"===t.owned_by?Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(){return e.handleOpen(t.deviceID,!0)},children:"Assign"}):null}(a);break;case"view_notes":c=function(t){return Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(C.jsx)(b.a,{"aria-label":"view",color:"primary",onClick:function(){return e.handleOpen(t,!0)},children:Object(C.jsx)(j.a,{badgeContent:t.notes?t.notes.length:0,color:"secondary",children:Object(C.jsx)(f.a,{})})}),Object(C.jsx)(b.a,{"aria-label":"view",color:"primary",onClick:function(){return e.handleOpenNewNotes(t,!0)},children:Object(C.jsx)(O.a,{})})]})}(a);break;case"clinician_status":c=function(t,i){return"Not Assigned"!==t?Object(C.jsx)("div",{children:t}):n&&n.role&&"admin"===n.role.type?Object(C.jsx)("div",{children:"Not Assigned"}):n&&n.role&&"center"===n.role.type?Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.stopPropagation(),e.assignClinician(i)},children:"Assign"}):void 0}(a,r);break;case"device_status":c=function(t,i){return"Not Assigned"!==t?Object(C.jsx)("div",{children:t}):n&&n.role&&"admin"===n.role.type?Object(C.jsx)("div",{children:"Not Assigned"}):n&&n.role&&"center"===n.role.type?Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.stopPropagation(),e.issueDevices(i)},disabled:"Not Issued"===i.license,children:"Assign"}):void 0}(a,r);break;case"license":c=function(t,i){return"Issued"===t?Object(C.jsx)("div",{children:"Issued"}):n&&n.role&&"admin"===n.role.type?Object(C.jsx)("div",{children:"Not Issued"}):n&&n.role&&"center"===n.role.type?Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.stopPropagation(),e.issueLisence(i)},children:"Issue"}):void 0}(a,r);break;case"scheduledAt":c=function(t){return"scheduled"==t.status?Object(C.jsxs)("div",{style:{marginLeft:"1rem"},children:[t.scheduledAt,Object(C.jsx)(b.a,{"aria-label":"view",color:"primary",children:"counsellor"===n.role.type&&Object(C.jsx)(x.a,{})})]}):"pending"==t.status?Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(C.jsx)(y.a,{variant:"contained",color:"success",style:{marginRight:5},onClick:function(){return e.handleAcceptModal(t,!0)},children:Object(C.jsx)("div",{style:{fontSize:".8rem"},children:"Accept"})}),Object(C.jsx)(y.a,{variant:"contained",color:"error",onClick:function(){return e.handleRejectModal(t,!0)},children:Object(C.jsx)("div",{style:{fontSize:".8rem"},children:"Reject"})})]}):"cancelled"==t.status?Object(C.jsx)("div",{style:{marginLeft:"1rem"},children:"".concat(t.scheduledAt," - Cancelled")}):Object(C.jsxs)("div",{style:{marginLeft:"1rem"},children:[t,Object(C.jsx)(b.a,{"aria-label":"view",color:"primary",children:"counsellor"===n.role.type&&Object(C.jsx)(x.a,{})})]})}(a);break;case"appointment":c=function(t,i){return"Scheduled"===t?Object(C.jsx)("div",{children:"Scheduled"}):n&&n.role&&"admin"===n.role.type?Object(C.jsx)("div",{children:"Not Scheduled"}):n&&n.role&&"center"===n.role.type?Object(C.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){t.stopPropagation(),e.scheduleSession(i)},children:"Schedule"}):void 0}(a,r);break;case"status":c=w[a]||a;break;case"disable_center":c=v(a,"center");break;case"disable_provider":c=v(a,"provider");break;default:c=a}return c},k=function(e){for(var t=e.row,n=[],a=Object.entries(t),r=0,o=Object.entries(a);r<o.length;r++){var l=Object(i.a)(o[r],2),s=l[0],d=Object(i.a)(l[1],2),u=d[0],b=d[1];"centerId"!==u&&"clientID"!==u&&"clinicId"!==u&&"deviceId"!==u&&"counsellor_user_id"!==u&&n.push(Object(C.jsx)(c.a,{className:"text-style",component:"th",scope:"row",align:"center",children:m(u,b,t)},s))}return n};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(d.a,{sx:{width:"100%",overflow:"hidden"},children:[Object(C.jsx)(o.a,{className:"main-table",children:Object(C.jsxs)(a.a,{sx:{minWidth:650},size:"small","aria-label":"simple table",className:"user-table",children:[Object(C.jsx)(l.a,{children:Object(C.jsx)(s.a,{children:Object(C.jsx)(h,{meta:e.rows.meta})})}),e.rows&&e.rows.length>0?Object(C.jsx)(r.a,{children:(e.rowsPerPage>0?e.rows.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage):e.rows).map((function(t,n){return Object(C.jsx)(s.a,{sx:{"&:last-child td, &:last-child th":{border:0}},onClick:function(){e.onClick&&e.onClick("device"===e.view?t.deviceId:"center"===e.view?t.centerId:"client"===e.view||"counselor"===e.view?t.clientID:"counsellor"===e.view?t.counsellor_user_id:"clinician"===e.view?t.clinicId:t.id)},children:Object(C.jsx)(k,{row:t})},n)}))}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("caption",{children:"No records found"})})]})}),!e.view||"center"!==e.view&&"device"!==e.view&&"client"!==e.view&&"counsellor"!==e.view&&"clinician"!==e.view?Object(C.jsx)(p.a,{rowsPerPageOptions:[],component:"div",count:e.rows.length,rowsPerPage:e.rowsPerPage||10,page:e.page||0,onPageChange:e.handleChangePage,onRowsPerPageChange:e.handleChangeRowsPerPage,className:"table-page"}):Object(C.jsx)(p.a,{rowsPerPageOptions:[],component:"div",count:e.pageDetails.total||0,rowsPerPage:10,page:e.pageDetails.page-1||0,onPageChange:e.handlePageChange,onRowsPerPageChange:e.handleChangeRowsPerPage,className:"table-page"})]})})}},648:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"r",(function(){return d})),n.d(t,"o",(function(){return u})),n.d(t,"q",(function(){return b})),n.d(t,"a",(function(){return j})),n.d(t,"m",(function(){return p})),n.d(t,"n",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"l",(function(){return v})),n.d(t,"k",(function(){return O})),n.d(t,"s",(function(){return m})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return g})),n.d(t,"p",(function(){return y}));var i=n(26),a=function(e){var t="/api/centers/".concat(e);return Object(i.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},r=function(e){var t="/api/clients?pagination[page]=".concat(e);return Object(i.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},c=function(e){return Object(i.b)("GET","/api/barriers").then((function(e){return e})).then((function(e){return e}))},o=function(e){return Object(i.b)("POST","/api/clients",e).then((function(e){return e})).then((function(e){return e}))},l=function(e){var t="/api/clients/".concat(e);return Object(i.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},s=function(e){return Object(i.b)("POST","/api/licenses",e).then((function(e){return e})).then((function(e){return e}))},d=function(e,t){var n="/api/licenses/".concat(e);return Object(i.b)("PUT",n,t).then((function(e){return e})).then((function(e){return e}))},u=function(e){var t="/api/clients/".concat(e);return Object(i.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},b=function(e,t){var n="/api/clients/".concat(e);return Object(i.b)("PUT",n,t).then((function(e){return e})).then((function(e){return e}))},j=function(e){return Object(i.b)("POST","/api/notes",e).then((function(e){return e})).catch((function(e){return e}))},p=function(){return Object(i.b)("GET","/api/passphrases").then((function(e){return e})).catch((function(e){return e}))},h=function(e,t,n){var a="/api/clients?search=".concat(e,"&filter[clinician]=").concat(t.clinician,"&filter[device]=").concat(t.device,"&pagination[page]=").concat(n);return Object(i.b)("GET",a).then((function(e){return e})).catch((function(e){return e}))},f=function(){return Object(i.b)("GET","/api/initial-diagnoses").then((function(e){return e})).catch((function(e){return e}))},v=function(){return Object(i.b)("GET","/api/treatments").then((function(e){return e})).catch((function(e){return e}))},O=function(){return Object(i.b)("GET","/api/treatment-locations").then((function(e){return e})).catch((function(e){return e}))},m=function(e,t){var n="/api/notes/".concat(e);return Object(i.b)("PUT",n,t).then((function(e){return e})).catch((function(e){return e}))},x=function(e){return Object(i.b)("POST","/api/sessions",e).then((function(e){return e})).catch((function(e){return e}))},g=function(e){var t="/api/clients?check=".concat(e);return Object(i.b)("GET",t).then((function(e){return e})).catch((function(e){return e}))},y=function(e,t){var n="/api/clients/".concat(e);return Object(i.b)("PUT",n,t).then((function(e){return e})).then((function(e){return e}))}},650:function(e,t,n){},660:function(e,t,n){"use strict";var i=n(8),a=n(7),r=n(3),c=n(2),o=n(9),l=n(92),s=n(536),d=n(5),u=n(12),b=n(15),j=n(208),p=n(57),h=n(60);function f(e){return Object(p.a)("MuiAlert",e)}var v,O=Object(h.a)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),m=n(557),x=n(42),g=n(1),y=Object(x.a)(Object(g.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),C=Object(x.a)(Object(g.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),w=Object(x.a)(Object(g.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),k=Object(x.a)(Object(g.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),T=n(644),S=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],P=Object(d.a)(j.a,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Object(b.a)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,a="light"===t.palette.mode?s.b:s.e,c="light"===t.palette.mode?s.e:s.b,o=n.color||n.severity;return Object(r.a)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===n.variant&&Object(i.a)({color:a(t.palette[o].light,.6),backgroundColor:c(t.palette[o].light,.9)},"& .".concat(O.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"outlined"===n.variant&&Object(i.a)({color:a(t.palette[o].light,.6),border:"1px solid ".concat(t.palette[o].light)},"& .".concat(O.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"filled"===n.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main})})),D=Object(d.a)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),A=Object(d.a)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),_=Object(d.a)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),I={success:Object(g.jsx)(y,{fontSize:"inherit"}),warning:Object(g.jsx)(C,{fontSize:"inherit"}),error:Object(g.jsx)(w,{fontSize:"inherit"}),info:Object(g.jsx)(k,{fontSize:"inherit"})},N=c.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiAlert"}),i=n.action,c=n.children,s=n.className,d=n.closeText,j=void 0===d?"Close":d,p=n.color,h=n.icon,O=n.iconMapping,x=void 0===O?I:O,y=n.onClose,C=n.role,w=void 0===C?"alert":C,k=n.severity,N=void 0===k?"success":k,M=n.variant,E=void 0===M?"standard":M,R=Object(a.a)(n,S),L=Object(r.a)({},n,{color:p,severity:N,variant:E}),V=function(e){var t=e.variant,n=e.color,i=e.severity,a=e.classes,r={root:["root","".concat(t).concat(Object(b.a)(n||i)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return Object(l.a)(r,f,a)}(L);return Object(g.jsxs)(P,Object(r.a)({role:w,elevation:0,ownerState:L,className:Object(o.a)(V.root,s),ref:t},R,{children:[!1!==h?Object(g.jsx)(D,{ownerState:L,className:V.icon,children:h||x[N]||I[N]}):null,Object(g.jsx)(A,{ownerState:L,className:V.message,children:c}),null!=i?Object(g.jsx)(_,{className:V.action,children:i}):null,null==i&&y?Object(g.jsx)(_,{ownerState:L,className:V.action,children:Object(g.jsx)(m.a,{size:"small","aria-label":j,title:j,color:"inherit",onClick:y,children:v||(v=Object(g.jsx)(T.a,{fontSize:"small"}))})}):null]}))}));t.a=N},662:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o}));var i=n(26),a=function(e){var t="/api/centers";return e&&(t+="?pagination[page]=".concat(e)),Object(i.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},r=function(){return Object(i.b)("GET","/api/centers?all=-1").then((function(e){return e})).then((function(e){return e}))},c=function(e){var t="/api/centers/".concat(e);return Object(i.b)("GET",t).then((function(e){return e})).then((function(e){return e}))},o=function(e,t,n){var a="/api/centers?search=".concat(e,"&filter=").concat(t,"&pagination[page]=").concat(n);return Object(i.b)("GET",a).then((function(e){return e})).catch((function(e){return e}))}},672:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return d}));var i=n(51),a=n.n(i),r={client_id:"Client ID",clinician:"Provider",name:"Record Name",gender_bio:"Birth Gender",gender_identified:"ID Gender",license:"License",device:"Device",appointment:"Appointment"};function c(e){var t=[];return Array.isArray(e)?(e.forEach((function(e){t.push(l(e))})),t.meta=r):t.push(l(e)),t}function o(e){var t,n,i="NotScheduled",a=null===e||void 0===e||null===(t=e.attributes)||void 0===t||null===(n=t.sessions)||void 0===n?void 0:n.data;if(null!==a&&void 0!==a&&a.length)for(var r=0;r<a.length;r++){var c,o,l=a[r];"pending"!==(null===l||void 0===l||null===(c=l.attributes)||void 0===c?void 0:c.status)&&"scheduled"!==(null===l||void 0===l||null===(o=l.attributes)||void 0===o?void 0:o.status)||(i="Scheduled")}else i="NotScheduled";return i}function l(e){var t,n,i,a,r,c;return{clientID:e&&e.id||"",client_id:e&&e.attributes&&e.attributes.client_id||"",clinician_status:e&&e.attributes&&e.attributes.counsellor&&null!==(t=e.attributes)&&void 0!==t&&null!==(n=t.counsellor)&&void 0!==n&&n.data?null===(i=e.attributes)||void 0===i||null===(a=i.counsellor)||void 0===a||null===(r=a.data)||void 0===r||null===(c=r.attributes)||void 0===c?void 0:c.name:"Not Assigned",name:e&&e.attributes&&e.attributes.name||"",gender_bio:e&&e.attributes&&e.attributes.gender_bio||"",gender_identified:e&&e.attributes&&e.attributes.gender_identified||"",license:e&&e.attributes&&e.attributes.license&&e.attributes.license.data?"Issued":"Not Issued",device_status:e&&e.attributes&&e.attributes.license&&e.attributes.license.data&&e.attributes.license.data.attributes&&e.attributes.license.data.attributes.device&&e.attributes.license.data.attributes.device.data&&e.attributes.license.data.attributes.device.data.id?e.attributes.license.data.attributes.device.data.attributes.device_id:"Not Assigned",appointment:o(e)}}function s(e){return e.pagination}function d(e){var t=[];return Array.isArray(e)?e.forEach((function(e){t.push(u(e))})):t=u(e),t}function u(e){return{id:e.id,centerId:e&&e.user&&e.user.username,name:e.name,email:e.email,phoneNumber:e.phone_number,firstName:e.first_name,logo:"http://localhost:1337"+e.logo_image,lastName:e.last_name,country:e.country,state:e.state,city:e.city,postalCode:e.postal_code,areaCode:e.area_code,centerType:e.center_type,verified:e.is_verified,address:b(e.street_address1,e.street_address2),createdAt:a()(e.createdAt).format("DD MMMM, YYYY")}}function b(e,t){return e+" "+t}},728:function(e,t,n){"use strict";function i(e){var t=[];return Array.isArray(e)?e.forEach((function(e){e&&e.user&&e.user.confirmed&&t.push(a(e))})):t.push(a(e)),t}function a(e){return{name:null===e||void 0===e?void 0:e.name,id:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name}}function r(e){var t=[];return Array.isArray(e)?e.forEach((function(e){t.push(c(e))})):t.push(c(e)),t}function c(e){return{traumaCode:e.attributes.trauma_code,traumaName:e.attributes.trauma_name,traumaId:e.id}}function o(e){var t=[];return Array.isArray(e)?e.forEach((function(e){t.push(l(e))})):t.push(l(e)),t}function l(e){return{barrierName:e.barrier_name,barrierId:e.id}}n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}))},836:function(e,t,n){},914:function(e,t,n){"use strict";n.r(t);var i=n(6),a=n(13),r=n(2),c=n.n(r),o=n(207),l=n(330),s=n(560),d=n(561),u=n(551),b=n(636),j=n(332),p=n(660),h=n(309),f=n(25),v=n(213),O=n.n(v),m=n(94),x=n(672),g=n(648),y=n(135),C=n(646),w=(n(836),n(331)),k=n(334),T=n(112),S=n(930),P=n(1),D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4,borderRadius:"15px"};function A(e){var t=c.a.useState(""),n=Object(a.a)(t,2),o=n[0],s=n[1],d=c.a.useState(""),u=Object(a.a)(d,2),b=u[0],p=u[1],f=c.a.useState(!1),v=Object(a.a)(f,2),O=v[0],m=v[1],x=Object(r.useRef)();return Object(P.jsx)("div",{children:Object(P.jsx)(w.a,{keepMounted:!0,open:e.open,onClose:e.handleClose,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(P.jsx)(l.a,{sx:D,children:Object(P.jsxs)(T.ValidatorForm,{ref:x,onSubmit:function(){if(m(!0),o){m(!0);var t={data:{counsellor:Number(o.id)}};Object(g.q)(e.currentClient.clientID,t).then((function(t){e.handleSubmit()})).catch((function(e){console.log("error",e)}))}},onError:function(){return null},children:[Object(P.jsx)(k.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",children:"Assign Provider"}),Object(P.jsx)(l.a,{sx:{minWidth:300},children:Object(P.jsx)(S.a,{disablePortal:!0,fullWidth:!0,id:"combo-box-demo",options:e.row||[],sx:{width:"100%",padding:"12px 0px"},value:b,onChange:function(e,t){s(t)},inputValue:b,onInputChange:function(e,t){p(t)},isOptionEqualToValue:function(e,t){return!0},renderInput:function(e){return Object(P.jsx)(h.a,Object(i.a)(Object(i.a)({},e),{},{label:"Assign Provider*"}))}})}),!o&&O&&Object(P.jsx)("span",{style:{color:"red"},children:"This field is required"}),Object(P.jsxs)(l.a,{sx:{display:"table",marginLeft:"auto",marginRight:"0px"},children:[Object(P.jsx)(j.a,{color:"error",variant:"contained",onClick:e.handleClose,children:"Cancel"}),Object(P.jsx)(j.a,{sx:{ml:2},type:"submit",variant:"contained",children:"Assign"})]})]})})})})}var _=n(95),I=n(633),N=n(8),M=n(50),E=n(51),R=n.n(E),L=n(662),V=Object(M.a)(T.SelectValidator)((function(){return{width:"100%",marginBottom:"16px",marginTop:"8px"}})),z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4,borderRadius:"15px"};function F(e){var t=Object(r.useState)({deviceType:""}),n=Object(a.a)(t,2),c=n[0],o=n[1],d=Object(r.useState)({}),u=Object(a.a)(d,2),p=u[0],h=u[1],f=Object(_.a)().user,v=c.deviceType,O=Object(r.useRef)();return Object(r.useEffect)((function(){var e;f&&f.center&&Object(L.d)(null===f||void 0===f||null===(e=f.center)||void 0===e?void 0:e.id).then((function(e){h(e)})).catch((function(e){console.log("error",e)}))}),[]),Object(P.jsx)("div",{children:Object(P.jsx)(w.a,{keepMounted:!0,open:e.open,onClose:e.handleClose,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(P.jsx)(l.a,{sx:z,children:Object(P.jsxs)(T.ValidatorForm,{ref:O,onSubmit:function(t){var n,i,a,r={license:{data:{license_type:"Loaner"===v?"Limited":"Freehold",client:e.currentClient.clientID,center:null===f||void 0===f||null===(n=f.center)||void 0===n?void 0:n.id,status:"BYOD"===v?"Used":"New",publishedAt:R()().format().split("T")[0]+" "+R()().format().split("T")[1].slice(0,8)}},passphrase:{data:{used:!0,publishedAt:R()().format().split("T")[0]+" "+R()().format().split("T")[1].slice(0,8)}},device:{data:{center:null===f||void 0===f||null===(i=f.center)||void 0===i?void 0:i.id,publishedAt:R()().format().split("T")[0]+" "+R()().format().split("T")[1].slice(0,8)}},device_type:v,state_code:null===p||void 0===p||null===(a=p.state)||void 0===a?void 0:a.state_id};Object(g.d)(r).then((function(t){"success"===t.status&&e.handleSubmit(e.currentClient.clientID)})).catch((function(e){console.log("error",e)}))},onError:function(){return null},children:[Object(P.jsx)(k.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",children:"Device / License type"}),Object(P.jsx)(l.a,{sx:{minWidth:300},children:Object(P.jsx)(s.a,{fullWidth:!0,children:Object(P.jsxs)(V,{id:"demo-simple-select",value:v,label:"Device / License Type*",onChange:function(e){o(Object(i.a)(Object(i.a)({},c),{},Object(N.a)({},e.target.name,e.target.value)))},name:"deviceType",validators:["required"],errorMessages:["This field is required"],children:[Object(P.jsx)(b.a,{value:"Loaner",children:"Loaner"}),Object(P.jsx)(b.a,{value:"BYOD",children:"BYOD"})]})})}),Object(P.jsxs)(l.a,{sx:{display:"table",marginLeft:"auto",marginRight:"0px"},children:[Object(P.jsx)(j.a,{color:"error",variant:"contained",onClick:e.handleClose,children:"Cancel"}),Object(P.jsx)(j.a,{sx:{ml:2},type:"submit",variant:"contained",children:"Assign"})]})]})})})})}var Y=n(215),B=n(35),W=n(643),G=Object(M.a)(T.SelectValidator)((function(){return{width:"100%",marginBottom:"16px",marginTop:"8px"}})),U={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4,borderRadius:"15px"};function q(e){Object(f.f)();var t=Object(r.useRef)(),n=Object(Y.b)(),i=c.a.useState(""),o=Object(a.a)(i,2),d=o[0],u=o[1],p=c.a.useState(""),h=Object(a.a)(p,2),v=(h[0],h[1],c.a.useState(!1)),O=Object(a.a)(v,2),m=O[0],x=O[1],y=c.a.useState(""),C=Object(a.a)(y,2),S=C[0],D=C[1];return Object(P.jsxs)("div",{children:[Object(P.jsx)(w.a,{keepMounted:!0,open:e.open,onClose:e.handleClose,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(P.jsx)(l.a,{sx:U,children:Object(P.jsxs)(T.ValidatorForm,{ref:t,onSubmit:function(){var t={data:{device:Number(d.id),clientId:e&&e.clientId,action:"Assign"}};Object(g.r)(e.licenseId,t).then((function(t){var n;"UnauthorizedError"===(null===t||void 0===t||null===(n=t.error)||void 0===n?void 0:n.name)?(x(!0),D("Your session has expired. You will be logged out.")):(e.handleSubmit(d),u(""))})).catch((function(e){console.log("error",e)}))},onError:function(){return null},children:[Object(P.jsx)(k.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",children:"Assign Device"}),Object(P.jsx)(l.a,{sx:{minWidth:300},children:Object(P.jsx)(s.a,{fullWidth:!0,children:Object(P.jsxs)(G,{id:"demo-simple-select",value:d,label:"Device to Issue*",onChange:function(e){u(e.target.value)},name:"state",validators:["required"],errorMessages:["This field is required"],children:[Object(P.jsx)(b.a,{value:"",children:"Device to Issue"}),e.row&&e.row.filter((function(e){return!e.is_assigned&&"bmc"===e.owned_by})).map((function(e,t){return Object(P.jsx)(b.a,{value:e,disabled:e.is_assigned,children:e.device_id+"-"+e.device_type},t)}))]})})}),Object(P.jsxs)(l.a,{sx:{display:"table",marginLeft:"auto",marginRight:"0px"},children:[Object(P.jsx)(j.a,{color:"error",variant:"contained",onClick:function(){n(Object(B.l)()),u(""),e.handleClose()},children:"Cancel"}),Object(P.jsx)(j.a,{sx:{ml:2},type:"submit",variant:"contained",children:"Assign"})]})]})})}),Object(P.jsx)(W.a,{open:m,text:S,onConfirmDialogClose:function(){D(""),x(!1)},onYesClick:function(){D(""),x(!1)}})]})}var H={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4,borderRadius:"15px"};function K(e){var t,n;return Object(P.jsx)("div",{children:Object(P.jsx)(w.a,{keepMounted:!0,open:e.open,onClose:e.handleClose,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(P.jsxs)(o.a,{sx:H,style:{textAlign:"center",padding:"10px"},children:[Object(P.jsx)("h2",{children:"Congratulations"}),Object(P.jsxs)("div",{children:[Object(P.jsx)("p",{children:Object(P.jsx)("strong",{children:e.clientId})}),Object(P.jsx)("p",{children:"is set to go. Assigned License"}),Object(P.jsxs)("p",{children:[" ",Object(P.jsx)("strong",{children:null===(t=e.license)||void 0===t||null===(n=t.passphrase)||void 0===n?void 0:n.name})]}),Object(P.jsx)("p",{children:"to Connect Device"}),Object(P.jsx)("p",{children:Object(P.jsx)("strong",{children:e.deviceType})})]}),Object(P.jsxs)(l.a,{style:{display:"flex",justifyContent:"center"},children:[Object(P.jsx)(j.a,{variant:"contained",color:"error",onClick:e.handleClose,children:"Cancel"}),Object(P.jsx)(j.a,{variant:"contained",sx:{ml:2},children:"Print and issue"}),Object(P.jsx)(j.a,{variant:"contained",sx:{ml:2},children:"Issue"})]})]})})})}var J=n(728),Q=n(7),Z=n(3),X=n(40),$=n(44),ee=n(539),te=n(134),ne=n(5),ie=n(12),ae=["component","direction","spacing","divider","children"];function re(e,t){var n=r.Children.toArray(e).filter(Boolean);return n.reduce((function(e,i,a){return e.push(i),a<n.length-1&&e.push(r.cloneElement(t,{key:"separator-".concat(a)})),e}),[])}var ce=Object(ne.a)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,i=Object(Z.a)({display:"flex"},Object(X.b)({theme:n},Object(X.d)({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var a=Object($.a)(n),r=Object.keys(n.breakpoints.values).reduce((function(e,n){return null==t.spacing[n]&&null==t.direction[n]||(e[n]=!0),e}),{}),c=Object(X.d)({values:t.direction,base:r}),o=Object(X.d)({values:t.spacing,base:r});i=Object(te.a)(i,Object(X.b)({theme:n},o,(function(e,n){return{"& > :not(style) + :not(style)":Object(N.a)({margin:0},"margin".concat((i=n?c[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i])),Object($.d)(a,e))};var i})))}return i})),oe=r.forwardRef((function(e,t){var n=Object(ie.a)({props:e,name:"MuiStack"}),i=Object(ee.a)(n),a=i.component,r=void 0===a?"div":a,c=i.direction,o=void 0===c?"column":c,l=i.spacing,s=void 0===l?0:l,d=i.divider,u=i.children,b=Object(Q.a)(i,ae),j={direction:o,spacing:s};return Object(P.jsx)(ce,Object(Z.a)({as:r,ownerState:j,ref:t},b,{children:d?re(u,d):u}))})),le=n(912),se=n(813),de=n(618),ue=n(651),be=n(737),je=["ampm","inputFormat","maxDate","maxDateTime","maxTime","minDate","minDateTime","minTime","openTo","orientation","views"];function pe(e,t){var n=e.ampm,i=e.inputFormat,a=e.maxDate,r=e.maxDateTime,c=e.maxTime,o=e.minDate,l=e.minDateTime,s=e.minTime,d=e.openTo,u=void 0===d?"day":d,b=e.orientation,j=void 0===b?"portrait":b,p=e.views,h=void 0===p?["year","day","hours","minutes"]:p,f=Object(Q.a)(e,je),v=Object(ue.c)(),O=Object(ue.a)(),m=null!=o?o:O.minDate,x=null!=a?a:O.maxDate,g=null!=n?n:v.is12HourCycleInCurrentLocale();if("portrait"!==j)throw new Error("We are not supporting custom orientation for DateTimePicker yet :(");return Object(ie.a)({props:Object(Z.a)({openTo:u,views:h,ampm:g,ampmInClock:!0,orientation:j,showToolbar:!0,allowSameDateSelection:!0,minDate:null!=l?l:m,minTime:null!=l?l:s,maxDate:null!=r?r:x,maxTime:null!=r?r:c,disableIgnoringDatePartForTimeValidation:Boolean(l||r),acceptRegex:g?/[\dap]/gi:/\d/gi,mask:"__/__/____ __:__",disableMaskedInput:g,inputFormat:Object(be.e)(i,g,{localized:v.formats.keyboardDateTime,"12h":v.formats.keyboardDateTime12h,"24h":v.formats.keyboardDateTime24h})},f),name:t})}var he=n(60),fe=n(9),ve=["className","selected","value"],Oe=Object(he.a)("PrivatePickersToolbarText",["selected"]),me=Object(ne.a)(k.a)((function(e){var t=e.theme;return Object(N.a)({transition:t.transitions.create("color"),color:t.palette.text.secondary},"&.".concat(Oe.selected),{color:t.palette.text.primary})})),xe=r.forwardRef((function(e,t){var n=e.className,i=e.selected,a=e.value,r=Object(Q.a)(e,ve);return Object(P.jsx)(me,Object(Z.a)({ref:t,className:Object(fe.a)(n,i&&Oe.selected),component:"span"},r,{children:a}))})),ge=n(752),ye=["align","className","selected","typographyClassName","value","variant"],Ce=Object(ne.a)(j.a)({padding:0,minWidth:16,textTransform:"none"}),we=r.forwardRef((function(e,t){var n=e.align,i=e.className,a=e.selected,r=e.typographyClassName,c=e.value,o=e.variant,l=Object(Q.a)(e,ye);return Object(P.jsx)(Ce,Object(Z.a)({variant:"text",ref:t,className:i},l,{children:Object(P.jsx)(xe,{align:n,className:r,variant:o,value:c,selected:a})}))})),ke=n(945),Te=n(921),Se=n(831),Pe=n(717),De=n(688),Ae=Object(ne.a)(Te.a)((function(e){var t=e.ownerState,n=e.theme;return Object(Z.a)({boxShadow:"0 -1px 0 0 inset ".concat(n.palette.divider)},"desktop"===t.wrapperVariant&&Object(N.a)({order:1,boxShadow:"0 1px 0 0 inset ".concat(n.palette.divider)},"& .".concat(Se.a.indicator),{bottom:"auto",top:0}))})),_e=function(e){var t,n=e.dateRangeIcon,i=void 0===n?Object(P.jsx)(Pe.f,{}):n,a=e.onChange,c=e.timeIcon,o=void 0===c?Object(P.jsx)(Pe.h,{}):c,l=e.view,s=r.useContext(De.a),d=Object(Z.a)({},e,{wrapperVariant:s});return Object(P.jsxs)(Ae,{ownerState:d,variant:"fullWidth",value:(t=l,["day","month","year"].includes(t)?"date":"time"),onChange:function(e,t){a("date"===t?"day":"hours")},children:[Object(P.jsx)(ke.a,{value:"date","aria-label":"pick date",icon:Object(P.jsx)(r.Fragment,{children:i})}),Object(P.jsx)(ke.a,{value:"time","aria-label":"pick time",icon:Object(P.jsx)(r.Fragment,{children:o})})]})},Ie=["ampm","date","dateRangeIcon","hideTabs","isMobileKeyboardViewOpen","onChange","openView","setOpenView","timeIcon","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],Ne=Object(he.a)("PrivateDateTimePickerToolbar",["penIcon"]),Me=Object(ne.a)(ge.a)(Object(N.a)({paddingLeft:16,paddingRight:16,justifyContent:"space-around"},"& .".concat(Ne.penIcon),{position:"absolute",top:8,right:8})),Ee=Object(ne.a)("div")({display:"flex",flexDirection:"column",alignItems:"flex-start"}),Re=Object(ne.a)("div")({display:"flex"}),Le=Object(ne.a)(xe)({margin:"0 4px 0 2px",cursor:"default"}),Ve=function(e){var t,n=e.ampm,i=e.date,a=e.dateRangeIcon,c=e.hideTabs,o=e.isMobileKeyboardViewOpen,l=e.openView,s=e.setOpenView,d=e.timeIcon,u=e.toggleMobileKeyboardView,b=e.toolbarFormat,j=e.toolbarPlaceholder,p=void 0===j?"\u2013\u2013":j,h=e.toolbarTitle,f=void 0===h?"Select date & time":h,v=e.views,O=Object(Q.a)(e,Ie),m=Object(ue.c)(),x=r.useContext(De.a),g="desktop"===x||!c&&"undefined"!==typeof window&&window.innerHeight>667,y=r.useMemo((function(){return i?b?m.formatByString(i,b):m.format(i,"shortDate"):p}),[i,b,p,m]);return Object(P.jsxs)(r.Fragment,{children:["desktop"!==x&&Object(P.jsxs)(Me,Object(Z.a)({toolbarTitle:f,penIconClassName:Ne.penIcon,isMobileKeyboardViewOpen:o,toggleMobileKeyboardView:u},O,{isLandscape:!1,children:[Object(P.jsxs)(Ee,{children:[v.includes("year")&&Object(P.jsx)(we,{tabIndex:-1,variant:"subtitle1",onClick:function(){return s("year")},selected:"year"===l,value:i?m.format(i,"year"):"\u2013"}),v.includes("day")&&Object(P.jsx)(we,{tabIndex:-1,variant:"h4",onClick:function(){return s("day")},selected:"day"===l,value:y})]}),Object(P.jsxs)(Re,{children:[v.includes("hours")&&Object(P.jsx)(we,{variant:"h3",onClick:function(){return s("hours")},selected:"hours"===l,value:i?(t=i,n?m.format(t,"hours12h"):m.format(t,"hours24h")):"--"}),v.includes("minutes")&&Object(P.jsxs)(r.Fragment,{children:[Object(P.jsx)(Le,{variant:"h3",value:":"}),Object(P.jsx)(we,{variant:"h3",onClick:function(){return s("minutes")},selected:"minutes"===l,value:i?m.format(i,"minutes"):"--"})]}),v.includes("seconds")&&Object(P.jsxs)(r.Fragment,{children:[Object(P.jsx)(Le,{variant:"h3",value:":"}),Object(P.jsx)(we,{variant:"h3",onClick:function(){return s("seconds")},selected:"seconds"===l,value:i?m.format(i,"seconds"):"--"})]})]})]})),g&&Object(P.jsx)(_e,{dateRangeIcon:a,timeIcon:d,view:l,onChange:s})]})},ze=n(775),Fe=n(913),Ye=n(751),Be=n(704),We=n(758),Ge=function(e,t,n){var i=n.minTime,a=n.maxTime,r=n.shouldDisableTime,c=n.disableIgnoringDatePartForTimeValidation,o=e.date(t),l=Object(We.c)(Boolean(c),e);if(null===t)return null;switch(!0){case!e.isValid(t):return"invalidDate";case Boolean(i&&l(i,o)):return"minTime";case Boolean(a&&l(o,a)):return"maxTime";case Boolean(r&&r(e.getHours(o),"hours")):return"shouldDisableTime-hours";case Boolean(r&&r(e.getMinutes(o),"minutes")):return"shouldDisableTime-minutes";case Boolean(r&&r(e.getSeconds(o),"seconds")):return"shouldDisableTime-seconds";default:return null}},Ue=["minDate","maxDate","disableFuture","shouldDisableDate","disablePast"],qe=function(e,t,n){var i=n.minDate,a=n.maxDate,r=n.disableFuture,c=n.shouldDisableDate,o=n.disablePast,l=Object(Q.a)(n,Ue),s=Object(Be.b)(e,t,{minDate:i,maxDate:a,disableFuture:r,shouldDisableDate:c,disablePast:o});return null!==s?s:Ge(e,t,l)},He=function(e,t){return e===t};function Ke(e){return Object(Ye.a)(e,qe,He)}var Je=n(687),Qe=n(743),Ze=n(713),Xe=["onChange","PopperProps","ToolbarComponent","TransitionComponent","value"],$e={emptyValue:null,parseInput:Je.b,areValuesEqual:function(e,t,n){return e.isEqual(t,n)}},et=r.forwardRef((function(e,t){var n=pe(e,"MuiDesktopDateTimePicker"),i=null!==Ke(n),a=Object(Ze.a)(n,$e),r=a.pickerProps,c=a.inputProps,o=a.wrapperProps,l=n.PopperProps,s=n.ToolbarComponent,d=void 0===s?Ve:s,u=n.TransitionComponent,b=Object(Q.a)(n,Xe),j=Object(Z.a)({},c,b,{ref:t,validationError:i});return Object(P.jsx)(ze.a,Object(Z.a)({},o,{DateInputProps:j,KeyboardDateInputComponent:Qe.a,PopperProps:l,TransitionComponent:u,children:Object(P.jsx)(Fe.a,Object(Z.a)({},r,{autoFocus:!0,toolbarTitle:n.label||n.toolbarTitle,ToolbarComponent:d,DateInputProps:j},b))}))})),tt=n(776),nt=n(760),it=["ToolbarComponent","value","onChange"],at={emptyValue:null,parseInput:Je.b,areValuesEqual:function(e,t,n){return e.isEqual(t,n)}},rt=r.forwardRef((function(e,t){var n=pe(e,"MuiMobileDateTimePicker"),i=null!==Ke(n),a=Object(Ze.a)(n,at),r=a.pickerProps,c=a.inputProps,o=a.wrapperProps,l=n.ToolbarComponent,s=void 0===l?Ve:l,d=Object(Q.a)(n,it),u=Object(Z.a)({},c,d,{ref:t,validationError:i});return Object(P.jsx)(tt.a,Object(Z.a)({},d,o,{DateInputProps:u,PureDateInputComponent:nt.a,children:Object(P.jsx)(Fe.a,Object(Z.a)({},r,{autoFocus:!0,toolbarTitle:n.label||n.toolbarTitle,ToolbarComponent:s,DateInputProps:u},d))}))})),ct=["cancelText","clearable","clearText","desktopModeMediaQuery","DialogProps","okText","PopperProps","showTodayButton","todayText","TransitionComponent"],ot=r.forwardRef((function(e,t){var n=Object(ie.a)({props:e,name:"MuiDateTimePicker"}),i=n.cancelText,a=n.clearable,r=n.clearText,c=n.desktopModeMediaQuery,o=void 0===c?"@media (pointer: fine)":c,l=n.DialogProps,s=n.okText,d=n.PopperProps,u=n.showTodayButton,b=n.todayText,j=n.TransitionComponent,p=Object(Q.a)(n,ct);return Object(de.a)(o)?Object(P.jsx)(et,Object(Z.a)({ref:t,PopperProps:d,TransitionComponent:j},p)):Object(P.jsx)(rt,Object(Z.a)({ref:t,cancelText:i,clearable:a,clearText:r,DialogProps:l,okText:s,showTodayButton:u,todayText:b},p))})),lt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4,borderRadius:"15px"};function st(e){var t=c.a.useState(""),n=Object(a.a)(t,2),r=n[0],o=n[1],s=c.a.useState(!1),d=Object(a.a)(s,2),u=d[0],b=d[1],f=c.a.useState(!1),v=Object(a.a)(f,2),O=v[0],m=v[1],x=c.a.useState(!1),y=Object(a.a)(x,2),C=y[0],T=y[1],S=Object(_.a)().user;return Object(P.jsxs)("div",{children:[Object(P.jsx)(w.a,{keepMounted:!0,open:e.open,onClose:e.handleClose,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(P.jsxs)(l.a,{sx:lt,children:[Object(P.jsx)(k.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",children:"Scheduled appointment"}),Object(P.jsxs)(l.a,{sx:{minWidth:300,padding:"20px 0px"},children:[Object(P.jsx)(se.a,{dateAdapter:le.a,children:Object(P.jsx)(oe,{spacing:3,children:Object(P.jsx)(ot,{label:"Date&Time picker",value:r,onChange:function(t){var n,i,a,r,c,l;(m(!1),R()(t)<R()()?b(!0):b(!1),null!==e&&void 0!==e&&null!==(n=e.row)&&void 0!==n&&null!==(i=n.counsellor)&&void 0!==i&&i.sessions&&(null===e||void 0===e||null===(a=e.row)||void 0===a||null===(r=a.counsellor)||void 0===r?void 0:r.sessions.length)>0)&&(null===e||void 0===e||null===(c=e.row)||void 0===c||null===(l=c.counsellor)||void 0===l||l.sessions.forEach((function(e){var n=R.a.duration(R()(t).diff(R()(e.scheduled_at)));Number(n.asMinutes())<=50&&Number(n.asMinutes())>-10&&m(!0)})));o(t)},disablePast:!0,renderInput:function(e){return Object(P.jsx)(h.a,Object(i.a)({},e))}})})}),u&&Object(P.jsx)("span",{style:{color:"red"},children:"Only future time is allowed"})]}),Object(P.jsxs)(l.a,{sx:{display:"table",marginLeft:"auto",marginRight:"0px"},children:[Object(P.jsx)(j.a,{color:"error",variant:"contained",onClick:function(){e.handleClose()},children:"Cancel"}),Object(P.jsx)(j.a,{sx:{ml:2},type:"submit",variant:"contained",onClick:function(){if(!u){var t,n,i,a,c,l,s,d,b,j,p={session:{data:{client:e.row.id,case_id:null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.client_id,session_id:218,scheduled_at:R()(r).format().split("T")[0]+" "+R()(r).format().split("T")[1].slice(0,8),duration:50,status:"pending",counsellor:null===e||void 0===e||null===(n=e.row)||void 0===n||null===(i=n.counsellor)||void 0===i?void 0:i.id,center:null===S||void 0===S||null===(a=S.center)||void 0===a?void 0:a.id,publishedAt:R()().format().split("T")[0]+" "+R()().format().split("T")[1].slice(0,8)}},center_type_id:null===(c=e.row)||void 0===c||null===(l=c.center)||void 0===l||null===(s=l.center_type)||void 0===s?void 0:s.center_type_id,state_id:null===(d=e.row)||void 0===d||null===(b=d.center)||void 0===b||null===(j=b.state)||void 0===j?void 0:j.id};O?T(!0):Object(g.e)(p).then((function(t){o(""),e.handleSubmit()})).catch((function(e){console.log("error",e)}))}},children:"Schedule"})]})]})}),Object(P.jsx)(I.a,{open:C,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:function(){T(!1)},children:Object(P.jsx)(p.a,{onClose:function(){T(!1)},variant:"filled",severity:"error",sx:{width:"100%"},children:"This time slot has already been scheduled, which may lead to conflicts."})})]})}t.default=function(){var e=Object(f.f)(),t=Object(_.a)().user,n=Object(Y.b)(),c=Object(r.useState)([]),v=Object(a.a)(c,2),w=v[0],k=v[1],T=Object(r.useState)(!1),S=Object(a.a)(T,2),D=S[0],N=S[1],M=Object(r.useState)({}),E=Object(a.a)(M,2),R=E[0],L=E[1],V=Object(r.useState)(!1),z=Object(a.a)(V,2),G=z[0],U=z[1],H=Object(r.useState)(!1),Q=Object(a.a)(H,2),Z=Q[0],X=Q[1],$=Object(r.useState)(""),ee=Object(a.a)($,2),te=ee[0],ne=ee[1],ie=Object(r.useState)([]),ae=Object(a.a)(ie,2),re=ae[0],ce=ae[1],oe=Object(r.useState)([]),le=Object(a.a)(oe,2),se=le[0],de=le[1],ue=Object(r.useState)({clinician:"All",device:"All"}),be=Object(a.a)(ue,2),je=be[0],pe=be[1],he=Object(r.useState)(!1),fe=Object(a.a)(he,2),ve=fe[0],Oe=fe[1],me=Object(r.useState)(!1),xe=Object(a.a)(me,2),ge=xe[0],ye=xe[1],Ce=Object(r.useState)(!1),we=Object(a.a)(Ce,2),ke=we[0],Te=we[1],Se=Object(r.useState)({}),Pe=Object(a.a)(Se,2),De=Pe[0],Ae=Pe[1],_e=Object(r.useState)({}),Ie=Object(a.a)(_e,2),Ne=Ie[0],Me=Ie[1],Ee=Object(r.useState)({}),Re=Object(a.a)(Ee,2),Le=Re[0],Ve=Re[1],ze=Object(r.useState)(!1),Fe=Object(a.a)(ze,2),Ye=Fe[0],Be=Fe[1],We=Object(r.useState)(!1),Ge=Object(a.a)(We,2),Ue=Ge[0],qe=Ge[1],He=Object(r.useState)(!1),Ke=Object(a.a)(He,2),Je=Ke[0],Qe=Ke[1],Ze=Object(r.useState)(!1),Xe=Object(a.a)(Ze,2),$e=Xe[0],et=Xe[1],tt=Object(r.useState)(!1),nt=Object(a.a)(tt,2),it=nt[0],at=nt[1],rt=Object(r.useState)(""),ct=Object(a.a)(rt,2),ot=ct[0],lt=ct[1],dt=Object(r.useState)(!1),ut=Object(a.a)(dt,2),bt=ut[0],jt=ut[1],pt=Object(r.useState)(""),ht=Object(a.a)(pt,2),ft=ht[0],vt=ht[1];function Ot(e){N(!0),Object(g.g)(e).then((function(e){var t;N(!1),"UnauthorizedError"===(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.name)?(jt(!0),vt("Your session has expired. You will be logged out.")):(e&&e.counsellors&&ce(Object(J.b)(e.counsellors)),e&&e.devices&&de(e.devices))})).catch((function(e){console.log("error",e)}))}function mt(e){N(!0),Object(g.i)(e).then((function(e){var t;N(!1),"UnauthorizedError"===(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.name)?(jt(!0),vt("Your session has expired. You will be logged out.")):(k(Object(x.b)(e.data)),L(Object(x.c)(e.meta)))}))}function xt(e,t,n){Object(g.n)(e,t,n).then((function(e){var t;N(!1),"UnauthorizedError"===(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.name)?(jt(!0),vt("Your session has expired. You will be logged out.")):(k(Object(x.b)(e.data)),L(Object(x.c)(e.meta)))}))}console.log(""),Object(r.useEffect)((function(){var e;(n(Object(B.l)()),mt(1),t&&t.center&&t.center.id)&&Ot(null===t||void 0===t||null===(e=t.center)||void 0===e?void 0:e.id)}),[n]);var gt=function(e,t){var n=e.target.value;pe("clinician"===t?Object(i.a)(Object(i.a)({},je),{},{clinician:n}):Object(i.a)(Object(i.a)({},je),{},{device:n})),"clinician"===t?"All"===n&&"All"===je.device?te?(U(!0),xt(te,{clinician:"All",device:"All"},1)):(X(!1),mt(1)):(X(!0),xt(te,{clinician:n,device:je.device},1)):"All"===je.clinician&&"All"===n?te?(U(!0),xt(te,{clinician:"All",device:"All"},1)):(X(!1),mt(1)):(X(!0),xt(te,{clinician:je.clinician,device:n},1))},yt=function(e){Object(g.h)(e).then((function(e){var n,i;if("UnauthorizedError"===(null===e||void 0===e||null===(n=e.error)||void 0===n?void 0:n.name))jt(!0),vt("Your session has expired. You will be logged out.");else if(e&&e.license)if(Ve(e.license),"Freehold"===(null===(i=e.license)||void 0===i?void 0:i.license_type))lt(e.license.device),at(!0);else{var a,r=se.filter((function(e){return!e.is_assigned&&"bmc"===e.owned_by}));if(r&&r.length>0)et(!0);else Te("There are no available device for ".concat(null===t||void 0===t||null===(a=t.center)||void 0===a?void 0:a.name)),Oe(!0)}}))},Ct=function(){Be(!1),at(!1),mt(1),Qe(!1)},wt=function(e){var n;(Be(!1),se&&0!==se.length)?(Ae(e),e&&"Issued"===e.license&&yt(e.clientID)):(Te("No devices added to ".concat(null===t||void 0===t||null===(n=t.center)||void 0===n?void 0:n.name)),Oe(!0))};return Object(P.jsxs)(o.a,{container:!0,className:"client-container",children:[Object(P.jsx)(o.a,{className:"client-breadcrumb",children:Object(P.jsx)(m.b,{routeSegments:[{name:"All Clients"}]})}),Object(P.jsxs)(o.a,{className:"client-box",sx:{marginTop:"20px"},children:[Object(P.jsx)(h.a,{label:"Search Client",variant:"outlined",className:"client-search",value:te,onChange:function(e){var t=e.target.value;ne(t),t&&t.length>2?(U(!0),xt(t,je,1)):""===t&&("All"===je.clinician&&"All"===je.device?(mt(1),U(!1),X(!1)):(X(!0),xt("",je,1)))},placeholder:"Search client",type:"text",InputProps:{startAdornment:Object(P.jsx)(O.a,{})}}),Object(P.jsx)(l.a,{sx:{minWidth:"40%"},className:"select-role",children:Object(P.jsxs)(s.a,{fullWidth:!0,children:[Object(P.jsx)(d.a,{sx:{backgroundColor:"#fafafa",padding:"0.25rem"},children:"Provider Status"}),Object(P.jsxs)(u.a,{id:"demo-simple-select",value:je.clinician,label:"Age",onChange:function(e){return gt(e,"clinician")},children:[Object(P.jsx)(b.a,{value:"All",children:"All"}),Object(P.jsx)(b.a,{value:"unassigned",children:"Unassigned"}),Object(P.jsx)(b.a,{value:"assigned",children:"Assigned"})]})]})})]}),Object(P.jsx)(o.a,{className:"client-box",children:Object(P.jsx)(l.a,{sx:{minWidth:"40%"},children:Object(P.jsxs)(s.a,{fullWidth:!0,children:[Object(P.jsx)(d.a,{sx:{backgroundColor:"#fafafa",padding:"0.25rem"},children:"Device Status"}),Object(P.jsxs)(u.a,{id:"demo-simple-select",value:je.device,label:"Age",onChange:function(e){return gt(e,"device")},children:[Object(P.jsx)(b.a,{value:"All",children:"All"}),Object(P.jsx)(b.a,{value:"unassigned",children:"Unassigned"}),Object(P.jsx)(b.a,{value:"assigned",children:"Assigned"})]})]})})}),Object(P.jsx)(s.a,{sx:{marginBottom:"20px",display:"flex",width:"100%"},children:Object(P.jsx)(j.a,{color:"primary",variant:"contained",onClick:function(){var e;(ne(""),pe({clinician:"All",device:"All"}),U(!1),X(!1),mt(1),t&&t.center)&&Ot(null===t||void 0===t||null===(e=t.center)||void 0===e?void 0:e.id)},sx:{alignSelf:"flex-end"},children:"Reset"})}),D&&Object(P.jsx)(y.a,{}),!D&&w.meta&&Object(P.jsx)(C.a,{onClick:function(t){e("/client/details/".concat(t),{id:t})},page:1,pageDetails:R,handlePageChange:function(e,t){G||Z?xt(te,je,Number(t)+1):mt(t+1)},rows:w,assignClinician:function(e){var n;re&&0!==re.length?(Ae(e),Be(!0)):(Te("No clinicians added to ".concat(null===t||void 0===t||null===(n=t.center)||void 0===n?void 0:n.name)),Oe(!0))},issueLisence:function(e){Ae(e),Qe(!0)},issueDevices:wt,scheduleSession:function(e){Object(g.o)(e.clientID).then((function(e){var t;"UnauthorizedError"===(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.name)?(jt(!0),vt("Your session has expired. You will be logged out.")):e.counsellor?e.license&&e.license.device?(Me(e),ye(!0)):(Te("Device is not assigned"),Oe(!0)):(Te("Provider is not assigned"),Oe(!0))}))},view:"client"}),Object(P.jsx)(A,{open:Ye,row:re,handleClose:function(){return Be(!1)},handleSubmit:Ct,currentClient:De}),Object(P.jsx)(F,{open:Je,handleClose:function(){return Qe(!1)},handleSubmit:function(e,t){mt(1),Qe(!1),yt(e)},currentClient:De,issueDevice:wt}),Object(P.jsx)(q,{open:$e,row:se,handleClose:function(){return et(!1)},handleSubmit:function(e){var n;et(!1),lt(e),mt(1),Ot(null===t||void 0===t||null===(n=t.center)||void 0===n?void 0:n.id),at(!0)},clientId:De.clientID,licenseId:Le.id}),Object(P.jsx)(K,{open:it,clientId:De.client_id,license:Le,handleClose:Ct,deviceType:"Freehold"===Le.license_type?"BYOD":ot.device_id+"-"+ot.device_type}),Object(P.jsx)(st,{open:ge,handleClose:function(){ye(!1)},handleSubmit:function(){ye(!1),mt(1),qe(!0)},row:Ne}),Object(P.jsx)(I.a,{open:ve,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:function(){Oe(!1)},children:Object(P.jsx)(p.a,{onClose:function(){Oe(!1)},variant:"filled",severity:"error",sx:{width:"100%"},children:ke})}),Object(P.jsx)(I.a,{open:Ue,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:function(){qe(!1)},children:Object(P.jsx)(p.a,{onClose:function(){qe(!1)},variant:"filled",severity:"success",sx:{width:"100%"},children:"Appoint has been scheduled"})}),Object(P.jsx)(W.a,{open:bt,text:ft,onConfirmDialogClose:function(){vt(""),jt(!1)},onYesClick:function(){vt(""),jt(!1)}})]})}}}]);
//# sourceMappingURL=27.0b64dd6a.chunk.js.map