(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[39],{643:function(e,a,t){"use strict";t(2);var n=t(332),i=t(50),r=t(331),l=t(334),o=t(205),s=t(25),c=t(1),d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4};Object(i.a)(n.a)((function(){return{display:"block",color:"#fff",marginTop:"20px",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}}));a.a=function(e){var a=e.open,t=e.onConfirmDialogClose,i=e.text,u=(e.onYesClick,Object(s.f)()),m=function(){t(),localStorage.removeItem("accessToken"),u("/session/signin")};return Object(c.jsx)("div",{children:Object(c.jsx)(r.a,{keepMounted:!0,open:a,onClose:function(){return m()},"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(c.jsxs)(o.a,{sx:d,children:[Object(c.jsx)(l.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",sx:{color:"#333"},children:i}),Object(c.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"1rem"},children:Object(c.jsx)(o.a,{position:"relative",sx:{display:"block",marginTop:"20px"},children:Object(c.jsx)(n.a,{color:"primary",variant:"contained",onClick:function(){return m()},children:"Ok"})})})]})})})}},644:function(e,a,t){"use strict";t(2);var n=t(42),i=t(1);a.a=Object(n.a)(Object(i.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},647:function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return i}));var n={admin:[{id:1,name:"Details"},{id:2,name:"Centers"},{id:3,name:"Providers"},{id:4,name:"Clients"}],center:[{id:1,name:"Details"},{id:3,name:"Providers"},{id:4,name:"Clients"}],counsellor:[{id:1,name:"Details"},{id:2,name:"Centers"},{id:4,name:"Clients"}],clinician:[{id:1,name:"Details"},{id:2,name:"Clients"},{id:3,name:"Appointments"}],client:[{id:1,name:"Details"},{id:2,name:"Providers"},{id:3,name:"Appointments"}],device:{admin:[{id:1,name:"Managed"},{id:2,name:"Unmanaged"}],center:[{id:1,name:"Managed"},{id:2,name:"Unmanaged"}]},deviceDetail:[{id:1,name:"Details"},{id:2,name:"Usage"}],deviceUsageFilters:[{id:1,type:"search",label:"Search Device Usage",placeholder:"Search Device Usage"},{id:2,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"Active",value:"Active"},{id:3,name:"Inactive",value:"Inactive"}]}],usersListing:[{id:1,type:"search",label:"Search User",placeholder:"Search User"},{id:2,type:"filter",label:"Role",name:"role",items:[{id:1,name:"All",value:"All"},{id:2,name:"Center",value:"Center"},{id:3,name:"Counsellor",value:"Counsellor"},{id:4,name:"Client",value:"Client"}]}],counsellorListing:[{id:1,type:"search",label:"Search Provider",placeholder:"Search Provider"},{id:2,type:"searchAutoComplete",label:"Search Center",name:"Search Center"}],deviceListing:{admin:{managed:[{id:1,type:"search",label:"Search Device",placeholder:"Search Device"},{id:2,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"Available",value:"Available"},{id:3,name:"Assigned",value:"Assigned"},{id:4,name:"Repair",value:"Repair"}]},{id:3,type:"filter",label:"Device Type",name:"device_type",items:[{id:1,name:"All",value:"All"},{id:2,name:"iPad",value:"iPad"},{id:3,name:"iPhone",value:"iPhone"},{id:4,name:"Android Phone",value:"Android Phone"},{id:5,name:"Android Tablet",value:"Android Tablet"},{id:6,name:"Other",value:"Other"}]},{id:4,type:"searchAutoComplete",label:"Search Center",name:"Search Center"}],unmanaged:[{id:1,type:"search",label:"Search Device",placeholder:"Search Device"},{id:2,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"Active",value:"active"},{id:3,name:"Inactive",value:"inactive"}]}]},center:{bmc:[{id:1,type:"search",label:"Search Device",placeholder:"Search Device"},{id:2,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"Available",value:"Available"},{id:3,name:"Assigned",value:"Assigned"},{id:4,name:"Repair",value:"Repair"}]},{id:3,type:"filter",label:"Device Type",name:"device_type",items:[{id:1,name:"All",value:"All"},{id:2,name:"iPad",value:"iPad"},{id:3,name:"iPhone",value:"iPhone"},{id:4,name:"Android Phone",value:"Android Phone"},{id:5,name:"Android Tablet",value:"Android Tablet"},{id:6,name:"Other",value:"Other"}]}],centerOrClient:[{id:1,type:"search",label:"Search Device",placeholder:"Search Device"},{id:2,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"Active",value:"active"},{id:3,name:"Inactive",value:"inactive"}]}]}},adminProfile:{profileInfo:{username:"",email:"",created_at:"",logo:null,logo_image:"",domain:""},fields:[]},centerProfile:{profileInfo:{center_id:"",name:"",email:"",phone_number:"",address:"",logo:null,logo_image:"",domain:""},fields:[{id:"center_id",type:"text",name:"center_id",label:"Center ID",disabled:!0},{id:"name",type:"text",name:"name",label:"Name",disabled:!1,validators:["REQUIRED"],errorMessages:["This field is required!"]},{id:"email",type:"email",name:"email",label:"Email",disabled:!1,validators:["REQUIRED","isEmail"],errorMessages:["This field is required!","email is not valid"]},{id:"phone_number",type:"text",name:"phone_number",label:"Phone Number",disabled:!1,validators:["REQUIRED","MAX_PHONE_LENGTH"],errorMessages:["This field is required!","Phone number must be of 7 digits"]},{id:"address",type:"text",name:"address",label:"Address",disabled:!1,validators:["REQUIRED"],errorMessages:["This field is required!"]}],validationRules:{REQUIRED:function(e){return 0!==e.length},MAX_PHONE_LENGTH:function(e){return!e||7===e.length}}},counsellorProfile:{profileInfo:{first_name:"",last_name:"",email:"",phone:{area_code:"",phone_number:""},logo:null,logo_image:"",domain:""},fields:[{id:"first_name",type:"text",name:"first_name",label:"First Name",disabled:!1,validators:["REQUIRED"],errorMessages:["This field is required!"]},{id:"last_name",type:"text",name:"last_name",label:"Last Name",disabled:!1,validators:["REQUIRED"],errorMessages:["This field is required!"]},{id:"email",type:"email",name:"email",label:"Email",disabled:!1,validators:["REQUIRED","isEmail"],errorMessages:["This field is required!","email is not valid"]},{type:"phone",area_code:{id:"area_code",type:"text",name:"area_code",label:"Area Code",disabled:!1,validators:["REQUIRED","VALID_INPUT","MAX_CODE_LENGTH"],errorMessages:["This field is required","Invalid area code","Area code should have 3 digits"]},phone_number:{id:"phone_number",type:"text",name:"phone_number",label:"Phone Number",disabled:!1,validators:["REQUIRED","MAX_PHONE_LENGTH"],errorMessages:["This field is required!","Phone number must be of 7 digits"]}}],validationRules:{REQUIRED:function(e){return 0!==e.length},MAX_CODE_LENGTH:function(e){return!e||3===e.length},VALID_INPUT:function(e){return!e||!isNaN(e)},MAX_PHONE_LENGTH:function(e){return!e||7===e.length}}},centerSearchFilters:[{id:1,type:"search",name:"search",label:"Search Center",placeholder:"Search Center"},{id:2,type:"filter",label:"Center Type",name:"center_type",items:[{id:1,name:"All",value:"All"},{id:2,name:"CAC",value:"CAC"},{id:3,name:"Clinic",value:"Clinic"},{id:4,name:"Hospital",value:"Hospital"},{id:5,name:"Private",value:"Private"}]}],appointmentsListing:[{id:1,type:"search",name:"search",label:"Search Appointment",placeholder:"Search Appointment"},{id:2,type:"filter",label:"Status",name:"status",items:[{id:1,name:"All",value:"All"},{id:2,name:"Pending",value:"pending"},{id:3,name:"Scheduled",value:"scheduled"},{id:4,name:"Rescheduled",value:"rescheduled"},{id:5,name:"Cancelled",value:"cancelled"},{id:6,name:"Completed",value:"completed"}]}]},i={client:[{id:1,name:"Details"},{id:5,name:"Appointments"}],center:[{id:1,name:"Details"},{id:4,name:"Clients"},{id:5,name:"Appointments"}]}},660:function(e,a,t){"use strict";var n=t(8),i=t(7),r=t(3),l=t(2),o=t(9),s=t(92),c=t(536),d=t(5),u=t(12),m=t(15),b=t(208),p=t(57),h=t(60);function f(e){return Object(p.a)("MuiAlert",e)}var v,g=Object(h.a)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),j=t(557),O=t(42),x=t(1),_=Object(O.a)(Object(x.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),y=Object(O.a)(Object(x.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),A=Object(O.a)(Object(x.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),C=Object(O.a)(Object(x.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),S=t(644),E=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],P=Object(d.a)(b.a,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,a){var t=e.ownerState;return[a.root,a[t.variant],a["".concat(t.variant).concat(Object(m.a)(t.color||t.severity))]]}})((function(e){var a=e.theme,t=e.ownerState,i="light"===a.palette.mode?c.b:c.e,l="light"===a.palette.mode?c.e:c.b,o=t.color||t.severity;return Object(r.a)({},a.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===t.variant&&Object(n.a)({color:i(a.palette[o].light,.6),backgroundColor:l(a.palette[o].light,.9)},"& .".concat(g.icon),{color:"dark"===a.palette.mode?a.palette[o].main:a.palette[o].light}),o&&"outlined"===t.variant&&Object(n.a)({color:i(a.palette[o].light,.6),border:"1px solid ".concat(a.palette[o].light)},"& .".concat(g.icon),{color:"dark"===a.palette.mode?a.palette[o].main:a.palette[o].light}),o&&"filled"===t.variant&&{color:"#fff",fontWeight:a.typography.fontWeightMedium,backgroundColor:"dark"===a.palette.mode?a.palette[o].dark:a.palette[o].main})})),R=Object(d.a)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,a){return a.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),D=Object(d.a)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,a){return a.message}})({padding:"8px 0"}),w=Object(d.a)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,a){return a.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),k={success:Object(x.jsx)(_,{fontSize:"inherit"}),warning:Object(x.jsx)(y,{fontSize:"inherit"}),error:Object(x.jsx)(A,{fontSize:"inherit"}),info:Object(x.jsx)(C,{fontSize:"inherit"})},I=l.forwardRef((function(e,a){var t=Object(u.a)({props:e,name:"MuiAlert"}),n=t.action,l=t.children,c=t.className,d=t.closeText,b=void 0===d?"Close":d,p=t.color,h=t.icon,g=t.iconMapping,O=void 0===g?k:g,_=t.onClose,y=t.role,A=void 0===y?"alert":y,C=t.severity,I=void 0===C?"success":C,M=t.variant,T=void 0===M?"standard":M,N=Object(i.a)(t,E),L=Object(r.a)({},t,{color:p,severity:I,variant:T}),U=function(e){var a=e.variant,t=e.color,n=e.severity,i=e.classes,r={root:["root","".concat(a).concat(Object(m.a)(t||n)),"".concat(a)],icon:["icon"],message:["message"],action:["action"]};return Object(s.a)(r,f,i)}(L);return Object(x.jsxs)(P,Object(r.a)({role:A,elevation:0,ownerState:L,className:Object(o.a)(U.root,c),ref:a},N,{children:[!1!==h?Object(x.jsx)(R,{ownerState:L,className:U.icon,children:h||O[I]||k[I]}):null,Object(x.jsx)(D,{ownerState:L,className:U.message,children:l}),null!=n?Object(x.jsx)(w,{className:U.action,children:n}):null,null==n&&_?Object(x.jsx)(w,{ownerState:L,className:U.action,children:Object(x.jsx)(j.a,{size:"small","aria-label":b,title:b,color:"inherit",onClick:_,children:v||(v=Object(x.jsx)(S.a,{fontSize:"small"}))})}):null]}))}));a.a=I},726:function(e,a,t){},892:function(e,a,t){"use strict";t.r(a);var n=t(6),i=t(45),r=t(13),l=t(33),o=t.n(l),s=t(2),c=t(558),d=t(555),u=t(207),m=t(333),b=t(330),p=t(633),h=t(660),f=(t(46),t(332)),v=t(50),g=t(25),j=t(95),O=t(647),x=(t(51),t(112)),_=t(212),y=t(643),A=t(653),C=(t(655),t(726),t(1)),S=Object(v.a)(x.TextValidator)((function(){return{width:"100%",marginBottom:"16px"}})),E=(Object(v.a)(x.SelectValidator)((function(){return{width:"100%",marginBottom:"16px",marginTop:"8px"}})),Object(v.a)(f.a)((function(){return{display:"block",color:"#fff",marginTop:"20px",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}}))),P=Object(v.a)(c.a)((function(){return{position:"absolute",top:"6px",left:"25px"}})),R=Object(v.a)(d.a)((function(){return{width:"120px !important",height:"120px !important"}})),D=Object(v.a)(f.a)((function(){return{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:120,height:120,borderRadius:"50%",borderColor:"#3498db"}}));a.default=function(){var e=Object(g.f)(),a=Object(j.a)().user,t=Object(s.useState)(!1),l=Object(r.a)(t,2),c=l[0],d=l[1],v=Object(s.useState)((function(){return function(e){var a={};if(e&&e.role&&"admin"===e.role.type)a=O.b.adminProfile.profileInfo;else if(e&&e.role&&"center"===e.role.type)a=O.b.centerProfile.profileInfo;else if(e&&e.role&&"counsellor"===e.role.type){a=O.b.counsellorProfile.profileInfo;for(var t=0,n=Object.entries(a);t<n.length;t++){var i=Object(r.a)(n[t],2),l=i[0];i[1],"phone"===l&&(a.area_code=a.phone.area_code,a.phone_number=a.phone.phone_number)}delete a.phone}return a}(a)})),w=Object(r.a)(v,2),k=w[0],I=w[1],M=Object(s.useState)((function(){return function(e){var a=[];return e&&e.role&&"admin"===e.role.type?a=O.b.adminProfile.fields:e&&e.role&&"center"===e.role.type?a=O.b.centerProfile.fields:e&&e.role&&"counsellor"===e.role.type&&(a=O.b.counsellorProfile.fields),a}(a)})),T=Object(r.a)(M,2),N=T[0],L=(T[1],Object(s.useState)((function(){return function(e){var a=null;return e&&e.role&&"center"===e.role.type?a=O.b.centerProfile.validationRules:e&&e.role&&"counsellor"===e.role.type&&(a=O.b.counsellorProfile.validationRules),a}(a)}))),U=Object(r.a)(L,2),z=U[0],H=(U[1],Object(s.useState)(!1)),q=Object(r.a)(H,2),V=q[0],Q=q[1],Y=Object(s.useState)({status:"success",message:""}),B=Object(r.a)(Y,2),F=B[0],G=B[1],W=Object(s.useState)(!1),X=Object(r.a)(W,2),J=X[0],Z=X[1],K=Object(s.useState)(""),$=Object(r.a)(K,2),ee=$[0],ae=$[1];Object(s.useEffect)((function(){if(a&&a.id&&Object(i.a)(o.a.mark((function e(){var t,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_.x)(a.id);case 3:"UnauthorizedError"===(null===(i=e.sent)||void 0===i||null===(t=i.error)||void 0===t?void 0:t.name)&&(Z(!0),ae("Your session has expired. You will be logged out.")),i&&i.role&&"admin"===i.role.type?I(Object(n.a)(Object(n.a)({},k),{},{logo_image:i.cover_image||"",domain:i&&i.domain||""})):i&&i.role&&"center"===i.role.type?I(Object(n.a)(Object(n.a)({},k),{},{center_id:i&&i.username||"",name:i&&i.center&&i.center.name||"",email:i&&i.email||"",address:i&&i.center&&i.center.street_address1||"",phone_number:i&&i.center&&i.center.phone_number||"",logo_image:i&&i.center&&i.center.logo_image||"",domain:i&&i.domain||""})):i&&i.role&&"counsellor"===i.role.type&&I(Object(n.a)(Object(n.a)({},k),{},{first_name:i&&i.counsellor&&i.counsellor.first_name||"",last_name:i&&i.counsellor&&i.counsellor.last_name||"",email:i&&i.email||"",area_code:i&&i.counsellor&&i.counsellor.area_code||"",phone_number:i&&i.counsellor&&i.counsellor.phone_number||"",logo_image:i&&i.counsellor&&i.counsellor.logo_image||"",domain:i&&i.domain||""})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))(),z)for(var e=0,t=Object.entries(z);e<t.length;e++){var l=Object(r.a)(t[e],2),s=l[0],c=l[1];x.ValidatorForm.addValidationRule(s,c)}return function(){if(z)for(var e=0,a=Object.entries(z);e<a.length;e++){var t=Object(r.a)(a[e],2),n=t[0];t[1];x.ValidatorForm.removeValidationRule(n)}}}),[]);var te=function(e){var a=null;return"text"===e.type||"email"===e.type?a=Object(C.jsx)(S,{margin:"dense",id:e.id,name:e.name,label:e.label+"*",type:e.type,value:k[e.name],onChange:ne,onBlur:ie,disabled:!!e.disabled&&e.disabled,fullWidth:!0,validators:e.validators,errorMessages:e.errorMessages}):"phone"===e.type&&(a=Object(C.jsxs)(u.a,{container:!0,children:[Object(C.jsx)(u.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(C.jsx)(S,{margin:"dense",id:e.area_code.id,name:e.area_code.name,label:e.area_code.label+"*",type:e.area_code.type,value:k[e.area_code.name],onChange:ne,onBlur:ie,fullWidth:!0,disabled:!!e.area_code.disabled&&e.area_code.disabled,validators:["required","VALID_INPUT","MAX_CODE_LENGTH","REQUIRED"],errorMessages:["This field is required","Invalid area code","Area code should have 3 digits","This field is required"]})}),Object(C.jsx)(u.a,{item:!0,xs:1,sm:1,md:1,lg:1,children:Object(C.jsx)("div",{className:"phone_line",children:"\xa0"})}),Object(C.jsx)(u.a,{item:!0,xs:8,sm:8,md:8,lg:8,children:Object(C.jsx)(S,{margin:"dense",id:e.phone_number.id,name:e.phone_number.name,label:e.phone_number.label+"*",type:e.phone_number.type,value:k[e.phone_number.name],onChange:ne,onBlur:ie,fullWidth:!0,disabled:!!e.phone_number.disabled&&e.phone_number.disabled,validators:["required","VALID_INPUT","MAX_PHONE_LENGTH","REQUIRED"],errorMessages:["This field is required","Invalid phone number","Phone number must be of 7 digits","This field is required"]})})]})),a},ne=function(e){var a=e.target,t=a.name,i=a.value,r=Object(n.a)({},k);r[t]=i,I(r)},ie=function(e){var a=e.target,t=a.name,i=a.value,r=Object(n.a)({},k);r[t]=i,I(r)},re=function(e){return new Promise((function(a){var t=new FileReader;t.readAsDataURL(e),t.onload=function(e){a(e.target.result)},t.onerror=function(e){console.log("Error: ",e)}}))},le=function(){var e=Object(i.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.target.files[0],!["image/jpeg","image/jpg","image/png","image/svg","image/svg+xml"].includes(t.type)){e.next=9;break}return e.next=5,re(t);case 5:t.base64=e.sent,I(Object(n.a)(Object(n.a)({},k),{},{logo:t,logo_image:""})),e.next=10;break;case 9:A.b.error("Only files with following extensions are allowed: jpeg, jpg, png, svg",{theme:"colored"});case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(i.a)(o.a.mark((function e(a){var t,n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("files",a),n="",localStorage.accessToken&&(n=localStorage.accessToken),e.next=6,fetch("http://localhost:1337/api/upload",{method:"post",headers:{authorization:"Bearer "+n},body:t});case 6:return i=e.sent,e.next=9,i.text();case 9:return r=e.sent,e.abrupt("return",JSON.parse(r));case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),se=function(){var t=Object(i.a)(o.a.mark((function t(i){var r,l,s,c,u,m,b,p,h,f,v,g,j,O,x,y,A,C,S,E,P;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={},!a||!a.role||"admin"!==a.role.type){t.next=14;break}if(l=k.logo,s=k.logo_image,d(!0),!l){t.next=8;break}return t.next=7,oe(l);case 7:c=t.sent;case 8:r={data:{cover_image:s}},l&&(r.data.cover_image=c[0].url||""),u=a&&a.id,Object(_.B)(u,r).then((function(e){var a;"UnauthorizedError"===(null===e||void 0===e||null===(a=e.error)||void 0===a?void 0:a.name)?(Z(!0),ae("Your session has expired. You will be logged out.")):e?(d(!1),Q(!0),G(Object(n.a)(Object(n.a)({},F),{},{status:"success",message:"Admin Updated Successfully"}))):(d(!1),Q(!0),G(Object(n.a)(Object(n.a)({},F),{},{status:"error",message:"Something went wrong"})))})),t.next=38;break;case 14:if(!a||!a.role||"center"!==a.role.type){t.next=27;break}if(m=k.name,b=k.email,p=k.address,h=k.phone_number,f=k.logo,v=k.logo_image,d(!0),!f){t.next=21;break}return t.next=20,oe(f);case 20:g=t.sent;case 21:j=a&&a.center&&a.center.id,r={center:{data:{id:j,name:m,email:b,street_address1:p,phone_number:h,logo_image:v}},user:{data:{id:a&&a.id,email:b}}},f&&(r.center.data.logo_image=g[0].url||""),Object(_.e)(r,j).then((function(e){var a;"UnauthorizedError"===(null===e||void 0===e||null===(a=e.error)||void 0===a?void 0:a.name)?(Z(!0),ae("Your session has expired. You will be logged out.")):e&&"success"===e.status?(d(!1),Q(!0),G(Object(n.a)(Object(n.a)({},F),{},{status:e&&"success"===e.status?"success":"error",message:null===e||void 0===e?void 0:e.message}))):(d(!1),Q(!0),G(Object(n.a)(Object(n.a)({},F),{},{status:"error",message:"Something went wrong"})))})).catch((function(e){d(!1),Q(!0),G(Object(n.a)(Object(n.a)({},F),{},{status:"error",message:"Something went wrong"}))})),t.next=38;break;case 27:if(!a||!a.role||"counsellor"!==a.role.type){t.next=38;break}if(O=k.first_name,x=k.last_name,y=k.email,A=k.area_code,C=k.phone_number,S=k.logo,k.logo_image,d(!0),!S){t.next=34;break}return t.next=33,oe(S);case 33:E=t.sent;case 34:P=a&&a.counsellor&&a.counsellor.id,r={counsellor:{data:{id:P,name:O+" "+x,first_name:O,last_name:x,email:y,area_code:A,phone_number:C}},user:{data:{id:a&&a.id,email:y}}},S&&(r.counsellor.data.logo_image=E[0].url||""),Object(_.f)(r,P).then((function(a){var t;"UnauthorizedError"===(null===a||void 0===a||null===(t=a.error)||void 0===t?void 0:t.name)?(Z(!0),ae("Your session has expired. You will be logged out.")):a&&"success"===a.status?(d(!1),Q(!0),G(Object(n.a)(Object(n.a)({},F),{},{status:a&&"success"===a.status?"success":"error",message:null===a||void 0===a?void 0:a.message})),e(-1)):a&&"fail"===a.status?(d(!1),Q(!0),G(Object(n.a)(Object(n.a)({},F),{},{status:a&&"success"===a.status?"success":"error",message:null===a||void 0===a?void 0:a.message}))):(d(!1),Q(!0),G(Object(n.a)(Object(n.a)({},F),{},{status:"error",message:"Something went wrong"})))})).catch((function(e){d(!1),Q(!0),G(Object(n.a)(Object(n.a)({},F),{},{status:"error",message:"Something went wrong"}))}));case 38:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ce=k.logo,de=k.logo_image,ue=k.domain;return Object(C.jsxs)("div",{className:"EditProfile-container",children:[Object(C.jsx)("div",{className:"Profile-header",children:Object(C.jsx)("h1",{className:"Profile-heading",children:"Edit Profile"})}),Object(C.jsx)("div",{className:"Profile-card",children:Object(C.jsxs)(x.ValidatorForm,{onSubmit:se,onError:function(){return null},children:[Object(C.jsx)(u.a,{container:!0,rowSpacing:2,columnSpacing:6,children:N.map((function(e,a){return Object(C.jsx)(u.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:te(e)},a)}))}),a&&a.role&&"admin"===a.role.type&&Object(C.jsx)("div",{style:{marginBottom:"10px"}}),Object(C.jsxs)(u.a,{item:!0,lg:12,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},children:[ce||de?Object(C.jsx)(R,{src:ce?ce.base64:de?ue+de:"/assets/images/upload-logo.png"}):Object(C.jsxs)(D,{variant:"contained",component:"label",children:[Object(C.jsx)(m.a,{children:"file_upload_outlined"}),"Upload Logo",Object(C.jsx)("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:le})]}),Object(C.jsx)(u.a,{item:!0,style:{flexDirection:"column"},children:Object(C.jsx)(f.a,{variant:"contained",component:"label",color:"inherit",sx:{marginTop:"15px",height:"35px",marginBottom:"16px"},onClick:function(){return I(Object(n.a)(Object(n.a)({},k),{},{logo:null,logo_image:""}))},children:"Reset Logo"})})]}),Object(C.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[Object(C.jsxs)(b.a,{position:"relative",sx:{display:"block",marginTop:"20px"},children:[Object(C.jsx)(f.a,{disabled:c,color:"primary",variant:"contained",type:"submit",children:"Save"}),c&&Object(C.jsx)(P,{size:24,className:"buttonProgress"})]}),Object(C.jsx)(E,{onClick:function(){return e(-1)},children:"Cancel"})]})]})}),Object(C.jsx)(p.a,{open:V,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:function(){Q(!1),e(-1)},children:Object(C.jsx)(h.a,{onClose:function(){Q(!1),e(-1)},variant:"filled",severity:F.status,sx:{width:"100%"},children:F.message})}),Object(C.jsx)(y.a,{open:J,text:ee,onConfirmDialogClose:function(){ae(""),Z(!1)},onYesClick:function(){ae(""),Z(!1)}})]})}}}]);
//# sourceMappingURL=39.37d6e70f.chunk.js.map