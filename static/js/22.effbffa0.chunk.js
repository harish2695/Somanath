(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[22],{571:function(t,e,n){"use strict";var a=n(209);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(210)),i=n(1),o=(0,r.default)((0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm0 16H5V7h14v12zm-5.5-6c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5 1.5.67 1.5 1.5zM12 9c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4zm0 6.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"Preview");e.default=o},643:function(t,e,n){"use strict";n(2);var a=n(332),r=n(50),i=n(331),o=n(334),c=n(205),s=n(25),l=n(1),u={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #fff",boxShadow:24,p:4};Object(r.a)(a.a)((function(){return{display:"block",color:"#fff",marginTop:"20px",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}}));e.a=function(t){var e=t.open,n=t.onConfirmDialogClose,r=t.text,d=(t.onYesClick,Object(s.f)()),b=function(){n(),localStorage.removeItem("accessToken"),d("/session/signin")};return Object(l.jsx)("div",{children:Object(l.jsx)(i.a,{keepMounted:!0,open:e,onClose:function(){return b()},"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(l.jsxs)(c.a,{sx:u,children:[Object(l.jsx)(o.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",sx:{color:"#333"},children:r}),Object(l.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"1rem"},children:Object(l.jsx)(c.a,{position:"relative",sx:{display:"block",marginTop:"20px"},children:Object(l.jsx)(a.a,{color:"primary",variant:"contained",onClick:function(){return b()},children:"Ok"})})})]})})})}},645:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"h",(function(){return s})),n.d(e,"l",(function(){return l})),n.d(e,"n",(function(){return u})),n.d(e,"j",(function(){return d})),n.d(e,"m",(function(){return b})),n.d(e,"d",(function(){return f})),n.d(e,"g",(function(){return h})),n.d(e,"i",(function(){return j})),n.d(e,"f",(function(){return v})),n.d(e,"k",(function(){return g}));var a=n(26),r=function(t,e){var n="/api/clients?pagination[page]=".concat(t,"&counsellor=").concat(e);return Object(a.b)("GET",n).then((function(t){return t})).then((function(t){return t}))},i=function(t,e){var n="/api/centers?pagination[page]=".concat(t,"&counsellor=").concat(e);return Object(a.b)("GET",n).then((function(t){return t})).then((function(t){return t}))},o=function(t){var e="/api/counsellors?pagination[page]=".concat(t);return Object(a.b)("GET",e).then((function(t){return t})).catch((function(t){return t}))},c=function(t,e){var n="/api/sessions?pagination[page]=".concat(t,"&counsellor=").concat(e);return Object(a.b)("GET",n).then((function(t){return t})).then((function(t){return t}))},s=function(t,e,n,r){console.log(r);var i="/api/sessions?filter=".concat(t,"&counsellor=").concat(n,"&filterType=").concat(r);return console.log(t),Object(a.b)("GET",i).then((function(t){return t})).catch((function(t){return t}))},l=function(t,e){var n="/api/sessions?find=".concat(t);return Object(a.b)("GET",n).then((function(t){return t})).catch((function(t){return t}))},u=function(t,e){var n="/api/sessions/".concat(t);return Object(a.b)("PUT",n,e).then((function(t){return t})).then((function(t){return t}))},d=function(t,e){var n="/api/clients?find=".concat(t);return Object(a.b)("GET",n).then((function(t){return t})).catch((function(t){return t}))},b=function(t,e){var n="/api/counsellors?pagination[page]=".concat(e,"&search=").concat(t);return Object(a.b)("GET",n).then((function(t){return t})).catch((function(t){return t}))},f=function(t){var e="/api/counsellors/".concat(t);return Object(a.b)("GET",e).then((function(t){return t})).catch((function(t){return t}))},h=function(t,e,n,r){console.log(r);var i="/api/clients?filter=".concat(t,"&counsellor=").concat(n,"&filterType=").concat(r);return console.log(t),Object(a.b)("GET",i).then((function(t){return t})).catch((function(t){return t}))},j=function(t,e,n){var r="/api/centers?search=".concat(t,"&counsellor=").concat(n);return console.log(t),Object(a.b)("GET",r).then((function(t){return t})).catch((function(t){return t}))},v=function(t,e,n){var r="/api/centers?filter=".concat(t,"&counsellor=").concat(n);return console.log(t),Object(a.b)("GET",r).then((function(t){return t})).catch((function(t){return t}))},g=function(t){var e=t&&t.search||"",n=t&&t.page||1,r=t&&t.centerName,i="/api/counsellors?search=".concat(e,"&pagination[page]=").concat(n);return r&&(i+="&centerName=".concat(r)),Object(a.b)("GET",i).then((function(t){return t})).catch((function(t){return t}))}},652:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(3),r=n(216);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Object(r.a)(t)?e:Object(a.a)({},e,{ownerState:Object(a.a)({},e.ownerState,n)})}},654:function(t,e,n){"use strict";var a=n(216);e.a=function(t){return!t||!Object(a.a)(t)}},656:function(t,e,n){"use strict";var a=n(2);t.exports=function(t){var e=a.useState(t),n=e[0],r=e[1],i=a.useRef(n);return[n,a.useCallback((function(t){i.current=function(t){return"function"===typeof t}(t)?t(i.current):t,r(i.current)}),[]),i]}},667:function(t,e,n){"use strict";var a=n(13),r=n(2),i=n.n(r),o=n(332),c=n(627),s=n(628),l=n(637),u=n(638),d=n(330),b=n(560),f=n(561),h=n(551),j=n(636),v=n(207),g=n(309),O=n(639),p=n(50),m=n(51),x=n.n(m),C=n(656),y=n.n(C),S=n(1);Object(p.a)(o.a)((function(){return{display:"block",color:"#fff",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}}));e.a=function(t){var e=Object(r.useState)(""),n=Object(a.a)(e,2),p=n[0],m=n[1],C=y()([]),w=Object(a.a)(C,3),_=w[0],k=w[1],A=w[2],N=Object(r.useState)(""),R=Object(a.a)(N,2),T=R[0],E=R[1],B=Object(r.useState)([]),I=Object(a.a)(B,2),z=I[0],D=I[1],G=Object(r.useState)(""),M=Object(a.a)(G,2),Y=(M[0],M[1]),V=function(){E(""),k([]),D([]),t.handleClose()};Object(r.useEffect)((function(){t.data&&(m(t.data.clientId),Y(t.data.sessionId),t.multipleSession&&t.data.notes&&D(t.data.notes),t.multipleSession||(t.data.notes&&t.data.notes.sort((function(t,e){return new Date(e.updatedAt)-new Date(t.updatedAt)})),k(t.data.notes)))}),[t]);return Object(S.jsx)(i.a.Fragment,{children:Object(S.jsxs)(c.a,{fullWidth:!0,maxWidth:"sm",open:t.open,onClose:V,children:[Object(S.jsx)(s.a,{children:"Notes"}),Object(S.jsxs)(l.a,{children:[Object(S.jsxs)(u.a,{children:["Client : ",p]}),t.multipleSession&&Object(S.jsx)(d.a,{noValidate:!0,component:"form",lg:12,md:6,sm:12,xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",width:"50%"},children:Object(S.jsxs)(b.a,{sx:{mt:2,minWidth:120},children:[Object(S.jsx)(f.a,{htmlFor:"max-width",children:"Select Session"}),Object(S.jsx)(h.a,{autoFocus:!0,value:T,onChange:function(t){E(t.target.value);var e=z.filter((function(e){return e.attributes.session_id==t.target.value}));e&&(e[0].attributes.notes.data.sort((function(t,e){return new Date(e.updatedAt)-new Date(t.updatedAt)})),k(function(t){var e=[];return t&&t.map((function(t){e.push(t.attributes)})),e}(e[0].attributes.notes.data))),console.log(A.current)},label:"Select Session",inputProps:{name:"max-width",id:"max-width"},children:z&&z.map((function(t,e){return Object(S.jsx)(j.a,{value:t.attributes.session_id,children:"".concat(t.attributes.session_id," - ").concat(x()(t.attributes.scheduled_at).format("DD MMMM, YYYY"))},e)}))})]})}),Object(S.jsxs)(u.a,{children:[A.current&&A.current.map((function(t,e){return Object(S.jsxs)(v.a,{item:!0,lg:12,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(S.jsx)(g.a,{fullWidth:!0,multiline:!0,rows:3,inputProps:{readOnly:!0},defaultValue:t.details},"".concat(e)),Object(S.jsxs)(v.a,{container:!0,style:{display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)(v.a,{children:t.added_by}),Object(S.jsx)(v.a,{children:x()(t.updatedAt).format("DD/MM/YYYY hh:mm A")})]})]})})),!_&&z&&Object(S.jsx)(v.a,{mt:2,children:"No Record Found"})]})]}),Object(S.jsx)(O.a,{children:Object(S.jsx)(o.a,{variant:"contained",type:"submit",onClick:V,children:"Close"})})]})})}},669:function(t,e,n){"use strict";var a=n(13),r=(n(2),n(636)),i=n(207),o=n(330),c=n(560),s=n(561),l=n(551),u=n(332),d=n(309),b=n(213),f=n.n(b),h=(n(341),n(1));e.a=function(t){var e=function(e){return"Gender"==e?t.genderValue.map((function(t,e){return Object(h.jsx)(r.a,{value:t,children:t},e)})):t.filterValue.map((function(t,e){return Object(h.jsx)(r.a,{value:t,children:t},e)}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(i.a,{sx:{marginTop:"0px",marginBottom:"20px"},container:!0,rowSpacing:3,columnSpacing:6,children:[Object(h.jsx)(i.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(h.jsx)(d.a,{sx:{width:"100%"},label:t.searchLabel,variant:"outlined",onChange:t.handleSearch,placeholder:t.searchLabel,type:"text",value:t.searchValue,autoFocus:!0,InputProps:{startAdornment:Object(h.jsx)(f.a,{})}})}),t.multiFilter?Object.entries(t.type).map((function(n,r){var u=Object(a.a)(n,2),d=u[0];return u[1],Object(h.jsx)(i.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(h.jsx)(o.a,{children:Object(h.jsxs)(c.a,{fullWidth:!0,children:[Object(h.jsx)(s.a,{sx:{backgroundColor:"#fafafa",padding:"0.25rem"},children:d}),Object(h.jsx)(l.a,{id:"demo-simple-select",value:"Gender"==d?t.genderSelectValue:t.selectValue,label:"Age",onChange:function(e){return t.handleChange(e,d)},placeholder:"Search Center",children:e(d)})]})})},"".concat(r))})):Object(h.jsx)(i.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(h.jsx)(o.a,{children:Object(h.jsxs)(c.a,{fullWidth:!0,children:[Object(h.jsx)(s.a,{sx:{backgroundColor:"#fafafa",padding:"0.25rem"},children:t.label}),Object(h.jsx)(l.a,{id:"demo-simple-select",value:t.selectValue,label:"Age",onChange:function(e){return t.handleChange(e)},placeholder:"Search Center",children:t.filterValue&&t.filterValue.map((function(t,e){return Object(h.jsx)(r.a,{value:t,children:t},e)}))})]})})})]}),Object(h.jsx)(c.a,{sx:{marginBottom:"20px",display:"flex",width:"100%"},children:Object(h.jsx)(u.a,{color:"primary",variant:"contained",onClick:t.handleReset,sx:{alignSelf:"flex-end"},children:"Reset"})})]})}},672:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return u}));var a=n(51),r=n.n(a),i={client_id:"Client ID",clinician:"Provider",name:"Record Name",gender_bio:"Birth Gender",gender_identified:"ID Gender",license:"License",device:"Device",appointment:"Appointment"};function o(t){var e=[];return Array.isArray(t)?(t.forEach((function(t){e.push(s(t))})),e.meta=i):e.push(s(t)),e}function c(t){var e,n,a="NotScheduled",r=null===t||void 0===t||null===(e=t.attributes)||void 0===e||null===(n=e.sessions)||void 0===n?void 0:n.data;if(null!==r&&void 0!==r&&r.length)for(var i=0;i<r.length;i++){var o,c,s=r[i];"pending"!==(null===s||void 0===s||null===(o=s.attributes)||void 0===o?void 0:o.status)&&"scheduled"!==(null===s||void 0===s||null===(c=s.attributes)||void 0===c?void 0:c.status)||(a="Scheduled")}else a="NotScheduled";return a}function s(t){var e,n,a,r,i,o;return{clientID:t&&t.id||"",client_id:t&&t.attributes&&t.attributes.client_id||"",clinician_status:t&&t.attributes&&t.attributes.counsellor&&null!==(e=t.attributes)&&void 0!==e&&null!==(n=e.counsellor)&&void 0!==n&&n.data?null===(a=t.attributes)||void 0===a||null===(r=a.counsellor)||void 0===r||null===(i=r.data)||void 0===i||null===(o=i.attributes)||void 0===o?void 0:o.name:"Not Assigned",name:t&&t.attributes&&t.attributes.name||"",gender_bio:t&&t.attributes&&t.attributes.gender_bio||"",gender_identified:t&&t.attributes&&t.attributes.gender_identified||"",license:t&&t.attributes&&t.attributes.license&&t.attributes.license.data?"Issued":"Not Issued",device_status:t&&t.attributes&&t.attributes.license&&t.attributes.license.data&&t.attributes.license.data.attributes&&t.attributes.license.data.attributes.device&&t.attributes.license.data.attributes.device.data&&t.attributes.license.data.attributes.device.data.id?t.attributes.license.data.attributes.device.data.attributes.device_id:"Not Assigned",appointment:c(t)}}function l(t){return t.pagination}function u(t){var e=[];return Array.isArray(t)?t.forEach((function(t){e.push(d(t))})):e=d(t),e}function d(t){return{id:t.id,centerId:t&&t.user&&t.user.username,name:t.name,email:t.email,phoneNumber:t.phone_number,firstName:t.first_name,logo:"http://localhost:1337"+t.logo_image,lastName:t.last_name,country:t.country,state:t.state,city:t.city,postalCode:t.postal_code,areaCode:t.area_code,centerType:t.center_type,verified:t.is_verified,address:b(t.street_address1,t.street_address2),createdAt:r()(t.createdAt).format("DD MMMM, YYYY")}}function b(t,e){return t+" "+e}},692:function(t,e,n){"use strict";var a=n(8),r=n(7),i=n(3),o=n(2),c=n(9),s=function(t){var e=o.useRef({});return o.useEffect((function(){e.current=t})),e.current},l=n(92),u=n(652);var d=n(60),b=n(57);function f(t){return Object(b.a)("BaseBadge",t)}Object(d.a)("BaseBadge",["root","badge","invisible"]);var h=n(1),j=["badgeContent","component","children","className","components","componentsProps","invisible","max","showZero"],v=o.forwardRef((function(t,e){var n=t.component,a=t.children,o=t.className,d=t.components,b=void 0===d?{}:d,v=t.componentsProps,g=void 0===v?{}:v,O=t.max,p=void 0===O?99:O,m=t.showZero,x=void 0!==m&&m,C=Object(r.a)(t,j),y=function(t){var e=t.badgeContent,n=t.invisible,a=void 0!==n&&n,r=t.max,i=void 0===r?99:r,o=t.showZero,c=void 0!==o&&o,l=s({badgeContent:e,max:i}),u=a;!1!==a||0!==e||c||(u=!0);var d=u?l:t,b=d.badgeContent,f=d.max,h=void 0===f?i:f;return{badgeContent:b,invisible:u,max:h,displayValue:b&&Number(b)>h?"".concat(h,"+"):b}}(Object(i.a)({},t,{max:p})),S=y.badgeContent,w=y.max,_=y.displayValue,k=y.invisible,A=Object(i.a)({},t,{badgeContent:S,invisible:k,max:w,showZero:x}),N=function(t){var e={root:["root"],badge:["badge",t.invisible&&"invisible"]};return Object(l.a)(e,f,void 0)}(A),R=n||b.Root||"span",T=Object(u.a)(R,Object(i.a)({},C,g.root),A),E=b.Badge||"span",B=Object(u.a)(E,g.badge,A);return Object(h.jsxs)(R,Object(i.a)({},T,{ref:e},C,{className:Object(c.a)(N.root,T.className,o),children:[a,Object(h.jsx)(E,Object(i.a)({},B,{className:Object(c.a)(N.badge,B.className),children:_}))]}))})),g=n(5),O=n(12),p=n(654),m=n(15);function x(t){return Object(b.a)("MuiBadge",t)}var C=Object(d.a)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),y=["anchorOrigin","className","component","components","componentsProps","overlap","color","invisible","max","badgeContent","showZero","variant"],S=Object(g.a)("span",{name:"MuiBadge",slot:"Root",overridesResolver:function(t,e){return e.root}})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),w=Object(g.a)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:function(t,e){var n=t.ownerState;return[e.badge,e[n.variant],e["anchorOrigin".concat(Object(m.a)(n.anchorOrigin.vertical)).concat(Object(m.a)(n.anchorOrigin.horizontal)).concat(Object(m.a)(n.overlap))],"default"!==n.color&&e["color".concat(Object(m.a)(n.color))],n.invisible&&e.invisible]}})((function(t){var e=t.theme,n=t.ownerState;return Object(i.a)({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},"default"!==n.color&&{backgroundColor:(e.vars||e).palette[n.color].main,color:(e.vars||e).palette[n.color].contrastText},"dot"===n.variant&&{borderRadius:4,height:8,minWidth:8,padding:0},"top"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&Object(a.a)({top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%"},"&.".concat(C.invisible),{transform:"scale(0) translate(50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&Object(a.a)({bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%"},"&.".concat(C.invisible),{transform:"scale(0) translate(50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&Object(a.a)({top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%"},"&.".concat(C.invisible),{transform:"scale(0) translate(-50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&Object(a.a)({bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%"},"&.".concat(C.invisible),{transform:"scale(0) translate(-50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&Object(a.a)({top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%"},"&.".concat(C.invisible),{transform:"scale(0) translate(50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&Object(a.a)({bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%"},"&.".concat(C.invisible),{transform:"scale(0) translate(50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&Object(a.a)({top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%"},"&.".concat(C.invisible),{transform:"scale(0) translate(-50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&Object(a.a)({bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%"},"&.".concat(C.invisible),{transform:"scale(0) translate(-50%, 50%)"}),n.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})})),_=o.forwardRef((function(t,e){var n,a,o,u,d=Object(O.a)({props:t,name:"MuiBadge"}),b=d.anchorOrigin,f=void 0===b?{vertical:"top",horizontal:"right"}:b,j=d.className,g=d.component,C=void 0===g?"span":g,_=d.components,k=void 0===_?{}:_,A=d.componentsProps,N=void 0===A?{}:A,R=d.overlap,T=void 0===R?"rectangular":R,E=d.color,B=void 0===E?"default":E,I=d.invisible,z=void 0!==I&&I,D=d.max,G=d.badgeContent,M=d.showZero,Y=void 0!==M&&M,V=d.variant,P=void 0===V?"standard":V,L=Object(r.a)(d,y),W=s({anchorOrigin:f,color:B,overlap:T,variant:P}),F=z;!1===z&&(0===G&&!Y||null==G&&"dot"!==P)&&(F=!0);var H,Z=F?W:d,U=Z.color,J=void 0===U?B:U,q=Z.overlap,K=void 0===q?T:q,Q=Z.anchorOrigin,X=void 0===Q?f:Q,$=Z.variant,tt=void 0===$?P:$,et=function(t){var e=t.color,n=t.anchorOrigin,a=t.invisible,r=t.overlap,i=t.variant,o=t.classes,c=void 0===o?{}:o,s={root:["root"],badge:["badge",i,a&&"invisible","anchorOrigin".concat(Object(m.a)(n.vertical)).concat(Object(m.a)(n.horizontal)),"anchorOrigin".concat(Object(m.a)(n.vertical)).concat(Object(m.a)(n.horizontal)).concat(Object(m.a)(r)),"overlap".concat(Object(m.a)(r)),"default"!==e&&"color".concat(Object(m.a)(e))]};return Object(l.a)(s,x,c)}(Object(i.a)({},d,{anchorOrigin:X,invisible:F,color:J,overlap:K,variant:tt}));return"dot"!==tt&&(H=G&&Number(G)>D?"".concat(D,"+"):G),Object(h.jsx)(v,Object(i.a)({invisible:z,badgeContent:H,showZero:Y,max:D},L,{components:Object(i.a)({Root:S,Badge:w},k),className:Object(c.a)(j,et.root,null==(n=N.root)?void 0:n.className),componentsProps:{root:Object(i.a)({},N.root,Object(p.a)(k.Root)&&{as:C,ownerState:Object(i.a)({},null==(a=N.root)?void 0:a.ownerState,{anchorOrigin:X,color:J,overlap:K,variant:tt})}),badge:Object(i.a)({},N.badge,{className:Object(c.a)(et.badge,null==(o=N.badge)?void 0:o.className)},Object(p.a)(k.Badge)&&{ownerState:Object(i.a)({},null==(u=N.badge)?void 0:u.ownerState,{anchorOrigin:X,color:J,overlap:K,variant:tt})})},ref:e}))}));e.a=_},700:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var a=n(45),r=n(6),i=n(13),o=n(33),c=n.n(o),s=n(2),l=n(656),u=n.n(l),d=n(669),b=n(95),f=n(1),h=function(t){var e=t.searchClient,n=t.filterClient,o=t.fetchClientList,l=t.searchResult,h=t.page,j=Object(b.a)().user,v=Object(s.useState)({Gender:"All",Ethnicity:"All"}),g=Object(i.a)(v,2),O=g[0],p=g[1],m=u()({search:"",ethnicity:"All",gender:"All"}),x=Object(i.a)(m,3),C=x[0],y=x[1],S=x[2],w=Object(s.useState)(["All","American Indian","Alaska Native","Asian","Black or African American","Hispanic or Latino","Native Hawaiian","Pacific Islander","White","Unknown"]),_=Object(i.a)(w,2),k=_[0],A=(_[1],Object(s.useState)(["All","Male","Female","Other"])),N=Object(i.a)(A,2),R=N[0],T=(N[1],function(){var t=Object(a.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.target.value,y(Object(r.a)(Object(r.a)({},C),{},{search:a})),a&&a.length>2?(e(a,O,h),l(!0)):""===a&&(o(h,j.counsellor.id),l(!1));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Object(f.jsx)(d.a,{handleSearch:T,handleChange:function(t,e){var a=t.target.value;"Gender"==e?y(Object(r.a)(Object(r.a)({},C),{},{gender:a})):"Ethnicity"==e&&y(Object(r.a)(Object(r.a)({},C),{},{ethnicity:a})),"All"!==a?(l(!0),n(a,h,e)):(l(!1),o(h,j.counsellor.id))},filterValue:k,genderValue:R,multiFilter:!0,selectValue:S.current.ethnicity,genderSelectValue:S.current.gender,searchValue:S.current.search,label:"Ethnicity",searchLabel:"Search Client",type:O,handleReset:function(){p({Gender:"All",Ethnicity:"All"}),y({search:"",ethnicity:"All",gender:"All"}),o(h,j.counsellor.id)}})}},701:function(t,e,n){},907:function(t,e,n){"use strict";n.r(e);var a=n(45),r=n(13),i=n(33),o=n.n(i),c=n(2),s=n(332),l=n(557),u=n(692),d=n(207),b=n(571),f=n.n(b),h=n(50),j=n(25),v=n(94),g=n(135),O=n(73),p=n(645),m=n(95),x=(n(656),n(700)),C=(n(669),n(667)),y=n(643),S=(n(701),n(672)),w=n(1);Object(h.a)(s.a)((function(){return{display:"block",color:"#fff",width:"86px",backgroundColor:"#e15260","&:hover":{backgroundColor:"#cc2333",color:"#fff"}}}));e.default=function(){var t=Object(j.f)(),e=Object(m.a)().user,n=Object(c.useState)(!1),i=Object(r.a)(n,2),s=i[0],b=i[1],h=Object(c.useState)(),_=Object(r.a)(h,2),k=_[0],A=_[1],N=Object(c.useState)(!1),R=Object(r.a)(N,2),T=R[0],E=R[1],B=Object(c.useState)([]),I=Object(r.a)(B,2),z=I[0],D=I[1],G=Object(c.useState)(!1),M=Object(r.a)(G,2),Y=M[0],V=M[1],P=Object(c.useState)(!1),L=Object(r.a)(P,2),W=L[0],F=L[1],H=Object(c.useState)(""),Z=Object(r.a)(H,2),U=Z[0],J=Z[1],q=Object(c.useState)(0),K=Object(r.a)(q,2),Q=K[0],X=(K[1],Object(c.useState)({})),$=Object(r.a)(X,2),tt=$[0],et=$[1],nt=function(){var t=Object(a.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.counsellor.id,b(!0),Object(p.c)(n,a).then((function(t){var e;if(t)if(console.log(t),b(!1),"UnauthorizedError"===(null===t||void 0===t||null===(e=t.error)||void 0===e?void 0:e.name))F(!0),J("Your session has expired. You will be logged out.");else{var n=rt(t.data);A(n),et(Object(S.c)(t.meta))}})).catch((function(t){return console.log(t)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),at=function(t,e){var n=0;return 1==t?n=e[0].attributes.duration+" mins":(n=e&&e.reduce((function(t,e){return t.attributes.duration+e.attributes.duration})),Object(O.e)(n))},rt=function(t){var e=[];return console.log(t),t.forEach((function(t){var n,a,r,i=t.attributes,o=null!==(n=t.attributes.center)&&void 0!==n&&n.data?t.attributes.center.data.attributes:null,c=t.attributes.sessions.data?t.attributes.sessions:null,s=(null!==(a=t.attributes.counsellor)&&void 0!==a&&a.data&&t.attributes.counsellor.data.attributes,null!==(r=t.attributes)&&void 0!==r&&r.traumas?function(t){return t.map((function(t){return t.attributes.trauma_code})).join(", ")}(t.attributes.traumas.data):""),l={id:t.id,clientId:i.client_id,recordName:null===i||void 0===i?void 0:i.name,center:o?o.name:"",gender:i.gender_bio,traumas:s,ethnicity:i.ethnicity?i.ethnicity:"",sessionCount:c.data.length>0?c.data.length:"-",sessionHours:c.data.length>0?at(c.data.length,c.data):"-",view_notes:{clientId:i.client_id,clientName:i.name,sessionId:c.data.length>0?c.data[0].id:"-",center_id:o?o.center_id:"-",notes:c.data.length>0?c.data:""}};e.push(l)})),e.meta={id:"ID",clientId:"Client ID",recordName:"Record Name",center:"Center",gender:"Birth Gender",traumas:"Trauma",ethnicity:"Ethnicity",sessionCount:"Sessions",sessionHours:"Sessions Hours",view_notes:"Notes"},e},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;t&&t.stopPropagation(),D(e),V(n)};return Object(c.useEffect)((function(){nt(Q,e.counsellor.id)}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(d.a,{className:"client-container",children:[Object(w.jsx)(d.a,{className:"client-breadcrumb",children:Object(w.jsx)(v.b,{routeSegments:[{name:"All Clients"}]})}),Object(w.jsx)(x.a,{filterClient:function(t,n,a){b(!0),Object(p.g)(t,n,e.counsellor.id,a).then((function(t){var e;b(!1),"UnauthorizedError"===(null===t||void 0===t||null===(e=t.error)||void 0===e?void 0:e.name)?(F(!0),J("Your session has expired. You will be logged out.")):A(rt(t.data))})).catch((function(t){console.log("error",t)}))},fetchClientList:nt,searchResult:E,searchClient:function(t,e,n){b(!0),Object(p.j)(t,n).then((function(t){var e;b(!1),"UnauthorizedError"===(null===t||void 0===t||null===(e=t.error)||void 0===e?void 0:e.name)?(F(!0),J("Your session has expired. You will be logged out.")):A(rt(t.data))})).catch((function(t){console.log("error",t)}))},page:Q}),k&&Object(w.jsx)(v.d,{role:e.role.name,data:k,getCellContent:function(t,e){var n=null;if("view_notes"===t)n=function(t){return Object(w.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(w.jsx)(l.a,{"aria-label":"view",color:"primary",onClick:function(e){return it(e,t,!0)},children:Object(w.jsx)(u.a,{badgeContent:t.notes?t.notes.length:0,color:"secondary",children:Object(w.jsx)(f.a,{})})})})}(e);else n=e;return n},searchResult:T,onClick:function(e){t("/client-details/".concat(e),{id:e})},fetchData:nt,pageDetails:tt}),s&&Object(w.jsx)(g.a,{})]}),Object(w.jsx)(C.a,{open:Y,multipleSession:!0,data:z,handleClose:function(){it(null,null,!1)}}),Object(w.jsx)(y.a,{open:W,text:U,onConfirmDialogClose:function(){J(""),F(!1)},onYesClick:function(){J(""),F(!1)}})]})}}}]);
//# sourceMappingURL=22.effbffa0.chunk.js.map